

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; ST67W611M1 AT Commands v2.0.75 documentation</title>
      <link rel="stylesheet" type="text/css" href="static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="static/style.css?v=cef9d956" />

  
      <script src="static/jquery.js?v=5d32c60e"></script>
      <script src="static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="static/documentation_options.js?v=839e4f84"></script>
      <script src="static/doctools.js?v=9bcbadda"></script>
      <script src="static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            ST67W611M1 AT Commands
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#at-messages">AT Messages</a><ul>
<li><a class="reference internal" href="#response-messages">Response Messages</a></li>
<li><a class="reference internal" href="#message-reports">Message Reports</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#basic-at-commands">Basic AT commands</a><ul>
<li><a class="reference internal" href="#overview-of-basic-at-commands">Overview of basic AT commands</a></li>
<li><a class="reference internal" href="#basic-at-command-description">Basic AT command description</a><ul>
<li><a class="reference internal" href="#at">AT</a><ul>
<li><a class="reference internal" href="#execute-command">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-gmr">AT+GMR</a><ul>
<li><a class="reference internal" href="#id1">Execute Command</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-rst">AT+RST</a><ul>
<li><a class="reference internal" href="#id2">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-restore">AT+RESTORE</a><ul>
<li><a class="reference internal" href="#id3">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cmd">AT+CMD?</a><ul>
<li><a class="reference internal" href="#query-command">Query Command</a></li>
<li><a class="reference internal" href="#id4">Parameters</a></li>
<li><a class="reference internal" href="#id5">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ate">ATE</a><ul>
<li><a class="reference internal" href="#id6">Execute Command</a></li>
<li><a class="reference internal" href="#id7">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-sysram">AT+SYSRAM?</a><ul>
<li><a class="reference internal" href="#id8">Query Command</a></li>
<li><a class="reference internal" href="#id9">Parameters</a></li>
<li><a class="reference internal" href="#id10">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-sysmsg">AT+SYSMSG?</a><ul>
<li><a class="reference internal" href="#id11">Query Command</a></li>
<li><a class="reference internal" href="#set-command">Set Command</a></li>
<li><a class="reference internal" href="#parameter">Parameter</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#id12">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-syslog">AT+SYSLOG?</a><ul>
<li><a class="reference internal" href="#id13">Query Command</a></li>
<li><a class="reference internal" href="#id14">Set Command</a></li>
<li><a class="reference internal" href="#id15">Parameter</a></li>
<li><a class="reference internal" href="#id16">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-sysstore">AT+SYSSTORE?</a><ul>
<li><a class="reference internal" href="#id17">Query Command</a></li>
<li><a class="reference internal" href="#id18">Set Command</a></li>
<li><a class="reference internal" href="#id19">Parameter</a></li>
<li><a class="reference internal" href="#note">Note</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-temp">AT+TEMP?</a><ul>
<li><a class="reference internal" href="#id20">Query Command</a></li>
<li><a class="reference internal" href="#id21">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-efuse-w">AT+EFUSE-W</a><ul>
<li><a class="reference internal" href="#id22">Set Command</a></li>
<li><a class="reference internal" href="#id23">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-efuse-r">AT+EFUSE-R</a><ul>
<li><a class="reference internal" href="#id24">Set Command</a></li>
<li><a class="reference internal" href="#id25">Notes</a></li>
<li><a class="reference internal" href="#id26">Example</a></li>
<li><a class="reference internal" href="#id27">Parameter</a></li>
<li><a class="reference internal" href="#id28">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-efuse-cfm">AT+EFUSE-CFM</a><ul>
<li><a class="reference internal" href="#id29">Set Command</a></li>
<li><a class="reference internal" href="#id30">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-flash-w">AT+FLASH-W</a><ul>
<li><a class="reference internal" href="#id31">Set Command</a></li>
<li><a class="reference internal" href="#id32">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-flash-r">AT+FLASH-R</a><ul>
<li><a class="reference internal" href="#id33">Set Command</a></li>
<li><a class="reference internal" href="#id34">Example</a></li>
<li><a class="reference internal" href="#id35">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-flash-e">AT+FLASH-E</a><ul>
<li><a class="reference internal" href="#id36">Set Command</a></li>
<li><a class="reference internal" href="#id37">Example</a></li>
<li><a class="reference internal" href="#id38">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-iopupd">AT+IOPUPD</a><ul>
<li><a class="reference internal" href="#id39">Set Command</a></li>
<li><a class="reference internal" href="#id40">Example</a></li>
<li><a class="reference internal" href="#id41">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ioout">AT+IOOUT</a><ul>
<li><a class="reference internal" href="#id42">Set Command</a></li>
<li><a class="reference internal" href="#id43">Example</a></li>
<li><a class="reference internal" href="#id44">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ioin">AT+IOIN</a><ul>
<li><a class="reference internal" href="#id45">Set Command</a></li>
<li><a class="reference internal" href="#id46">Query Command</a></li>
<li><a class="reference internal" href="#id47">Example</a></li>
<li><a class="reference internal" href="#id48">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-iorst">AT+IORST</a><ul>
<li><a class="reference internal" href="#id49">Set Command</a></li>
<li><a class="reference internal" href="#id50">Example</a></li>
<li><a class="reference internal" href="#id51">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-part">AT+PART</a><ul>
<li><a class="reference internal" href="#id52">Query Command</a></li>
<li><a class="reference internal" href="#id53">Example</a></li>
<li><a class="reference internal" href="#id54">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-otastart">AT+OTASTART</a><ul>
<li><a class="reference internal" href="#id55">Set Command</a></li>
<li><a class="reference internal" href="#id56">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-otasend">AT+OTASEND</a><ul>
<li><a class="reference internal" href="#id57">Set Command</a></li>
<li><a class="reference internal" href="#id58">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-otafin">AT+OTAFIN</a><ul>
<li><a class="reference internal" href="#id59">Set Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-fs">AT+FS</a><ul>
<li><a class="reference internal" href="#id60">Set Command</a></li>
<li><a class="reference internal" href="#id61">Parameters</a></li>
<li><a class="reference internal" href="#id62">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-gmac">AT+GMAC</a><ul>
<li><a class="reference internal" href="#id63">Query Command</a></li>
<li><a class="reference internal" href="#id64">Parameters</a></li>
<li><a class="reference internal" href="#id65">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-pn">AT+PN</a><ul>
<li><a class="reference internal" href="#id66">Query Command</a></li>
<li><a class="reference internal" href="#id67">Parameters</a></li>
<li><a class="reference internal" href="#id68">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-vbat">AT+VBAT</a><ul>
<li><a class="reference internal" href="#id69">Query Command</a></li>
<li><a class="reference internal" href="#id70">Parameters</a></li>
<li><a class="reference internal" href="#id71">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#wi-fi-function-at-command">Wi-Fi function AT command</a><ul>
<li><a class="reference internal" href="#id72">Basic AT command description</a><ul>
<li><a class="reference internal" href="#at-wifisp">AT+WIFISP</a><ul>
<li><a class="reference internal" href="#id73">Query Command</a></li>
<li><a class="reference internal" href="#id74">Set Command</a></li>
<li><a class="reference internal" href="#id75">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwmode">AT+CWMODE</a><ul>
<li><a class="reference internal" href="#id76">Query Command</a></li>
<li><a class="reference internal" href="#id77">Set Command</a></li>
<li><a class="reference internal" href="#id78">Parameters</a></li>
<li><a class="reference internal" href="#id79">Note</a></li>
<li><a class="reference internal" href="#id80">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwnetmode">AT+CWNETMODE</a><ul>
<li><a class="reference internal" href="#id81">Query Command</a></li>
<li><a class="reference internal" href="#id82">Parameters</a></li>
<li><a class="reference internal" href="#id83">Note</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwstate">AT+CWSTATE</a><ul>
<li><a class="reference internal" href="#id84">Query Command</a></li>
<li><a class="reference internal" href="#id85">Parameters</a></li>
<li><a class="reference internal" href="#id86">Note</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwjap">AT+CWJAP</a><ul>
<li><a class="reference internal" href="#id87">Query Command</a></li>
<li><a class="reference internal" href="#id88">Set Command</a></li>
<li><a class="reference internal" href="#id89">Notes</a></li>
<li><a class="reference internal" href="#id90">Execute Command</a></li>
<li><a class="reference internal" href="#id91">Parameters</a></li>
<li><a class="reference internal" href="#id92">Notes</a></li>
<li><a class="reference internal" href="#id93">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwreconncfg">AT+CWRECONNCFG</a><ul>
<li><a class="reference internal" href="#id94">Query Command</a></li>
<li><a class="reference internal" href="#id95">Set Command</a></li>
<li><a class="reference internal" href="#id96">Parameters</a></li>
<li><a class="reference internal" href="#id97">Example</a></li>
<li><a class="reference internal" href="#id98">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwlapopt">AT+CWLAPOPT</a><ul>
<li><a class="reference internal" href="#id99">Set Command</a></li>
<li><a class="reference internal" href="#id100">Parameters</a></li>
<li><a class="reference internal" href="#id101">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwlap">AT+CWLAP</a><ul>
<li><a class="reference internal" href="#id102">Set Command</a></li>
<li><a class="reference internal" href="#id103">Execute Command</a></li>
<li><a class="reference internal" href="#id104">Parameters</a></li>
<li><a class="reference internal" href="#id105">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwqap">AT+CWQAP</a><ul>
<li><a class="reference internal" href="#id106">Execute Command</a></li>
<li><a class="reference internal" href="#id107">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwsap">AT+CWSAP</a><ul>
<li><a class="reference internal" href="#id108">Query Command</a></li>
<li><a class="reference internal" href="#id109">Set Command</a></li>
<li><a class="reference internal" href="#id110">Parameters</a></li>
<li><a class="reference internal" href="#id111">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwlif">AT+CWLIF</a><ul>
<li><a class="reference internal" href="#id112">Execute Command</a></li>
<li><a class="reference internal" href="#id113">Parameters</a></li>
<li><a class="reference internal" href="#id114">Note</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwqif">AT+CWQIF</a><ul>
<li><a class="reference internal" href="#id115">Execute Command</a></li>
<li><a class="reference internal" href="#id116">Set Command</a></li>
<li><a class="reference internal" href="#id117">Example</a></li>
<li><a class="reference internal" href="#id118">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwdhcp">AT+CWDHCP</a><ul>
<li><a class="reference internal" href="#id119">Query Command</a></li>
<li><a class="reference internal" href="#id120">Set Command</a></li>
<li><a class="reference internal" href="#id121">Parameters</a></li>
<li><a class="reference internal" href="#id122">Notes</a></li>
<li><a class="reference internal" href="#id123">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwdhcps">AT+CWDHCPS</a><ul>
<li><a class="reference internal" href="#id124">Query Command</a></li>
<li><a class="reference internal" href="#id125">Set Command</a></li>
<li><a class="reference internal" href="#id126">Parameters</a></li>
<li><a class="reference internal" href="#id127">Notes</a></li>
<li><a class="reference internal" href="#id128">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwautoconn">AT+CWAUTOCONN</a><ul>
<li><a class="reference internal" href="#id129">Set Command</a></li>
<li><a class="reference internal" href="#id130">Parameters</a></li>
<li><a class="reference internal" href="#id131">Note</a></li>
<li><a class="reference internal" href="#id132">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipstamac">AT+CIPSTAMAC</a><ul>
<li><a class="reference internal" href="#id133">Query Command</a></li>
<li><a class="reference internal" href="#id134">Set Command</a></li>
<li><a class="reference internal" href="#id135">Parameters</a></li>
<li><a class="reference internal" href="#id136">Notes</a></li>
<li><a class="reference internal" href="#id137">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipapmac">AT+CIPAPMAC</a><ul>
<li><a class="reference internal" href="#id138">Query Command</a></li>
<li><a class="reference internal" href="#id139">Set Command</a></li>
<li><a class="reference internal" href="#id140">Parameters</a></li>
<li><a class="reference internal" href="#id141">Notes</a></li>
<li><a class="reference internal" href="#id142">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsta">AT+CIPSTA</a><ul>
<li><a class="reference internal" href="#id143">Query Command</a></li>
<li><a class="reference internal" href="#id144">Set Command</a></li>
<li><a class="reference internal" href="#id145">Parameters</a></li>
<li><a class="reference internal" href="#id146">Notes</a></li>
<li><a class="reference internal" href="#id147">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipap">AT+CIPAP</a><ul>
<li><a class="reference internal" href="#id148">Query Command</a></li>
<li><a class="reference internal" href="#id149">Set Command</a></li>
<li><a class="reference internal" href="#id150">Parameters</a></li>
<li><a class="reference internal" href="#id151">Notes</a></li>
<li><a class="reference internal" href="#id152">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwhostname">AT+CWHOSTNAME</a><ul>
<li><a class="reference internal" href="#id153">Query Command</a></li>
<li><a class="reference internal" href="#id154">Set Command</a></li>
<li><a class="reference internal" href="#id155">Parameters</a></li>
<li><a class="reference internal" href="#id156">Note</a></li>
<li><a class="reference internal" href="#id157">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwcountry">AT+CWCOUNTRY</a><ul>
<li><a class="reference internal" href="#id158">Query Command</a></li>
<li><a class="reference internal" href="#id159">Set Command</a></li>
<li><a class="reference internal" href="#id160">Parameters</a></li>
<li><a class="reference internal" href="#id161">Note</a></li>
<li><a class="reference internal" href="#id162">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwmonitor">AT+CWMONITOR</a><ul>
<li><a class="reference internal" href="#id163">Set Command</a></li>
<li><a class="reference internal" href="#id164">Parameters</a></li>
<li><a class="reference internal" href="#id165">Note</a></li>
<li><a class="reference internal" href="#id166">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwstaproto">AT+CWSTAPROTO</a><ul>
<li><a class="reference internal" href="#id167">Query Command</a></li>
<li><a class="reference internal" href="#id168">Set Command</a></li>
<li><a class="reference internal" href="#id169">Parameters</a></li>
<li><a class="reference internal" href="#id170">Note</a></li>
<li><a class="reference internal" href="#id171">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwapproto">AT+CWAPPROTO</a><ul>
<li><a class="reference internal" href="#id172">Query Command</a></li>
<li><a class="reference internal" href="#id173">Set Command</a></li>
<li><a class="reference internal" href="#id174">Parameters</a></li>
<li><a class="reference internal" href="#id175">Note</a></li>
<li><a class="reference internal" href="#id176">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-wps">AT+WPS</a><ul>
<li><a class="reference internal" href="#id177">Set Command</a></li>
<li><a class="reference internal" href="#id178">Parameters</a><ul>
<li><a class="reference internal" href="#id179">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id180">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwantenable">AT+CWANTENABLE</a><ul>
<li><a class="reference internal" href="#id181">Query Command</a></li>
<li><a class="reference internal" href="#id182">Set Command</a></li>
<li><a class="reference internal" href="#id183">Parameters</a></li>
<li><a class="reference internal" href="#id184">Example</a></li>
<li><a class="reference internal" href="#id185">Note</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwantnum">AT+CWANTNUM</a><ul>
<li><a class="reference internal" href="#id186">Query Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwant">AT+CWANT</a><ul>
<li><a class="reference internal" href="#id187">Query Command</a></li>
<li><a class="reference internal" href="#id188">Set Command</a></li>
<li><a class="reference internal" href="#id189">Parameters</a></li>
<li><a class="reference internal" href="#id190">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#tcp-ip-related-at-commands">TCP/IP related AT commands</a><ul>
<li><a class="reference internal" href="#id191">Basic AT command description</a><ul>
<li><a class="reference internal" href="#at-cipv6">AT+CIPV6</a><ul>
<li><a class="reference internal" href="#id192">Query Command</a></li>
<li><a class="reference internal" href="#id193">Set Command</a></li>
<li><a class="reference internal" href="#id194">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cifsr">AT+CIFSR</a><ul>
<li><a class="reference internal" href="#id195">Execute Command</a></li>
<li><a class="reference internal" href="#id196">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipdomain">AT+CIPDOMAIN</a><ul>
<li><a class="reference internal" href="#id197">Set Command</a></li>
<li><a class="reference internal" href="#id198">Parameter</a></li>
<li><a class="reference internal" href="#id199">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipdns">AT+CIPDNS</a><ul>
<li><a class="reference internal" href="#id200">Query Command</a></li>
<li><a class="reference internal" href="#id201">Set Command</a></li>
<li><a class="reference internal" href="#id202">Parameter</a></li>
<li><a class="reference internal" href="#id203">Notes</a></li>
<li><a class="reference internal" href="#id204">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipstate">AT+CIPSTATE</a><ul>
<li><a class="reference internal" href="#id205">Query Command</a></li>
<li><a class="reference internal" href="#id206">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ciprecvbuf">AT+CIPRECVBUF</a><ul>
<li><a class="reference internal" href="#id207">Set Command</a></li>
<li><a class="reference internal" href="#id208">Parameters</a></li>
<li><a class="reference internal" href="#quert-command">Quert Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipstart">AT+CIPSTART</a><ul>
<li><a class="reference internal" href="#establish-tcp-connection">Establish TCP Connection</a><ul>
<li><a class="reference internal" href="#id209">Set Command</a></li>
<li><a class="reference internal" href="#id210">Parameters</a></li>
<li><a class="reference internal" href="#id211">Notes</a></li>
<li><a class="reference internal" href="#id212">Example</a></li>
<li><a class="reference internal" href="#id213">Query Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id214">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipstartex">AT+CIPSTARTEX</a></li>
<li><a class="reference internal" href="#data-mode-only-exit-from-data-mode">[Data Mode Only] +++ : Exit from Data Mode</a><ul>
<li><a class="reference internal" href="#special-execute-command">Special Execute Command</a><ul>
<li><a class="reference internal" href="#id215">Notes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#at-ciptcpopt">AT+CIPTCPOPT</a><ul>
<li><a class="reference internal" href="#id216">Query Command</a></li>
<li><a class="reference internal" href="#id217">Set Command</a></li>
<li><a class="reference internal" href="#id218">Parameters</a></li>
<li><a class="reference internal" href="#id222">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipclose">AT+CIPCLOSE</a><ul>
<li><a class="reference internal" href="#id223">Set Command</a></li>
<li><a class="reference internal" href="#id224">Execute Command</a></li>
<li><a class="reference internal" href="#id225">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsend">AT+CIPSEND</a><ul>
<li><a class="reference internal" href="#id226">Set Command</a></li>
<li><a class="reference internal" href="#id227">Execute Command</a></li>
<li><a class="reference internal" href="#id228">Parameters</a></li>
<li><a class="reference internal" href="#id229">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsendl">AT+CIPSENDL</a><ul>
<li><a class="reference internal" href="#id230">Set Command</a></li>
<li><a class="reference internal" href="#id231">Parameters</a></li>
<li><a class="reference internal" href="#id232">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsendlcfg">AT+CIPSENDLCFG</a><ul>
<li><a class="reference internal" href="#id233">Query Command</a></li>
<li><a class="reference internal" href="#id234">Set Command</a></li>
<li><a class="reference internal" href="#id235">Parameters</a><ul>
<li><a class="reference internal" href="#id236">Note</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsendex">AT+CIPSENDEX</a><ul>
<li><a class="reference internal" href="#id237">Set Command</a></li>
<li><a class="reference internal" href="#id238">Parameters</a></li>
<li><a class="reference internal" href="#id239">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipdinfo">AT+CIPDINFO</a><ul>
<li><a class="reference internal" href="#id240">Query Command</a></li>
<li><a class="reference internal" href="#id241">Set Command</a></li>
<li><a class="reference internal" href="#id242">Parameters</a></li>
<li><a class="reference internal" href="#id243">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipmux">AT+CIPMUX</a><ul>
<li><a class="reference internal" href="#id244">Query Command</a></li>
<li><a class="reference internal" href="#id245">Set Command</a></li>
<li><a class="reference internal" href="#id246">Parameter</a></li>
<li><a class="reference internal" href="#id247">Notes</a></li>
<li><a class="reference internal" href="#id248">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipserver">AT+CIPSERVER</a><ul>
<li><a class="reference internal" href="#id249">Query Command</a></li>
<li><a class="reference internal" href="#id250">Set Command</a></li>
<li><a class="reference internal" href="#id251">Parameters</a></li>
<li><a class="reference internal" href="#id255">Notes</a></li>
<li><a class="reference internal" href="#id256">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipservermaxconn">AT+CIPSERVERMAXCONN</a><ul>
<li><a class="reference internal" href="#id257">Query Command</a></li>
<li><a class="reference internal" href="#id258">Set Command</a></li>
<li><a class="reference internal" href="#id259">Parameter</a></li>
<li><a class="reference internal" href="#id260">Note</a></li>
<li><a class="reference internal" href="#id261">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsto">AT+CIPSTO</a><ul>
<li><a class="reference internal" href="#id262">Query Command</a></li>
<li><a class="reference internal" href="#id263">Set Command</a></li>
<li><a class="reference internal" href="#id264">Parameter</a></li>
<li><a class="reference internal" href="#id265">Notes</a></li>
<li><a class="reference internal" href="#id266">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-savetranslink">AT+SAVETRANSLINK</a><ul>
<li><a class="reference internal" href="#for-tcp-ssl-single-connection">For TCP/SSL Single Connection</a><ul>
<li><a class="reference internal" href="#id267">Set Command</a></li>
<li><a class="reference internal" href="#id268">Parameters</a></li>
<li><a class="reference internal" href="#id269">Notes</a></li>
<li><a class="reference internal" href="#id270">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#for-udp-transmission">For UDP Transmission</a><ul>
<li><a class="reference internal" href="#id271">Set Command</a></li>
<li><a class="reference internal" href="#id272">Parameters</a></li>
<li><a class="reference internal" href="#id273">Notes</a></li>
<li><a class="reference internal" href="#id274">Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsntpcfg">AT+CIPSNTPCFG</a><ul>
<li><a class="reference internal" href="#id275">Query Command</a></li>
<li><a class="reference internal" href="#id276">Set Command</a></li>
<li><a class="reference internal" href="#id277">Parameters</a></li>
<li><a class="reference internal" href="#id278">Note</a></li>
<li><a class="reference internal" href="#id279">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsntptime">AT+CIPSNTPTIME</a><ul>
<li><a class="reference internal" href="#id280">Query Command</a></li>
<li><a class="reference internal" href="#id281">Note</a></li>
<li><a class="reference internal" href="#id282">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsntpintv">AT+CIPSNTPINTV</a><ul>
<li><a class="reference internal" href="#id283">Query Command</a></li>
<li><a class="reference internal" href="#id284">Set Command</a><ul>
<li><a class="reference internal" href="#id285">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id286">Notes</a></li>
<li><a class="reference internal" href="#id287">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipreconnintv">AT+CIPRECONNINTV</a><ul>
<li><a class="reference internal" href="#id288">Query Command</a></li>
<li><a class="reference internal" href="#id289">Set Command</a></li>
<li><a class="reference internal" href="#id290">Parameter</a></li>
<li><a class="reference internal" href="#id291">Note</a></li>
<li><a class="reference internal" href="#id292">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ciprecvmode">AT+CIPRECVMODE</a><ul>
<li><a class="reference internal" href="#id293">Query Command</a></li>
<li><a class="reference internal" href="#id294">Set Command</a></li>
<li><a class="reference internal" href="#id295">Parameter</a></li>
<li><a class="reference internal" href="#id296">Note</a></li>
<li><a class="reference internal" href="#id297">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ciprecvdata">AT+CIPRECVDATA</a><ul>
<li><a class="reference internal" href="#id298">Set Command</a></li>
<li><a class="reference internal" href="#id299">Parameter</a></li>
<li><a class="reference internal" href="#id300">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ciprecvlen">AT+CIPRECVLEN</a><ul>
<li><a class="reference internal" href="#id301">Query Command</a></li>
<li><a class="reference internal" href="#id302">Note</a></li>
<li><a class="reference internal" href="#id303">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-ping">AT+PING</a><ul>
<li><a class="reference internal" href="#id304">Set Command</a></li>
<li><a class="reference internal" href="#id305">Parameters</a></li>
<li><a class="reference internal" href="#id306">Notes</a></li>
<li><a class="reference internal" href="#id307">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipevt">AT+CIPEVT</a><ul>
<li><a class="reference internal" href="#id308">Set Command</a></li>
<li><a class="reference internal" href="#id309">Parameters</a></li>
<li><a class="reference internal" href="#id310">Query Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cwevt">AT+CWEVT</a><ul>
<li><a class="reference internal" href="#id311">Set Command</a></li>
<li><a class="reference internal" href="#id312">Parameters</a></li>
<li><a class="reference internal" href="#id313">Query Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsslcconf">AT+CIPSSLCCONF</a><ul>
<li><a class="reference internal" href="#id314">Query Command</a></li>
<li><a class="reference internal" href="#id315">Set Command</a></li>
<li><a class="reference internal" href="#id316">Parameters</a></li>
<li><a class="reference internal" href="#id317">Example</a></li>
<li><a class="reference internal" href="#id318">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsslcsni">AT+CIPSSLCSNI</a><ul>
<li><a class="reference internal" href="#id319">Query Command</a></li>
<li><a class="reference internal" href="#id320">Set Command</a></li>
<li><a class="reference internal" href="#id321">Parameters</a></li>
<li><a class="reference internal" href="#id322">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsslcalpn">AT+CIPSSLCALPN</a><ul>
<li><a class="reference internal" href="#id323">Query Command</a></li>
<li><a class="reference internal" href="#id324">Set Command</a></li>
<li><a class="reference internal" href="#id325">Parameters</a></li>
<li><a class="reference internal" href="#id326">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsslcpsk">AT+CIPSSLCPSK</a><ul>
<li><a class="reference internal" href="#id327">Query Command</a></li>
<li><a class="reference internal" href="#id328">Set Command</a></li>
<li><a class="reference internal" href="#id329">Parameters</a></li>
<li><a class="reference internal" href="#id330">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-cipsslcpskhex">AT+CIPSSLCPSKHEX</a><ul>
<li><a class="reference internal" href="#id331">Notes</a></li>
<li><a class="reference internal" href="#id332">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-iperf">AT+IPERF</a><ul>
<li><a class="reference internal" href="#id333">Set Command</a></li>
<li><a class="reference internal" href="#id334">Parameters</a></li>
<li><a class="reference internal" href="#id335">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-iperfstop">AT+IPERFSTOP</a><ul>
<li><a class="reference internal" href="#id336">Set Command</a></li>
<li><a class="reference internal" href="#id337">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#mqtt-at-commands">MQTT AT commands</a><ul>
<li><a class="reference internal" href="#mqtt-at-command-description">MQTT AT command description</a><ul>
<li><a class="reference internal" href="#at-mqttusercfg">AT+MQTTUSERCFG</a><ul>
<li><a class="reference internal" href="#id338">Query Command</a></li>
<li><a class="reference internal" href="#id339">Set Command</a></li>
<li><a class="reference internal" href="#id340">Parameters</a></li>
<li><a class="reference internal" href="#id341">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttclientid">AT+MQTTCLIENTID</a><ul>
<li><a class="reference internal" href="#id342">Query Command</a></li>
<li><a class="reference internal" href="#id343">Notes</a></li>
<li><a class="reference internal" href="#id344">Set Command</a></li>
<li><a class="reference internal" href="#id345">Parameters</a></li>
<li><a class="reference internal" href="#id346">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttusername">AT+MQTTUSERNAME</a><ul>
<li><a class="reference internal" href="#id347">Query Command</a></li>
<li><a class="reference internal" href="#id348">Notes</a></li>
<li><a class="reference internal" href="#id349">Set Command</a></li>
<li><a class="reference internal" href="#id350">Parameters</a></li>
<li><a class="reference internal" href="#id351">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttpassword">AT+MQTTPASSWORD</a><ul>
<li><a class="reference internal" href="#id352">Query Command</a></li>
<li><a class="reference internal" href="#id353">Notes</a></li>
<li><a class="reference internal" href="#id354">Set Command</a></li>
<li><a class="reference internal" href="#id355">Parameters</a></li>
<li><a class="reference internal" href="#id356">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttconncfg">AT+MQTTCONNCFG</a><ul>
<li><a class="reference internal" href="#id357">Query Command</a></li>
<li><a class="reference internal" href="#id358">Set Command</a></li>
<li><a class="reference internal" href="#id359">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttalpn">AT+MQTTALPN</a><ul>
<li><a class="reference internal" href="#id360">Query Command</a></li>
<li><a class="reference internal" href="#id361">Set Command</a></li>
<li><a class="reference internal" href="#id362">Parameters</a></li>
<li><a class="reference internal" href="#id363">Notes</a></li>
<li><a class="reference internal" href="#id364">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttsni">AT+MQTTSNI</a><ul>
<li><a class="reference internal" href="#id365">Query Command</a></li>
<li><a class="reference internal" href="#id366">Set Command</a></li>
<li><a class="reference internal" href="#id367">Parameters</a></li>
<li><a class="reference internal" href="#id368">Notes</a></li>
<li><a class="reference internal" href="#id369">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttconn">AT+MQTTCONN</a><ul>
<li><a class="reference internal" href="#id370">Query Command</a></li>
<li><a class="reference internal" href="#id371">Set Command</a></li>
<li><a class="reference internal" href="#id372">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttpub">AT+MQTTPUB</a><ul>
<li><a class="reference internal" href="#id373">Set Command</a></li>
<li><a class="reference internal" href="#id374">Parameters</a></li>
<li><a class="reference internal" href="#id375">Notes</a></li>
<li><a class="reference internal" href="#id376">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttpubraw">AT+MQTTPUBRAW</a><ul>
<li><a class="reference internal" href="#id377">Set Command</a></li>
<li><a class="reference internal" href="#id378">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttsub">AT+MQTTSUB</a><ul>
<li><a class="reference internal" href="#id379">Query Command</a></li>
<li><a class="reference internal" href="#id380">Set Command</a></li>
<li><a class="reference internal" href="#id381">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttunsub">AT+MQTTUNSUB</a><ul>
<li><a class="reference internal" href="#id382">Set Command</a></li>
<li><a class="reference internal" href="#id383">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-mqttclean">AT+MQTTCLEAN</a><ul>
<li><a class="reference internal" href="#id384">Set Command</a></li>
<li><a class="reference internal" href="#id385">Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#ble-related-at-commands">BLE related AT commands</a><ul>
<li><a class="reference internal" href="#ble-at-command-description">BLE AT command description</a><ul>
<li><a class="reference internal" href="#at-bleinit">AT+BLEINIT</a><ul>
<li><a class="reference internal" href="#id386">Query Command</a></li>
<li><a class="reference internal" href="#id387">Set Command</a></li>
<li><a class="reference internal" href="#id388">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleaddr">AT+BLEADDR</a><ul>
<li><a class="reference internal" href="#id389">Query Command</a></li>
<li><a class="reference internal" href="#id390">Set Command</a></li>
<li><a class="reference internal" href="#id391">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blename">AT+BLENAME</a><ul>
<li><a class="reference internal" href="#id392">Query Command</a></li>
<li><a class="reference internal" href="#id393">Set Command</a></li>
<li><a class="reference internal" href="#id394">Parameter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blescanparam">AT+BLESCANPARAM</a><ul>
<li><a class="reference internal" href="#id395">Query Command</a></li>
<li><a class="reference internal" href="#id396">Set Command</a></li>
<li><a class="reference internal" href="#id397">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blescan">AT+BLESCAN</a><ul>
<li><a class="reference internal" href="#id398">Set Command</a></li>
<li><a class="reference internal" href="#id399">Parameters</a></li>
<li><a class="reference internal" href="#id400">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blescanrspdata">AT+BLESCANRSPDATA</a><ul>
<li><a class="reference internal" href="#id401">Set Command</a></li>
<li><a class="reference internal" href="#id402">Parameter</a></li>
<li><a class="reference internal" href="#id403">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleadvparam">AT+BLEADVPARAM</a><ul>
<li><a class="reference internal" href="#id404">Query Command</a></li>
<li><a class="reference internal" href="#id405">Set Command</a></li>
<li><a class="reference internal" href="#id406">Parameters</a></li>
<li><a class="reference internal" href="#id407">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleadvdata">AT+BLEADVDATA</a><ul>
<li><a class="reference internal" href="#id408">Set Command</a></li>
<li><a class="reference internal" href="#id409">Parameter</a></li>
<li><a class="reference internal" href="#id410">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleadvstart">AT+BLEADVSTART</a><ul>
<li><a class="reference internal" href="#id411">Execute Command</a></li>
<li><a class="reference internal" href="#id412">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleadvstop">AT+BLEADVSTOP</a><ul>
<li><a class="reference internal" href="#id413">Execute Command</a></li>
<li><a class="reference internal" href="#id414">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleconn">AT+BLECONN</a><ul>
<li><a class="reference internal" href="#id415">Query Command</a></li>
<li><a class="reference internal" href="#id416">Set Command</a></li>
<li><a class="reference internal" href="#id417">Parameters</a></li>
<li><a class="reference internal" href="#id418">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleconnparam">AT+BLECONNPARAM</a><ul>
<li><a class="reference internal" href="#id419">Query Command</a></li>
<li><a class="reference internal" href="#id420">Set Command</a></li>
<li><a class="reference internal" href="#id421">Parameters</a></li>
<li><a class="reference internal" href="#id422">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bledisconn">AT+BLEDISCONN</a><ul>
<li><a class="reference internal" href="#id423">Execute Command</a></li>
<li><a class="reference internal" href="#id424">Parameters</a></li>
<li><a class="reference internal" href="#id425">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bledatalen">AT+BLEDATALEN</a><ul>
<li><a class="reference internal" href="#id426">Query Command</a></li>
<li><a class="reference internal" href="#id427">Parameters</a></li>
<li><a class="reference internal" href="#id428">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleexchangemtu">AT+BLEEXCHANGEMTU</a><ul>
<li><a class="reference internal" href="#id429">Set Command</a></li>
<li><a class="reference internal" href="#id430">Parameters</a></li>
<li><a class="reference internal" href="#id431">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattssrv">AT+BLEGATTSSRV</a><ul>
<li><a class="reference internal" href="#id432">Query Command</a></li>
<li><a class="reference internal" href="#id433">Parameters</a></li>
<li><a class="reference internal" href="#id434">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattssrvcre">AT+BLEGATTSSRVCRE</a><ul>
<li><a class="reference internal" href="#id435">Set Command</a></li>
<li><a class="reference internal" href="#id436">Parameters</a></li>
<li><a class="reference internal" href="#id437">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattssrvdel">AT+BLEGATTSSRVDEL</a><ul>
<li><a class="reference internal" href="#id438">Set Command</a></li>
<li><a class="reference internal" href="#id439">Parameter</a></li>
<li><a class="reference internal" href="#id440">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattsregister">AT+BLEGATTSREGISTER</a><ul>
<li><a class="reference internal" href="#id441">Set Command</a></li>
<li><a class="reference internal" href="#id442">Parameter</a></li>
<li><a class="reference internal" href="#id443">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattschar">AT+BLEGATTSCHAR</a><ul>
<li><a class="reference internal" href="#id444">Query Command</a></li>
<li><a class="reference internal" href="#id445">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattscharcre">AT+BLEGATTSCHARCRE</a><ul>
<li><a class="reference internal" href="#id446">Set Command</a></li>
<li><a class="reference internal" href="#id447">Parameters</a></li>
<li><a class="reference internal" href="#id448">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattsntfy">AT+BLEGATTSNTFY</a><ul>
<li><a class="reference internal" href="#id449">Set Command</a></li>
<li><a class="reference internal" href="#id450">Parameters</a></li>
<li><a class="reference internal" href="#id451">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattsind">AT+BLEGATTSIND</a><ul>
<li><a class="reference internal" href="#id452">Set Command</a></li>
<li><a class="reference internal" href="#id453">Parameters</a></li>
<li><a class="reference internal" href="#id454">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattsrd">AT+BLEGATTSRD</a><ul>
<li><a class="reference internal" href="#id455">Set Command</a></li>
<li><a class="reference internal" href="#id456">Parameters</a></li>
<li><a class="reference internal" href="#id457">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattcsrvdis">AT+BLEGATTCSRVDIS</a><ul>
<li><a class="reference internal" href="#id458">Set Command</a></li>
<li><a class="reference internal" href="#id459">Parameters</a></li>
<li><a class="reference internal" href="#id460">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattcchardis">AT+BLEGATTCCHARDIS</a><ul>
<li><a class="reference internal" href="#id461">Set Command</a></li>
<li><a class="reference internal" href="#id462">Parameters</a></li>
<li><a class="reference internal" href="#id463">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattcwr">AT+BLEGATTCWR</a><ul>
<li><a class="reference internal" href="#id464">Set Command</a></li>
<li><a class="reference internal" href="#id465">Parameters</a></li>
<li><a class="reference internal" href="#id466">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattcrd">AT+BLEGATTCRD</a><ul>
<li><a class="reference internal" href="#id467">Set Command</a></li>
<li><a class="reference internal" href="#id468">Parameters</a></li>
<li><a class="reference internal" href="#id469">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattcsubscribe">AT+BLEGATTCSUBSCRIBE</a><ul>
<li><a class="reference internal" href="#id470">Set Command</a></li>
<li><a class="reference internal" href="#id471">Parameters</a></li>
<li><a class="reference internal" href="#id472">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blegattcunsubscribe">AT+BLEGATTCUNSUBSCRIBE</a><ul>
<li><a class="reference internal" href="#id473">Set Command</a></li>
<li><a class="reference internal" href="#id474">Parameters</a></li>
<li><a class="reference internal" href="#id475">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bletxpwr">AT+BLETXPWR</a><ul>
<li><a class="reference internal" href="#id476">Query Command</a></li>
<li><a class="reference internal" href="#id477">Set Command</a></li>
<li><a class="reference internal" href="#id478">Parameter</a></li>
<li><a class="reference internal" href="#id479">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecparam">AT+BLESECPARAM</a><ul>
<li><a class="reference internal" href="#id480">Query Command</a></li>
<li><a class="reference internal" href="#id481">Set Command</a></li>
<li><a class="reference internal" href="#id482">Parameter</a></li>
<li><a class="reference internal" href="#id483">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleseccannel">AT+BLESECCANNEL</a><ul>
<li><a class="reference internal" href="#id484">Set Command</a></li>
<li><a class="reference internal" href="#id485">Parameters</a></li>
<li><a class="reference internal" href="#id486">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecpasskeyconfirm">AT+BLESECPASSKEYCONFIRM</a><ul>
<li><a class="reference internal" href="#id487">Set Command</a></li>
<li><a class="reference internal" href="#id488">Parameters</a></li>
<li><a class="reference internal" href="#id489">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecpairingconfirm">AT+BLESECPAIRINGCONFIRM</a><ul>
<li><a class="reference internal" href="#id490">Set Command</a></li>
<li><a class="reference internal" href="#id491">Parameters</a></li>
<li><a class="reference internal" href="#id492">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecpasskey">AT+BLESECPASSKEY</a><ul>
<li><a class="reference internal" href="#id493">Set Command</a></li>
<li><a class="reference internal" href="#id494">Parameters</a></li>
<li><a class="reference internal" href="#id495">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecgetltklist">AT+BLESECGETLTKLIST</a><ul>
<li><a class="reference internal" href="#id496">Query Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecunpair">AT+BLESECUNPAIR</a><ul>
<li><a class="reference internal" href="#id497">Set Command</a></li>
<li><a class="reference internal" href="#id498">Parameters</a></li>
<li><a class="reference internal" href="#id499">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blesecstart">AT+BLESECSTART</a><ul>
<li><a class="reference internal" href="#id500">Set Command</a></li>
<li><a class="reference internal" href="#id501">Parameters</a></li>
<li><a class="reference internal" href="#id502">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blebasinit">AT+BLEBASINIT</a><ul>
<li><a class="reference internal" href="#id503">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blebasdeinit">AT+BLEBASDEINIT</a><ul>
<li><a class="reference internal" href="#id504">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blebaslvlget">AT+BLEBASLVLGET</a><ul>
<li><a class="reference internal" href="#id505">Query Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-blebaslvlset">AT+BLEBASLVLSET</a><ul>
<li><a class="reference internal" href="#setup-command">Setup Command</a></li>
<li><a class="reference internal" href="#id506">Parameters</a></li>
<li><a class="reference internal" href="#id507">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleiasinit">AT+BLEIASINIT</a><ul>
<li><a class="reference internal" href="#id508">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bleiasdeinit">AT+BLEIASDEINIT</a><ul>
<li><a class="reference internal" href="#id509">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bledisinit">AT+BLEDISINIT</a><ul>
<li><a class="reference internal" href="#id510">Setup Command</a></li>
<li><a class="reference internal" href="#id511">Parameters</a></li>
<li><a class="reference internal" href="#id512">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bledisdeinit">AT+BLEDISDEINIT</a><ul>
<li><a class="reference internal" href="#id513">Execute Command</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-bledisset">AT+BLEDISSET</a><ul>
<li><a class="reference internal" href="#id514">Setup Command</a></li>
<li><a class="reference internal" href="#id515">Parameters</a></li>
<li><a class="reference internal" href="#id516">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#low-power-function-at-command">Low power function AT command</a><ul>
<li><a class="reference internal" href="#low-power-at-command-description">Low power AT command description</a><ul>
<li><a class="reference internal" href="#at-pwr">AT+PWR</a><ul>
<li><a class="reference internal" href="#id517">Execute Command</a></li>
<li><a class="reference internal" href="#id518">Parameters</a></li>
<li><a class="reference internal" href="#id519">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-slwkio">AT+SLWKIO</a><ul>
<li><a class="reference internal" href="#id520">Execute Command</a></li>
<li><a class="reference internal" href="#id521">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-dewkio">AT+DEWKIO</a><ul>
<li><a class="reference internal" href="#id522">Execute Command</a></li>
<li><a class="reference internal" href="#id523">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-slwktimer">AT+SLWKTIMER</a><ul>
<li><a class="reference internal" href="#id524">Set Command</a></li>
<li><a class="reference internal" href="#id525">Parameter</a></li>
<li><a class="reference internal" href="#id526">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-slwkdtim">AT+SLWKDTIM</a><ul>
<li><a class="reference internal" href="#id527">Set Command</a></li>
<li><a class="reference internal" href="#id528">Parameter</a></li>
<li><a class="reference internal" href="#id529">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-slcldtim">AT+SLCLDTIM</a><ul>
<li><a class="reference internal" href="#id530">Set Command</a></li>
<li><a class="reference internal" href="#id531">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-twt-param">AT+TWT_PARAM</a><ul>
<li><a class="reference internal" href="#id532">Set Command</a></li>
<li><a class="reference internal" href="#id533">Parameter</a></li>
<li><a class="reference internal" href="#id534">Example</a></li>
<li><a class="reference internal" href="#id535">Note</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-twt-sleep">AT+TWT_SLEEP</a><ul>
<li><a class="reference internal" href="#id536">Set Command</a></li>
<li><a class="reference internal" href="#id537">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-twt-teardown">AT+TWT_TEARDOWN</a><ul>
<li><a class="reference internal" href="#id538">Set Command</a></li>
<li><a class="reference internal" href="#id539">Parameters</a></li>
<li><a class="reference internal" href="#id540">Notes</a></li>
<li><a class="reference internal" href="#id541">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-set-clock">AT+SET_CLOCK</a><ul>
<li><a class="reference internal" href="#id542">Set Command</a></li>
<li><a class="reference internal" href="#id543">Parameters</a></li>
<li><a class="reference internal" href="#id544">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#at-get-clock">AT+GET_CLOCK</a><ul>
<li><a class="reference internal" href="#id545">Query Command</a></li>
<li><a class="reference internal" href="#id546">Parameters</a></li>
<li><a class="reference internal" href="#id547">Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#generate-romfs-bin">Generate romfs.bin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mqtt-local-service-setup">MQTT local service setup</a></li>
<li><a class="reference internal" href="#mqtt-tls-schemes-with-hivemq">MQTT TLS schemes with HiveMQ</a><ul>
<li><a class="reference internal" href="#verification-steps-for-the-serverless-version">Verification Steps for the Serverless Version</a></li>
<li><a class="reference internal" href="#verification-steps-for-the-starter-version">Verification Steps for the Starter Version</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ST67W611M1 AT Commands</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<p>This article mainly introduces the AT command set and how to use it. The command set includes: basic AT commands, Wi-Fi function AT commands, TCP/IP toolbox AT commands, and BLE related AT commands.</p>
<table class="docutils align-default" id="id548">
<caption><span class="caption-text">Instruction type</span><a class="headerlink" href="#id548" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Query instruction</p></td>
<td><p>AT+&lt;x&gt;?</p></td>
<td><p>This instruction is used to return the value of the current parameter</p></td>
</tr>
<tr class="row-odd"><td><p>Set instruction</p></td>
<td><p>AT+&lt;x&gt;=&lt;&gt;</p></td>
<td><p>This instruction is used to set user-defined parameters</p></td>
</tr>
<tr class="row-even"><td><p>Execute instructions</p></td>
<td><p>AT+&lt;x&gt;</p></td>
<td><p>This instruction is used to execute the function of variable parameter immutability inside the module</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Not every AT command has the three types mentioned above.</p></li>
<li><p>Currently, only strings and integer numbers are supported as input parameters in AT commands.</p></li>
<li><p>Angle brackets &lt; &gt; designate parameters that can not be omitted.</p></li>
<li><p>Square brackets [ ] designate optional parameters that can be omitted. The default value of the parameter will be used instead when you omit it.</p></li>
<li><p>If the parameter you want to omit is followed by a parameter(s), you must give a , to indicate it. for example: AT+CWJAP=&quot;ssid&quot;,&quot;password&quot;,,1.</p></li>
<li><p>String values need to be included in double quotation marks, such as: AT+CWSAP=&quot;AP-NAME&quot;,&quot;12345678&quot;.</p></li>
<li><p>Each AT command should not exceed 256 bytes in length.</p></li>
<li><p>AT commands end with a new-line (CR-LF), so the serial tool should be set to 'New Line Mode'.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The parameter storage in AT commands is implemented through the EasyFlash library.</p>
</div>
<section id="at-messages">
<h2>AT Messages<a class="headerlink" href="#at-messages" title="Link to this heading"></a></h2>
<p>There are two types of AT messages returned from the AT command port: AT responses messages and AT message reports.</p>
<section id="response-messages">
<h3>Response Messages<a class="headerlink" href="#response-messages" title="Link to this heading"></a></h3>
<p>Each AT command input returns response messages to tell the sender the result of the AT command. The last message of a response will always be either &quot;OK&quot; or &quot;ERROR&quot;.</p>
<table class="docutils align-center" id="id549" style="width: 100%">
<caption><span class="caption-text">AT Response Messages</span><a class="headerlink" href="#id549" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>OK</strong></p></td>
<td><p>AT command processed successfully and returned OK</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ERROR</strong></p></td>
<td><p>AT command error or an error occurred during execution</p></td>
</tr>
<tr class="row-even"><td><p><strong>SEND OK</strong></p></td>
<td><p>Data has been sent to the protocol stack</p></td>
</tr>
<tr class="row-odd"><td><p><strong>SEND FAIL</strong></p></td>
<td><p>An error occurred while sending the data to the protocol stack</p></td>
</tr>
<tr class="row-even"><td><p><strong>SEND CANCELLED</strong></p></td>
<td><p>Cancel sending data in Wi-Fi normal transmission mode</p></td>
</tr>
<tr class="row-odd"><td><p><strong>+&lt;Command Name&gt;:````</strong></p></td>
<td><p>Provides detailed results of the AT command processing to the sender</p></td>
</tr>
</tbody>
</table>
</section>
<section id="message-reports">
<h3>Message Reports<a class="headerlink" href="#message-reports" title="Link to this heading"></a></h3>
<p>AT will report important state changes or messages in the system.</p>
<table class="docutils align-center" id="id550" style="width: 100%">
<caption><span class="caption-text">AT Message Reports</span><a class="headerlink" href="#id550" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ready</p></td>
<td><p>The AT firmware is ready</p></td>
</tr>
<tr class="row-odd"><td><p>busy p</p></td>
<td><p>Busy processing. The system is in process of handling the previous command,
thus CANNOT accept the new input</p></td>
</tr>
<tr class="row-even"><td><p>ERR CODE:<code class="docutils literal notranslate"><span class="pre">&lt;0x%08x&gt;</span></code></p></td>
<td><p>Error code for different commands</p></td>
</tr>
<tr class="row-odd"><td><p>+CW:CONNECTING</p></td>
<td><p>Wi-Fi station interface is connecting to an AP</p></td>
</tr>
<tr class="row-even"><td><p>+CW:CONNECTED</p></td>
<td><p>Wi-Fi station interface has connected to an AP</p></td>
</tr>
<tr class="row-odd"><td><p>+CW:ERROR</p></td>
<td><p>Wi Fi station interface connection to Ap failed</p></td>
</tr>
<tr class="row-even"><td><p>+CW:GOTIP</p></td>
<td><p>Wi-Fi station interface has got the IPv4 address</p></td>
</tr>
<tr class="row-odd"><td><p>+CW:DISCONNECTED</p></td>
<td><p>Wi-Fi station interface has disconnected from an AP</p></td>
</tr>
<tr class="row-even"><td><p>+CW:STA_CONNECTED &lt;sta_mac&gt;</p></td>
<td><p>A station has connected to the Wi-Fi softAP interface of AT</p></td>
</tr>
<tr class="row-odd"><td><p>+CW:STA_DISCONNECTED &lt;sta_mac&gt;</p></td>
<td><p>A station disconnected from the Wi-Fi softAP interface of AT</p></td>
</tr>
<tr class="row-even"><td><p>+CW:DIST_STA_IP &lt;sta_mac&gt;,&lt;sta_ip&gt;</p></td>
<td><p>The Wi-Fi softAP interface of AT distributes an IP address to the station</p></td>
</tr>
<tr class="row-odd"><td><p>+CW:SCAN_DONE</p></td>
<td><p>Wi-Fi scan completion event</p></td>
</tr>
<tr class="row-even"><td><p>+CIP:[&lt;conn_id&gt;,]CONNECTED</p></td>
<td><p>A network connection of which ID is <code class="docutils literal notranslate"><span class="pre">&lt;conn_id&gt;</span></code> is established (ID=0 by default)</p></td>
</tr>
<tr class="row-odd"><td><p>+CIP:[&lt;conn_id&gt;,]DISCONNECTED</p></td>
<td><p>A network connection of which ID is <code class="docutils literal notranslate"><span class="pre">&lt;conn_id&gt;</span></code> ends (ID=0 by default)</p></td>
</tr>
<tr class="row-even"><td><p>+LINK_CONN</p></td>
<td><p>Detailed connection information of TCP/UDP/SSL</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;</p></td>
<td><p>AT is waiting for more data to be received</p></td>
</tr>
<tr class="row-even"><td><p>Recv <code class="docutils literal notranslate"><span class="pre">&lt;xxx&gt;</span></code> bytes</p></td>
<td><p>AT has already received <code class="docutils literal notranslate"><span class="pre">&lt;xxx&gt;</span></code> bytes from the AT command port</p></td>
</tr>
<tr class="row-odd"><td><p>+IPD</p></td>
<td><p>In non-passthrough mode, AT has received data from the network. The specific
data format is shown below the table</p></td>
</tr>
<tr class="row-even"><td><p>+MQTT:CONNECTED,&lt;linkid&gt;</p></td>
<td><p>MQTT has connected to Brokers</p></td>
</tr>
<tr class="row-odd"><td><p>+MQTT:DISCONNECTED,&lt;linkid&gt;</p></td>
<td><p>MQTT has been disconnected from Brokers</p></td>
</tr>
<tr class="row-even"><td><p>+MQTT:SUBRECV,&lt;LinkID&gt;,&lt;topic_length&gt;,&lt;data_length&gt;,&lt;topic&gt;,&lt;data&gt;</p></td>
<td><p>When AT receives MQTT messages of the subscribed topic</p></td>
</tr>
<tr class="row-odd"><td><p>Data in passthrough mode</p></td>
<td><p>In passthrough mode, data has been received from the network or Bluetooth</p></td>
</tr>
<tr class="row-even"><td><p>SEND CANCELLED</p></td>
<td><p>Cancel sending data in Wi-Fi normal transmission mode</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:CONNECTED</p></td>
<td><p>A Bluetooth LE connection established</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:DISCONNECTED</p></td>
<td><p>A Bluetooth LE connection ends</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:CONNPARAM</p></td>
<td><p>A Bluetooth LE connection parameters update</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:GATTREAD</p></td>
<td><p>A read operation from Bluetooth LE connection</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:GATTWRITE</p></td>
<td><p>A write operation from Bluetooth LE connection</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:SRV</p></td>
<td><p>Bluetooth LE connection services found</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:SRVCHAR</p></td>
<td><p>Bluetooth LE connection characteristics found</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:INDICATION</p></td>
<td><p>Bluetooth service indication status: 0: disable 1: enable 2: ack</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:NOTIFICATION</p></td>
<td><p>Bluetooth service notification status</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:NOTIDATA</p></td>
<td><p>Bluetooth service recv notification/indication data</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:MTUSIZE</p></td>
<td><p>Bluetooth MTU SIZE update</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:PAIRINGFAILED</p></td>
<td><p>Bluetooth Pairing failed</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:PAIRINGCOMPLETED</p></td>
<td><p>Bluetooth Pairing completed</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:PAIRINGCONFIRM</p></td>
<td><p>Bluetooth Pairing confirm notification</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:PASSKEYENTRY</p></td>
<td><p>Bluetooth Pairing passkey notification</p></td>
</tr>
<tr class="row-even"><td><p>+BLE:PASSKEYDISPLAY</p></td>
<td><p>Bluetooth Pairing passkey display notification</p></td>
</tr>
<tr class="row-odd"><td><p>+BLE:BASLEVEL</p></td>
<td><p>Bluetooth BAS profile level</p></td>
</tr>
<tr class="row-even"><td><p>+QUITT</p></td>
<td><p>AT quits from the Wi-Fi <cite>Passthrough Mode</cite></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In non-passthrough mode, the format of data received from the network by AT:</p>
<p>If AT+CIPMUX=0 and AT+CIPRECVTYPE=1, print: +IPD:&lt;length&gt;</p>
<p>If AT+CIPMUX=1 and AT+CIPRECVTYPE=&lt;link_id&gt;,1, print: +IPD:&lt;link_id&gt;,&lt;length&gt;</p>
<p>If AT+CIPMUX=0, AT+CIPRECVTYPE=0, and AT+CIPDINFO=0, print: +IPD:&lt;length&gt;,&lt;data&gt;</p>
<p>If AT+CIPMUX=1, AT+CIPRECVTYPE=&lt;link_id&gt;,0, AT+CIPDINFO=0, print: +IPD:&lt;link_id&gt;,&lt;length&gt;,&lt;data&gt;</p>
<p>If AT+CIPMUX=0, AT+CIPRECVTYPE=0, AT+CIPDINFO=1, print: +IPD:&lt;length&gt;,&lt;&quot;remote_ip&quot;&gt;,&lt;remote_port&gt;,&lt;data&gt;</p>
<p>If AT+CIPMUX=1, AT+CIPRECVTYPE=&lt;link_id&gt;,0, AT+CIPDINFO=1, print: +IPD:&lt;link_id&gt;,&lt;length&gt;, &lt;&quot;remote_ip&quot;&gt;, &lt;remote_port&gt;,&lt;data&gt;</p>
<p>link_id refers to the connection ID, length represents the data length, remote_ip indicates the remote IP address, remote_port represents the remote port number, and data represents the data.</p>
<p>When it is an SSL connection, in the passive receive mode (AT+CIPRECVTYPE=1), the length returned by the AT command may not match the actual readable SSL data length. This is because AT prioritizes returning the readable data length at the SSL layer. If the readable data length at the SSL layer is 0, AT will return the readable data length at the socket layer.</p>
</div>
</section>
</section>
</section>
<section id="basic-at-commands">
<h1>Basic AT commands<a class="headerlink" href="#basic-at-commands" title="Link to this heading"></a></h1>
<section id="overview-of-basic-at-commands">
<h2>Overview of basic AT commands<a class="headerlink" href="#overview-of-basic-at-commands" title="Link to this heading"></a></h2>
<table class="docutils align-center" id="id551" style="width: 100%">
<caption><span class="caption-text">Instruction list</span><a class="headerlink" href="#id551" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#at">AT</a></p></td>
<td><p>Test AT startup</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-gmr">AT+GMR</a></p></td>
<td><p>View version information</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cmd">AT+CMD?</a></p></td>
<td><p>List all AT commands and types supported in current firmware</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-rst">AT+RST</a></p></td>
<td><p>Restart the module</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-restore">AT+RESTORE</a></p></td>
<td><p>Reset</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ate">ATE</a></p></td>
<td><p>Configure AT commands echoing</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-sysram">AT+SYSRAM?</a></p></td>
<td><p>Query current remaining heap size and lwip remaining heap size</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-sysmsg">AT+SYSMSG?</a></p></td>
<td><p>Query/Set system prompt information</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-syslog">AT+SYSLOG?</a></p></td>
<td><p>Enable or disable the AT error code prompt</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-sysstore">AT+SYSSTORE?</a></p></td>
<td><p>Query/Set parameter store mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-temp">AT+TEMP?</a></p></td>
<td><p>Query the temperature of the chip</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-efuse-w">AT+EFUSE-W</a></p></td>
<td><p>Efuse write operation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-efuse-r">AT+EFUSE-R</a></p></td>
<td><p>Efuse read operation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-efuse-cfm">AT+EFUSE-CFM</a></p></td>
<td><p>Efuse write confirmation will directly write into Efuse</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-flash-w">AT+FLASH-W</a></p></td>
<td><p>Flash write operation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-flash-r">AT+FLASH-R</a></p></td>
<td><p>Flash read operation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-flash-e">AT+FLASH-E</a></p></td>
<td><p>Flash erase operation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-iopupd">AT+IOPUPD</a></p></td>
<td><p>Initialize GPIO pins as pull-up/pull-down mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-ioout">AT+IOOUT</a></p></td>
<td><p>Set GPIO output high/low level</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-ioin">AT+IOIN</a></p></td>
<td><p>Query/Set GPIO in the input mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-iorst">AT+IORST</a></p></td>
<td><p>Reset a GPIOs analog input mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-part">AT+PART</a></p></td>
<td><p>Get information about the partitions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-otastart">AT+OTASTART</a></p></td>
<td><p>Start OTA transmission</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-otasend">AT+OTASEND</a></p></td>
<td><p>Send OTA data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-otafin">AT+OTAFIN</a></p></td>
<td><p>OTA transmission completed</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-fs">AT+FS</a></p></td>
<td><p>Filesystem Operations</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-gmac">AT+GMAC</a></p></td>
<td><p>Query the MAC addresses of 3 slots in efuse</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-pn">AT+PN</a></p></td>
<td><p>Query the part number</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-vbat">AT+VBAT</a></p></td>
<td><p>Query the voltage value at the supply pin (unit: mV)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="basic-at-command-description">
<h2>Basic AT command description<a class="headerlink" href="#basic-at-command-description" title="Link to this heading"></a></h2>
<section id="at">
<h3>AT<a class="headerlink" href="#at" title="Link to this heading"></a></h3>
<p>Function: Test AT startup.</p>
<section id="execute-command">
<h4>Execute Command<a class="headerlink" href="#execute-command" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-gmr">
<h3>AT+GMR<a class="headerlink" href="#at-gmr" title="Link to this heading"></a></h3>
<p>Function: View version information.</p>
<section id="id1">
<h4>Execute Command<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">GMR</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">AT</span> <span class="n">version</span> <span class="n">info</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">macsw</span> <span class="n">version</span> <span class="n">info</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">phyrf</span> <span class="n">version</span> <span class="n">info</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">bthost</span> <span class="n">version</span> <span class="n">info</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">btblecontroller</span> <span class="n">version</span> <span class="n">info</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">SDK</span> <span class="n">version</span> <span class="n">info</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">compile</span> <span class="n">time</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;AT version info&gt;</strong>: AT version information</p></li>
<li><p><strong>&lt;macsw version info&gt;</strong>: macsw component version information</p></li>
<li><p><strong>&lt;phyrf version info&gt;</strong>: phyrf component version information</p></li>
<li><p><strong>&lt;bthost version info&gt;</strong>: bthost component version information</p></li>
<li><p><strong>&lt;btblecontroller version info&gt;</strong>: btblecontroller component version information</p></li>
<li><p><strong>&lt;SDK version info&gt;</strong>: SDK version information</p></li>
<li><p><strong>&lt;compile time&gt;</strong>: Compile time</p></li>
</ul>
</section>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">GMR</span>
<span class="n">AT</span> <span class="n">version</span><span class="p">:</span><span class="mf">1.0.0.1</span><span class="p">(</span><span class="n">Apr</span> <span class="mi">30</span> <span class="mi">2025</span> <span class="mi">11</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">03</span><span class="p">)</span>
    <span class="n">component_version_macsw_1</span><span class="mf">.6.38</span>
    <span class="n">lib_version_phyrf_00f7ad715</span>
    <span class="n">component_version_btble_1</span><span class="mf">.8.25</span>
    <span class="n">lib_version_btblecontroller_1</span><span class="mf">.6.89</span>
    <span class="n">component_version_sdk_2</span><span class="mf">.0.75</span>
    <span class="nb">compile</span> <span class="n">time</span><span class="p">:</span><span class="n">Apr</span> <span class="mi">30</span> <span class="mi">2025</span> <span class="mi">11</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">58</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-rst">
<h3>AT+RST<a class="headerlink" href="#at-rst" title="Link to this heading"></a></h3>
<p>Function: Restart the module.</p>
<section id="id2">
<h4>Execute Command<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">RST</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-restore">
<h3>AT+RESTORE<a class="headerlink" href="#at-restore" title="Link to this heading"></a></h3>
<p>Function: Restore factory settings.</p>
<section id="id3">
<h4>Execute Command<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">RESTORE</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cmd">
<h3>AT+CMD?<a class="headerlink" href="#at-cmd" title="Link to this heading"></a></h3>
<p>Function: List all AT commands and types supported in current firmware.</p>
<section id="query-command">
<h4>Query Command<a class="headerlink" href="#query-command" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CMD?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CMD</span><span class="p">:</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">AT</span> <span class="n">command</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">support</span> <span class="n">test</span> <span class="n">command</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">support</span> <span class="n">query</span> <span class="n">command</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">support</span> <span class="nb">set</span> <span class="n">command</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">support</span> <span class="n">execute</span> <span class="n">command</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id4">
<h4>Parameters<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;index&gt;</strong>: AT command sequence number.</p></li>
<li><p><strong>&lt;AT command name&gt;</strong>: AT command name.</p></li>
<li><p><strong>&lt;support test command&gt;</strong>: 0 means not supported, 1 means supported.</p></li>
<li><p><strong>&lt;support query command&gt;</strong>: 0 means not supported, 1 means supported.</p></li>
<li><p><strong>&lt;support set command&gt;</strong>: 0 means not supported, 1 means supported.</p></li>
<li><p><strong>&lt;support execute command&gt;</strong>: 0 means not supported, 1 means supported.</p></li>
</ul>
</section>
<section id="id5">
<h4>Example<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CMD?
+CMD:0,\&quot;AT\&quot;,0,0,0,1
+CMD:1,\&quot;AT+RST\&quot;,0,0,0,1
+CMD:2,\&quot;AT+GMR\&quot;,0,0,0,1
+CMH:3,\&quot;AT+CMD\&quot;,0,1,0,0
+CMD:4,\&quot;ATE0\&quot;,0,0,0,1
+CMD:5,\&quot;ATE1\&quot;,0,0,0,1
+CMD:6,\&quot;AT+RESTORE\&quot;,0,0,0,1
+CMD:7,\&quot;AT+SLEEP\&quot;,0,1,1,0
OK
</pre></div>
</div>
</section>
</section>
<section id="ate">
<h3>ATE<a class="headerlink" href="#ate" title="Link to this heading"></a></h3>
<p>Function: Configure AT Commands Echoing.</p>
<section id="id6">
<h4>Execute Command<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATE0</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATE1</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id7">
<h4>Parameters<a class="headerlink" href="#id7" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>ATE0</strong>: Switch echo off.</p></li>
<li><p><strong>ATE1</strong>: Switch echo on.</p></li>
</ul>
</section>
</section>
<section id="at-sysram">
<h3>AT+SYSRAM?<a class="headerlink" href="#at-sysram" title="Link to this heading"></a></h3>
<p>Function: Query current remaining Heap Size and lwip remaining Heap Size.</p>
<section id="id8">
<h4>Query Command<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+SYSRAM?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">SYSRAM</span><span class="p">:</span><span class="o">&lt;</span><span class="n">remaining</span> <span class="n">RAM</span> <span class="n">size</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">lwip</span> <span class="n">heap</span> <span class="n">size</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id9">
<h4>Parameters<a class="headerlink" href="#id9" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;remaining RAM size&gt;</strong>: current system remaining heap size. Unit: byte.</p></li>
<li><p><strong>&lt;lwip heap size&gt;</strong>: current lwip remaining heap size. Unit: byte.</p></li>
</ul>
</section>
<section id="id10">
<h4>Example<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+SYSRAM?
+SYSRAM:148408,84044
OK
</pre></div>
</div>
</section>
</section>
<section id="at-sysmsg">
<h3>AT+SYSMSG?<a class="headerlink" href="#at-sysmsg" title="Link to this heading"></a></h3>
<p>Function: Query/Set system prompt information.</p>
<section id="id11">
<h4>Query Command<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the current system prompt information state.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+SYSMSG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">SYSMSG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="set-command">
<h4>Set Command<a class="headerlink" href="#set-command" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Configure system prompt information.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SYSMSG</span><span class="o">=&lt;</span><span class="n">state</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="parameter">
<h4>Parameter<a class="headerlink" href="#parameter" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;state&gt;</strong>:</p>
<ul>
<li><p>Bit0: Prompt information when quitting Wi-Fi :term: <cite>Passthrough Mode</cite>.</p>
<ul class="simple">
<li><p>0: Print no prompt information when quitting Wi-Fi :term: <cite>Passthrough Mode</cite>.</p></li>
<li><p>1: Print <code class="docutils literal notranslate"><span class="pre">+QUITT</span></code> when quitting Wi-Fi :term: <cite>Passthrough Mode</cite>.</p></li>
</ul>
</li>
<li><p>Bit1: Connection prompt information type.</p>
<ul class="simple">
<li><p>0: Use simple prompt information, such as <code class="docutils literal notranslate"><span class="pre">+CIP:XX,CONNECTED</span></code>.</p></li>
<li><p>1: Use detailed prompt information, such as <code class="docutils literal notranslate"><span class="pre">+LINK_CONN:status_type,link_id,ip_type,terminal_type,remote_ip,remote_port,local_port</span></code>.</p></li>
</ul>
</li>
<li><p>Bit2: Connection status prompt information for Wi-Fi :term: <cite>Passthrough Mode</cite>, Bluetooth LE SPP and Bluetooth SPP.</p>
<ul class="simple">
<li><p>0: Print no prompt information.</p></li>
<li><p>1: Print one of the following prompt information when Wi-Fi, socket, Bluetooth LE or Bluetooth status is changed:</p></li>
</ul>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="s2">&quot;+CIP:CONNECTED</span><span class="se">\r\n</span><span class="s2">&quot;</span> <span class="ow">or</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+LINK_CONN:&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CIP:DISCONNECTED</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CW:CONNECTING</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CW:CONNECTED</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CW:GOTIP</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CW:ERROR</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CW:DISCONNECTED</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="s2">&quot;+CW:SCAN_DONE</span><span class="se">\r\n</span><span class="s2">&quot;</span>
<span class="o">-</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+CW:STA_CONNECTED&quot;</span>
<span class="o">-</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+CW:STA_DISCONNECTED&quot;</span>
<span class="o">-</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+CW:DIST_STA_IP&quot;</span>
<span class="o">-</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+CW:SCAN_DONE&quot;</span>
<span class="o">-</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+BLECONN&quot;</span>
<span class="o">-</span> <span class="n">the</span> <span class="n">message</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="s2">&quot;+BLEDISCONN&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</li>
</ul>
</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if <code class="docutils literal notranslate"><span class="pre">AT+SYSSTORE=1</span></code>.</p></li>
<li><p>If you set Bit0 to 1, it will prompt +QUITT when you quit Wi-Fi :term: <cite>Passthrough Mode</cite>.</p></li>
<li><p>If you set Bit1 to 1, it will impact the information of command AT+CIPSTART and AT+CIPSERVER. It will supply +LINK_CONN:status_type,link_id,ip_type,terminal_type,remote_ip,remote_port,local_port instead of +CIP:XX,CONNECTED.</p></li>
</ul>
</section>
<section id="id12">
<h4>Example<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="nb">print</span> <span class="n">no</span> <span class="n">promt</span> <span class="n">info</span> <span class="n">when</span> <span class="n">quitting</span> <span class="n">Wi</span><span class="o">-</span><span class="n">Fi</span> <span class="n">passthrough</span> <span class="n">mode</span>
<span class="o">//</span> <span class="nb">print</span> <span class="n">detailed</span> <span class="n">connection</span> <span class="n">prompt</span> <span class="n">info</span>
<span class="o">//</span> <span class="nb">print</span> <span class="n">no</span> <span class="n">prompt</span> <span class="n">info</span> <span class="n">when</span> <span class="n">the</span> <span class="n">connection</span> <span class="n">status</span> <span class="ow">is</span> <span class="n">changed</span>
<span class="n">AT</span><span class="o">+</span><span class="n">SYSMSG</span><span class="o">=</span><span class="mi">2</span>
</pre></div>
</div>
</section>
</section>
<section id="at-syslog">
<h3>AT+SYSLOG?<a class="headerlink" href="#at-syslog" title="Link to this heading"></a></h3>
<p>Function: Enable or Disable the AT Error Code Prompt.</p>
<section id="id13">
<h4>Query Command<a class="headerlink" href="#id13" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query whether the AT error code prompt is enabled or not.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+SYSLOG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">SYSLOG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">status</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id14">
<h4>Set Command<a class="headerlink" href="#id14" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable or disable the AT error code prompt.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SYSLOG</span><span class="o">=&lt;</span><span class="n">status</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id15">
<h4>Parameter<a class="headerlink" href="#id15" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;status&gt;</strong>: enable or disable</p>
<ul>
<li><p>0: disable</p></li>
<li><p>1: enable</p></li>
</ul>
</li>
</ul>
</section>
<section id="id16">
<h4>Example<a class="headerlink" href="#id16" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">enable</span> <span class="n">AT</span> <span class="n">error</span> <span class="n">code</span> <span class="n">prompt</span>
<span class="n">AT</span><span class="o">+</span><span class="n">SYSLOG</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>
<span class="n">AT</span><span class="o">+</span><span class="n">FAKE</span>
<span class="n">ERR</span> <span class="n">CODE</span><span class="p">:</span><span class="mh">0x01090000</span>

<span class="n">ERROR</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// disable AT error code prompt
AT+SYSLOG=0

OK
AT+FAKE
// No `ERR CODE:0x01090000`

ERROR
</pre></div>
</div>
<p>The error code is a 32-bit hexadecimal value and defined as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>category</p></th>
<th class="head"><p>subcategory</p></th>
<th class="head"><p>extension</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bit32 ~ bit24</p></td>
<td><p>bit23 ~ bit16</p></td>
<td><p>bit15 ~ bit0</p></td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong>category:</strong> stationary value 0x01.</p></li>
<li><p><strong>subcategory:</strong> error type.</p>
<table class="docutils align-default" id="id552">
<caption><span class="caption-text">Subcategory of Error Code</span><a class="headerlink" href="#id552" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Error Type</p></th>
<th class="head"><p>Error Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AT_SUB_OK</p></td>
<td><p>0x00</p></td>
<td><p>OK</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_COMMON_ERROR</p></td>
<td><p>0x01</p></td>
<td><p>reserved</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_NO_TERMINATOR</p></td>
<td><p>0x02</p></td>
<td><p>terminator character not found (rn expected)</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_NO_AT</p></td>
<td><p>0x03</p></td>
<td><p>Starting AT not found (or at, At or aT entered)</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_PARA_LENGTH_MISMATCH</p></td>
<td><p>0x04</p></td>
<td><p>parameter length mismatch</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_PARA_TYPE_MISMATCH</p></td>
<td><p>0x05</p></td>
<td><p>parameter type mismatch</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_PARA_NUM_MISMATCH</p></td>
<td><p>0x06</p></td>
<td><p>parameter number mismatch</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_PARA_VALUE_INVALID</p></td>
<td><p>0x07</p></td>
<td><p>the parameter value is out of range</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_PARA_PARSE_FAIL</p></td>
<td><p>0x08</p></td>
<td><p>parse parameter fail</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_UNSUPPORT_CMD</p></td>
<td><p>0x09</p></td>
<td><p>the command is not supported</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_CMD_EXEC_FAIL</p></td>
<td><p>0x0A</p></td>
<td><p>the command execution failed</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_CMD_PROCESSING</p></td>
<td><p>0x0B</p></td>
<td><p>processing of previous command is in progress</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_CMD_OP_ERROR</p></td>
<td><p>0x0C</p></td>
<td><p>the command operation type is error</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_NO_MEMORY</p></td>
<td><p>0x0D</p></td>
<td><p>Memory allocation error</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_NO_RESOURCE</p></td>
<td><p>0x0E</p></td>
<td><p>Resource allocation error</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_TIMEOUT</p></td>
<td><p>0x0F</p></td>
<td><p>Operation timed out</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_NOT_ALLOWED</p></td>
<td><p>0x10</p></td>
<td><p>Operation not allowed</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_NOT_INIT</p></td>
<td><p>0x11</p></td>
<td><p>Operation not initialized</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_IO_ERROR</p></td>
<td><p>0x12</p></td>
<td><p>Device IO error</p></td>
</tr>
<tr class="row-odd"><td><p>AT_SUB_OP_ADDR_ERROR</p></td>
<td><p>0x13</p></td>
<td><p>Operation address error</p></td>
</tr>
<tr class="row-even"><td><p>AT_SUB_HANDLE_INVALID</p></td>
<td><p>0x14</p></td>
<td><p>Invalid handle for operation</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</section>
</section>
<section id="at-sysstore">
<h3>AT+SYSSTORE?<a class="headerlink" href="#at-sysstore" title="Link to this heading"></a></h3>
<p>Function: Query/Set parameter store mode.</p>
<section id="id17">
<h4>Query Command<a class="headerlink" href="#id17" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the AT parameter store mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+SYSSTORE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">SYSSTORE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">store_mode</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id18">
<h4>Set Command<a class="headerlink" href="#id18" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SYSSTORE</span><span class="o">=&lt;</span><span class="n">store_mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id19">
<h4>Parameter<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;store_mode&gt;</strong>:</p>
<ul>
<li><p>0: command configuration is not stored into flash.</p></li>
<li><p>1: command configuration is stored into flash. (Default)</p></li>
</ul>
</li>
</ul>
</section>
<section id="note">
<h4>Note<a class="headerlink" href="#note" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>This command affects set commands only. Query commands are always fetched from RAM.</p></li>
</ul>
</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SYSSTORE</span><span class="o">=</span><span class="mi">0</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>  <span class="o">//</span> <span class="n">Not</span> <span class="n">stored</span> <span class="n">into</span> <span class="n">flash</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span><span class="s2">&quot;1234567890&quot;</span> <span class="o">//</span> <span class="n">Not</span> <span class="n">stored</span> <span class="n">into</span> <span class="n">flash</span>

<span class="n">AT</span><span class="o">+</span><span class="n">SYSSTORE</span><span class="o">=</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">3</span>  <span class="o">//</span> <span class="n">Stored</span> <span class="n">into</span> <span class="n">flash</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span><span class="s2">&quot;1234567890&quot;</span> <span class="o">//</span> <span class="n">Stored</span> <span class="n">into</span> <span class="n">flash</span>
</pre></div>
</div>
</section>
</section>
<section id="at-temp">
<h3>AT+TEMP?<a class="headerlink" href="#at-temp" title="Link to this heading"></a></h3>
<p>Function: Query the temperature of the chip.</p>
<section id="id20">
<h4>Query Command<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the AT parameter store mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+TEMP?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">TEMP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">temperature</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id21">
<h4>Parameter<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;temperature&gt;</strong>: The temperature of the chip (Unit:C).</p></li>
</ul>
</section>
</section>
<section id="at-efuse-w">
<h3>AT+EFUSE-W<a class="headerlink" href="#at-efuse-w" title="Link to this heading"></a></h3>
<p>Function: Efuse write operation. The data will be written into the Efuse after the write confirmation operation is performed.</p>
<section id="id22">
<h4>Set Command<a class="headerlink" href="#id22" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">W</span><span class="o">=&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving serial data. You should enter the data and when the data length reaches the <code class="docutils literal notranslate"><span class="pre">&lt;nbytes&gt;</span></code> value, the transmission of data starts.</p>
<p>If the connection cannot be established or is disrupted during data transmission, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
<p>If the data has been successfully sent to the protocol stack (It does not mean that the data has been sent to the opposite end), the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id23">
<h4>Parameter<a class="headerlink" href="#id23" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;nbytes&gt;</strong>: The number of btyes to be written needs to be aligned to 4 bytes. Maximum: 8192 bytes.</p></li>
<li><p><strong>&lt;addr&gt;</strong>: This is the address of Efuse, it needs to be filled in as a string.</p></li>
</ul>
</section>
</section>
<section id="at-efuse-r">
<h3>AT+EFUSE-R<a class="headerlink" href="#at-efuse-r" title="Link to this heading"></a></h3>
<p>Function: Efuse read operation.</p>
<section id="id24">
<h4>Set Command<a class="headerlink" href="#id24" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Read the content of the Efuse at the specified address.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="o">=&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">reload</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="o">&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,[</span><span class="n">data</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id25">
<h4>Notes<a class="headerlink" href="#id25" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Among these parameters, nbytes and addr are mandatory inputs, while others are optional.</p></li>
<li><p>The number of bytes read needs to be aligned to 4 bytes, with a maximum length of 8192 bytes.</p></li>
</ul>
</section>
<section id="id26">
<h4>Example<a class="headerlink" href="#id26" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="o">&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,[</span><span class="n">data</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id27">
<h4>Parameter<a class="headerlink" href="#id27" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;nbytes&gt;</strong>: The number of btyes to be read.</p></li>
<li><p><strong>&lt;addr&gt;</strong>: This is the address of Efuse, it needs to be filled in as a string.</p></li>
<li><p><strong>&lt;reload&gt;</strong>: The read operation reload from the Efuse address.</p>
<ul>
<li><p>0: Indicates no reloading, the read data may be from the Efuse backup area.</p></li>
<li><p>1: Indicates reloading.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id28">
<h4>Example<a class="headerlink" href="#id28" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">read</span> <span class="n">Efuse</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="mi">1234</span>
<span class="n">OK</span>


<span class="o">//</span> <span class="n">write</span> <span class="n">Efuse</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">W</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="n">OK</span>

<span class="o">//</span> <span class="n">write</span> <span class="n">data</span>
<span class="n">aaaa</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="n">SEND</span> <span class="n">OK</span>

<span class="o">//</span> <span class="n">read</span> <span class="n">Efuse</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="n">aaaa</span>
<span class="n">OK</span>

<span class="o">//</span> <span class="n">read</span> <span class="n">Efuse</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span><span class="p">,</span><span class="mi">1</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="mi">0000</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-efuse-cfm">
<h3>AT+EFUSE-CFM<a class="headerlink" href="#at-efuse-cfm" title="Link to this heading"></a></h3>
<p>Function: Efuse write confirmation operation.</p>
<section id="id29">
<h4>Set Command<a class="headerlink" href="#id29" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Efuse write confirmation will directly write into Efuse.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">CFM</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id30">
<h4>Example<a class="headerlink" href="#id30" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">write</span> <span class="n">Efuse</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">W</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="n">OK</span>

<span class="o">//</span> <span class="n">write</span> <span class="n">data</span>
<span class="n">aaaa</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="n">SEND</span> <span class="n">OK</span>

<span class="o">//</span> <span class="n">write</span> <span class="n">Efuse</span> <span class="n">confirmation</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">CFM</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="n">OK</span>

<span class="o">//</span> <span class="n">read</span> <span class="n">Efuse</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x1c&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">EFUSE</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="n">aaaa</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-flash-w">
<h3>AT+FLASH-W<a class="headerlink" href="#at-flash-w" title="Link to this heading"></a></h3>
<p>Function: Flash write operation.</p>
<section id="id31">
<h4>Set Command<a class="headerlink" href="#id31" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">W</span><span class="o">=&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving serial data. You should enter the data, and when the data length reaches the <code class="docutils literal notranslate"><span class="pre">&lt;nbytes&gt;</span></code> value, the transmission of data starts.</p>
<p>If the connection cannot be established or is disrupted during data transmission, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
<p>If the data has been successfully sent to the protocol stack (It does not mean that the data has been sent to the opposite end), the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id32">
<h4>Parameter<a class="headerlink" href="#id32" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;nbytes&gt;</strong>: The number of btyes to be written. Maximum: 8192 bytes.</p></li>
<li><p><strong>&lt;addr&gt;</strong>: This is the address of Flash, it needs to be filled in as a string.</p></li>
</ul>
</section>
</section>
<section id="at-flash-r">
<h3>AT+FLASH-R<a class="headerlink" href="#at-flash-r" title="Link to this heading"></a></h3>
<p>Function: Flash read operation.</p>
<section id="id33">
<h4>Set Command<a class="headerlink" href="#id33" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Read the content of the Flash at the specified address.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">R</span><span class="o">=&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">R</span><span class="p">:[</span><span class="n">data</span><span class="p">]</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id34">
<h4>Example<a class="headerlink" href="#id34" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">flash</span> <span class="n">read</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">R</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;0x210000&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">R</span><span class="p">:</span><span class="n">ffff</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id35">
<h4>Parameter<a class="headerlink" href="#id35" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;nbytes&gt;</strong>: The number of btyes to be read.</p></li>
<li><p><strong>&lt;addr&gt;</strong>: This is the address of Flash, it needs to be filled in as a string.</p></li>
</ul>
</section>
</section>
<section id="at-flash-e">
<h3>AT+FLASH-E<a class="headerlink" href="#at-flash-e" title="Link to this heading"></a></h3>
<p>Function: Flash erase operation.</p>
<section id="id36">
<h4>Set Command<a class="headerlink" href="#id36" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Erase the content of the Flash at the specified address.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">E</span><span class="o">=&lt;</span><span class="n">nbytes</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id37">
<h4>Example<a class="headerlink" href="#id37" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">flash</span> <span class="n">erase</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">FLASH</span><span class="o">-</span><span class="n">E</span><span class="o">=</span><span class="mi">4096</span><span class="p">,</span><span class="s2">&quot;0x210000&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id38">
<h4>Parameter<a class="headerlink" href="#id38" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;nbytes&gt;</strong>: The number of btyes to be erase.</p></li>
<li><p><strong>&lt;addr&gt;</strong>: This is the address of Flash, it needs to be filled in as a string.</p></li>
</ul>
</section>
</section>
<section id="at-iopupd">
<h3>AT+IOPUPD<a class="headerlink" href="#at-iopupd" title="Link to this heading"></a></h3>
<p>Function: Initialize GPIO pins as pull-up/pull-down mode.</p>
<section id="id39">
<h4>Set Command<a class="headerlink" href="#id39" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IOPUPD</span><span class="o">=&lt;</span><span class="n">pin</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id40">
<h4>Example<a class="headerlink" href="#id40" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Initialize</span> <span class="n">GPIO</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">IOPUPD</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="mi">1</span>

<span class="o">//</span><span class="n">Response</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id41">
<h4>Parameter<a class="headerlink" href="#id41" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;pin&gt;</strong>: The pin numbers for ST67W611M1.</p></li>
<li><p><strong>&lt;state&gt;</strong>: Requires initialization as pull-up, pull-down or float.</p>
<ul>
<li><p>0: float.</p></li>
<li><p>1: Pull-up.</p></li>
<li><p>2: Pull-down.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-ioout">
<h3>AT+IOOUT<a class="headerlink" href="#at-ioout" title="Link to this heading"></a></h3>
<p>Function: Set the GPIO output to high/low level.</p>
<section id="id42">
<h4>Set Command<a class="headerlink" href="#id42" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IOOUT</span><span class="o">=&lt;</span><span class="n">pin</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id43">
<h4>Example<a class="headerlink" href="#id43" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Set</span> <span class="n">GPIO</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">IOOUT</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="mi">1</span>

<span class="o">//</span><span class="n">Response</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id44">
<h4>Parameter<a class="headerlink" href="#id44" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;pin&gt;</strong>: The pin numbers for ST67W611M1.</p></li>
<li><p><strong>&lt;state&gt;</strong>: The GPIO output to high/low level.</p>
<ul>
<li><p>0: low level.</p></li>
<li><p>1: high level.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-ioin">
<h3>AT+IOIN<a class="headerlink" href="#at-ioin" title="Link to this heading"></a></h3>
<p>Function: Query/Set the GPIO input mode.</p>
<section id="id45">
<h4>Set Command<a class="headerlink" href="#id45" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IOIN</span><span class="o">=&lt;</span><span class="n">pin</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pull_state</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id46">
<h4>Query Command<a class="headerlink" href="#id46" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+IOIN=&lt;pin&gt;?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">IOIN</span><span class="o">=&lt;</span><span class="n">pin</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id47">
<h4>Example<a class="headerlink" href="#id47" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Set GPIO input cmd
AT+IOIN=15

//Response
OK

// Query GPIO input state
AT+IOIN=15?

//Response
+IOIN=15:1
OK
</pre></div>
</div>
</section>
<section id="id48">
<h4>Parameter<a class="headerlink" href="#id48" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;pin&gt;</strong>: The pin numbers for ST67W611M1.</p></li>
<li><p><strong>&lt;state&gt;</strong>: Requires initialization as pull-up, pull-down or float.</p>
<ul>
<li><p>0: float.</p></li>
<li><p>1: Pull-up.</p></li>
<li><p>2: Pull-down.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-iorst">
<h3>AT+IORST<a class="headerlink" href="#at-iorst" title="Link to this heading"></a></h3>
<p>Function: Restore GPIO to floating input state.</p>
<section id="id49">
<h4>Set Command<a class="headerlink" href="#id49" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IORST</span><span class="o">=&lt;</span><span class="n">pin</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id50">
<h4>Example<a class="headerlink" href="#id50" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Reset</span> <span class="n">GPIO</span> <span class="n">cmd</span>
<span class="n">AT</span><span class="o">+</span><span class="n">IORST</span><span class="o">=</span><span class="mi">15</span>

<span class="o">//</span><span class="n">Response</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id51">
<h4>Parameter<a class="headerlink" href="#id51" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;pin&gt;</strong>: The pin numbers for ST67W611M1.</p></li>
</ul>
</section>
</section>
<section id="at-part">
<h3>AT+PART<a class="headerlink" href="#at-part" title="Link to this heading"></a></h3>
<p>Function: Get information about the partitions.</p>
<section id="id52">
<h4>Query Command<a class="headerlink" href="#id52" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+PART?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">PART</span><span class="p">:</span><span class="o">&lt;</span><span class="n">active_idx</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">age</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;name&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr0</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">len0</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">len1</span><span class="o">&gt;</span>

<span class="o">+</span><span class="n">PART</span><span class="p">:</span><span class="o">&lt;</span><span class="n">active_idx</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">age</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;name&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr0</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">len0</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">len1</span><span class="o">&gt;</span>

<span class="o">...</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id53">
<h4>Example<a class="headerlink" href="#id53" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Reset GPIO cmd
AT+PART?

//Response

+PART=0,0,&quot;   Boot2&quot;,0x00000000,0x00000000,57344,0

+PART=0,0,&quot;      FW&quot;,0x00010000,0x00210000,2097152,1474560

+PART=0,0,&quot;     mfg&quot;,0x00210000,0x00000000,1474560,0

+PART=0,0,&quot;   media&quot;,0x00378000,0x00000000,462848,0

+PART=0,0,&quot;     PSM&quot;,0x003e9000,0x00000000,32768,0

OK
</pre></div>
</div>
</section>
<section id="id54">
<h4>Parameter<a class="headerlink" href="#id54" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;active_idx&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: The current active partition index is 0.</p></li>
<li><p>1: The current active partition index is 1.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;age&gt;</strong>: The number of updates for this partition. For example, when the FW partition is updated via OTA, the age will increase with each OTA update.</p></li>
<li><p><strong>&lt;name&gt;</strong>: The partition name.</p></li>
<li><p><strong>&lt;addr0&gt;</strong>: The address of partition index 0.</p></li>
<li><p><strong>&lt;addr1&gt;</strong>: The address of partition index 1.</p></li>
<li><p><strong>&lt;len0&gt;</strong>: The length of partition index 0.</p></li>
<li><p><strong>&lt;len1&gt;</strong>: The length of partition index 1.</p></li>
</ul>
</section>
</section>
<section id="at-otastart">
<h3>AT+OTASTART<a class="headerlink" href="#at-otastart" title="Link to this heading"></a></h3>
<p>Function: Start OTA transmission.</p>
<section id="id55">
<h4>Set Command<a class="headerlink" href="#id55" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">OTASTART</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id56">
<h4>Parameter<a class="headerlink" href="#id56" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;enable&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: Terminate OTA transmission.</p></li>
<li><p>1: Start OTA transmission.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-otasend">
<h3>AT+OTASEND<a class="headerlink" href="#at-otasend" title="Link to this heading"></a></h3>
<p>Send OTA data. This command will write the data to the OTA partition in real time and perform validation.</p>
<section id="id57">
<h4>Set Command<a class="headerlink" href="#id57" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">OTASEND</span><span class="o">=&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>The symbol &gt; indicates that AT is ready for receiving serial data, and you can enter the data now. When the requirement of message length determined by the parameter &lt;length&gt; is met, the transmission starts.</p>
<p>If the transmission is successful, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
<p>Otherwise, it returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">FAIL</span>
</pre></div>
</div>
</section>
<section id="id58">
<h4>Parameters<a class="headerlink" href="#id58" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;length&gt;</strong>: OTA data length. The maximum length is equal to the system allocable heap size.</p></li>
</ul>
</section>
</section>
<section id="at-otafin">
<h3>AT+OTAFIN<a class="headerlink" href="#at-otafin" title="Link to this heading"></a></h3>
<p>Function: Verify and reboot from another partition.</p>
<section id="id59">
<h4>Set Command<a class="headerlink" href="#id59" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">OTAFIN</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>If the OTA has already written to the corresponding partition and verified the integrity successfully, and is about to reboot, return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>If the reboot fails, return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
</section>
<section id="at-fs">
<h3>AT+FS<a class="headerlink" href="#at-fs" title="Link to this heading"></a></h3>
<p>Function: Filesystem Operations.</p>
<section id="id60">
<h4>Set Command<a class="headerlink" href="#id60" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">FS</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">operation</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">offset</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id61">
<h4>Parameters<a class="headerlink" href="#id61" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;type&gt;</strong>: only LittleFS is currently supported.</p>
<blockquote>
<div><ul class="simple">
<li><p>0: LittleFS</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;operation&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: delete file.</p></li>
<li><p>1: create file.</p></li>
<li><p>2: write file.</p></li>
<li><p>3: read file.</p></li>
<li><p>4: query the size of the file.</p></li>
<li><p>5: list files in a specific directory. Only root directory is currently supported.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;filename&gt;</strong>: the file name that needs to be operated on.</p></li>
<li><p><strong>&lt;offset&gt;</strong>: apply to writing and reading operations only.</p></li>
<li><p><strong>&lt;length&gt;</strong>: data length, applying to writing and reading operations only.</p></li>
</ul>
</section>
<section id="id62">
<h4>Example<a class="headerlink" href="#id62" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Query</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">directory</span> <span class="s1">&#39;.&#39;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">FS</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s2">&quot;.&quot;</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">FS</span><span class="p">:</span><span class="n">LIST</span>
<span class="o">.</span>
<span class="o">..</span>
<span class="n">ca_1</span><span class="o">.</span><span class="n">crt</span>
<span class="n">ca_1</span><span class="o">.</span><span class="n">key</span>
<span class="n">ca_2</span><span class="o">.</span><span class="n">crt</span>
<span class="n">ca_2</span><span class="o">.</span><span class="n">key</span>
<span class="n">client_1</span><span class="o">.</span><span class="n">crt</span>
<span class="n">client_1</span><span class="o">.</span><span class="n">key</span>
<span class="n">client_2</span><span class="o">.</span><span class="n">crt</span>
<span class="n">client_2</span><span class="o">.</span><span class="n">key</span>
<span class="n">server_1</span><span class="o">.</span><span class="n">crt</span>
<span class="n">server_1</span><span class="o">.</span><span class="n">key</span>
<span class="n">server_2</span><span class="o">.</span><span class="n">crt</span>
<span class="n">server_2</span><span class="o">.</span><span class="n">key</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-gmac">
<h3>AT+GMAC<a class="headerlink" href="#at-gmac" title="Link to this heading"></a></h3>
<p>Function: Query the MAC addresses of 3 slots in efuse.</p>
<section id="id63">
<h4>Query Command<a class="headerlink" href="#id63" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+GMAC?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">GMACSLOT0</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mac_addr</span><span class="o">&gt;</span>

<span class="o">+</span><span class="n">GMACSLOT1</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mac_addr</span><span class="o">&gt;</span>

<span class="o">+</span><span class="n">GMACSLOT2</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mac_addr</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id64">
<h4>Parameters<a class="headerlink" href="#id64" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mac_addr&gt;</strong>: MAC address in efuse.</p></li>
</ul>
</section>
<section id="id65">
<h4>Example<a class="headerlink" href="#id65" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Query the MAC addresses of 3 slots in efuse.
AT+GMAC?

// Response
+GMACSLOT0:9c:b7:93:0c:c1:26
+GMACSLOT1:00:00:00:00:00:00
+GMACSLOT2:00:b7:00:00:00:00

OK
</pre></div>
</div>
</section>
</section>
<section id="at-pn">
<h3>AT+PN<a class="headerlink" href="#at-pn" title="Link to this heading"></a></h3>
<p>Function: Query the part number.</p>
<section id="id66">
<h4>Query Command<a class="headerlink" href="#id66" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+PN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">PN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">pn_num</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id67">
<h4>Parameters<a class="headerlink" href="#id67" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;pn_num&gt;</strong>: The part number in efuse.</p></li>
</ul>
</section>
<section id="id68">
<h4>Example<a class="headerlink" href="#id68" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+PN?

// Response
+PN:CP90-79196-2

OK
</pre></div>
</div>
</section>
</section>
<section id="at-vbat">
<h3>AT+VBAT<a class="headerlink" href="#at-vbat" title="Link to this heading"></a></h3>
<p>Function: Query the voltage value at the supply pin.</p>
<section id="id69">
<h4>Query Command<a class="headerlink" href="#id69" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+VBAT?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">VBAT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">vbat_val</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id70">
<h4>Parameters<a class="headerlink" href="#id70" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;vbat_val&gt;</strong>: The voltage value at the supply pin (unit: mV).</p></li>
</ul>
</section>
<section id="id71">
<h4>Example<a class="headerlink" href="#id71" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+VBAT?

// Response
+VBAT:3326

OK
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="wi-fi-function-at-command">
<h1>Wi-Fi function AT command<a class="headerlink" href="#wi-fi-function-at-command" title="Link to this heading"></a></h1>
<table class="docutils align-center" id="id553" style="width: 100%">
<caption><span class="caption-text">Instruction list</span><a class="headerlink" href="#id553" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#at-wifisp">AT+WIFISP</a></p></td>
<td><p>Query/Set enable/disable WLAN radio</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwmode">AT+CWMODE</a></p></td>
<td><p>Set Wi-Fi mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwnetmode">AT+CWNETMODE</a></p></td>
<td><p>Query device to work in NCP/RCP mode.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwstate">AT+CWSTATE</a></p></td>
<td><p>Query the Wi-Fi state and Wi-Fi information</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwjap">AT+CWJAP</a></p></td>
<td><p>Connect to AP</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwreconncfg">AT+CWRECONNCFG</a></p></td>
<td><p>Query/Set the Wi-Fi reconnecting configuration</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwlapopt">AT+CWLAPOPT</a></p></td>
<td><p>Set AT+CWLAP command scan result attributes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwlap">AT+CWLAP</a></p></td>
<td><p>Scan nearby AP</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwqap">AT+CWQAP</a></p></td>
<td><p>Disconnect AP</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwsap">AT+CWSAP</a></p></td>
<td><p>Query/Set the configuration of an SoftAP</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwlif">AT+CWLIF</a></p></td>
<td><p>Obtain IP address of the station that connects to an SoftAP</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwqif">AT+CWQIF</a></p></td>
<td><p>Disconnect stations from an SoftAP</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwdhcp">AT+CWDHCP</a></p></td>
<td><p>Enable/disable DHCP</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwdhcps">AT+CWDHCPS</a></p></td>
<td><p>Query/Set the IP addresses allocated by an SoftAP DHCP server</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwautoconn">AT+CWAUTOCONN</a></p></td>
<td><p>Set up automatic reconnection</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipstamac">AT+CIPSTAMAC</a></p></td>
<td><p>Query/Set the MAC address of an station</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipapmac">AT+CIPAPMAC</a></p></td>
<td><p>Query/Set the MAC address of an SoftAP</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipsta">AT+CIPSTA</a></p></td>
<td><p>Query/Set the IP address of an station</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipap">AT+CIPAP</a></p></td>
<td><p>Query/Set the IP address of an SoftAP</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwhostname">AT+CWHOSTNAME</a></p></td>
<td><p>Query/Set the host name of an station</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwcountry">AT+CWCOUNTRY</a></p></td>
<td><p>Query/Set the Wi-Fi Country Code</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwmonitor">AT+CWMONITOR</a></p></td>
<td><p>Set WiFi to enter monitor mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwstaproto">AT+CWSTAPROTO</a></p></td>
<td><p>Query/Set the 802.11 b/g/n/ax Protocol Standard of Station Mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwapproto">AT+CWAPPROTO</a></p></td>
<td><p>Query/Set the 802.11 b/g/n/ax Protocol Standard of SoftAP Mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-wps">AT+WPS</a></p></td>
<td><p>Enable the WPS function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwantenable">AT+CWANTENABLE</a></p></td>
<td><p>Enable/Disable Antenna Diversity Function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cwantnum">AT+CWANTNUM</a></p></td>
<td><p>Get the maximum number of antennas for the current device.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwant">AT+CWANT</a></p></td>
<td><p>Set/Query the currently used antenna.</p></td>
</tr>
</tbody>
</table>
<section id="id72">
<h2>Basic AT command description<a class="headerlink" href="#id72" title="Link to this heading"></a></h2>
<section id="at-wifisp">
<h3>AT+WIFISP<a class="headerlink" href="#at-wifisp" title="Link to this heading"></a></h3>
<p>Function: Query/Set enable/disable wlan radio.</p>
<section id="id73">
<h4>Query Command<a class="headerlink" href="#id73" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the wlan radio enablement status.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+WIFISP?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">WIFISP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">enable</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id74">
<h4>Set Command<a class="headerlink" href="#id74" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable/disable wlan radio.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">WIFISP</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id75">
<h4>Parameters<a class="headerlink" href="#id75" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>0: Disable wlan radio.</p></li>
<li><p>1: Enable wlan radio.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-cwmode">
<h3>AT+CWMODE<a class="headerlink" href="#at-cwmode" title="Link to this heading"></a></h3>
<p>Function: Query/set Wi-Fi mode.</p>
<section id="id76">
<h4>Query Command<a class="headerlink" href="#id76" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the Wi-Fi mode of devices.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWMODE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWMODE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id77">
<h4>Set Command<a class="headerlink" href="#id77" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the Wi-Fi mode of devices.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">auto_connect</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id78">
<h4>Parameters<a class="headerlink" href="#id78" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>:</p>
<ul>
<li><p>0: Null mode. Wi-Fi RF will be disabled.</p></li>
<li><p>1: Station mode.</p></li>
<li><p>2: SoftAP mode.</p></li>
<li><p>3: SoftAP+Station mode.</p></li>
</ul>
</li>
<li><p><strong>&lt;auto_connect&gt;</strong>: Enable or disable automatic connection to an AP when you change the mode of the device from the SoftAP mode or null mode to the station mode. Default: 1. If you omit the parameter, the default value will be used, i.e. automatically connecting to an AP.</p>
<ul>
<li><p>0: The device will not automatically connect to an AP.</p></li>
<li><p>1: The device will automatically connect to an AP if the configuration to connect to the AP has already been saved in flash before.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id79">
<h4>Note<a class="headerlink" href="#id79" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>SoftAP+Station mode requires AP and STA to be on the same channel</p></li>
</ul>
</section>
<section id="id80">
<h4>Example<a class="headerlink" href="#id80" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwnetmode">
<h3>AT+CWNETMODE<a class="headerlink" href="#at-cwnetmode" title="Link to this heading"></a></h3>
<p>Function: Query device working in NCP/RCP mode.</p>
<section id="id81">
<h4>Query Command<a class="headerlink" href="#id81" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query whether the device is operating in NCP/RCP mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWNETMODE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWNETMODE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">netmode</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id82">
<h4>Parameters<a class="headerlink" href="#id82" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;netmode&gt;</strong>:</p>
<ul>
<li><p>0: RCP mode.</p></li>
<li><p>1: NCP mode.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id83">
<h4>Note<a class="headerlink" href="#id83" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>When the device is in RCP mode, all network and MQTT-related AT commands become invalid.</p></li>
</ul>
</section>
</section>
<section id="at-cwstate">
<h3>AT+CWSTATE<a class="headerlink" href="#at-cwstate" title="Link to this heading"></a></h3>
<p>Function: Query the Wi-Fi state and Wi-Fi information.</p>
<section id="id84">
<h4>Query Command<a class="headerlink" href="#id84" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the Wi-Fi state and Wi-Fi information of devices.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWSTATE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWSTATE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;ssid&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id85">
<h4>Parameters<a class="headerlink" href="#id85" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;state&gt;</strong>: current Wi-Fi state.</p>
<ul>
<li><p>0: station has not started any Wi-Fi connection.</p></li>
<li><p>1: station has connected to an AP, but does not get an IPv4 address yet.</p></li>
<li><p>2: station has connected to an AP, and got an IPv4 address.</p></li>
<li><p>3: station is in Wi-Fi connecting or reconnecting state.</p></li>
<li><p>4: station is in Wi-Fi disconnected state.</p></li>
</ul>
</li>
<li><p><strong>&lt;&quot;ssid&quot;&gt;</strong>: the SSID of the target AP.</p></li>
</ul>
</section>
<section id="id86">
<h4>Note<a class="headerlink" href="#id86" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>When station is not connected to an AP, it is recommended to use this command to query Wi-Fi information; after station is connected to an AP, it is recommended to use AT+CWJAP to query Wi-Fi information.</p></li>
</ul>
</section>
</section>
<section id="at-cwjap">
<h3>AT+CWJAP<a class="headerlink" href="#at-cwjap" title="Link to this heading"></a></h3>
<p>Function: Connect to an AP.</p>
<section id="id87">
<h4>Query Command<a class="headerlink" href="#id87" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the AP to which the Station is already connected.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWJAP?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWJAP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">ssid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">bssid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">rssi</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">wep_en</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id88">
<h4>Set Command<a class="headerlink" href="#id88" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Connect an station to a targeted AP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">ssid</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">pwd</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">bssid</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">wep_en</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id89">
<h4>Notes<a class="headerlink" href="#id89" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Among these parameters, ssid and pwd are mandatory inputs, while others are optional.</p></li>
</ul>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CW</span><span class="p">:</span><span class="n">CONNECTED</span>
<span class="o">+</span><span class="n">CW</span><span class="p">:</span><span class="n">GOTIP</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CW</span><span class="p">:</span><span class="n">CONNECTING</span>

<span class="n">OK</span>

<span class="o">+</span><span class="n">CW</span><span class="p">:</span><span class="n">ERROR</span><span class="p">,</span><span class="o">&lt;</span><span class="n">reason_code</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWJAP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">error</span> <span class="n">code</span><span class="o">&gt;</span>
<span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id90">
<h4>Execute Command<a class="headerlink" href="#id90" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Connect an station to a targeted AP with last Wi-Fi configuration.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CW</span><span class="p">:</span><span class="n">CONNECTED</span>
<span class="o">+</span><span class="n">CW</span><span class="p">:</span><span class="n">GOTIP</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWJAP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">error</span> <span class="n">code</span><span class="o">&gt;</span>
<span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id91">
<h4>Parameters<a class="headerlink" href="#id91" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;ssid&gt;</strong>: the SSID of the target AP.</p>
<ul>
<li><p>Escape character syntax is needed if SSID or password contains special characters, such <code class="docutils literal notranslate"><span class="pre">,</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">\\</span></code>.</p></li>
</ul>
</li>
<li><p><strong>&lt;pwd&gt;</strong>: password, MAX: 64-byte ASCII.</p></li>
<li><p><strong>&lt;bssid&gt;</strong>: the MAC address of the target AP. It cannot be omitted when multiple APs have the same SSID.</p></li>
<li><p><strong>&lt;channel&gt;</strong>: channel.</p></li>
<li><p><strong>&lt;rssi&gt;</strong>: signal strength.</p></li>
<li><p><strong>&lt;wep_en&gt;</strong>: Is the connected AP using WEP encryption?</p>
<ul>
<li><p>0: Not WEP encryption.</p></li>
<li><p>1: Its WEP encryption.</p></li>
</ul>
</li>
<li><p><strong>&lt;error code&gt;</strong>: (for reference only)</p>
<ul>
<li><p>1: connection timeout.</p></li>
<li><p>2: wrong password.</p></li>
<li><p>3: cannot find the target AP.</p></li>
<li><p>4: connection failed.</p></li>
<li><p>others: unknown error occurred.</p></li>
</ul>
</li>
<li><p><strong>&lt;reason_code&gt;</strong>:</p>
<ul>
<li><p>1: Failure to allocate memory for transmitting an authentication frame.</p></li>
<li><p>2: Authentication process failed.</p></li>
<li><p>3: The authentication algorithm was not accepted or failed.</p></li>
<li><p>4: Failure to allocate memory for transmitting an association frame.</p></li>
<li><p>5: Association process with the access point failed.</p></li>
<li><p>6: Deauthentication by the access point occurred when not connected.</p></li>
<li><p>7: Deauthentication by the access point occurred while connected.</p></li>
<li><p>8: A timeout occurred during the 4-way handshake, likely due to PSK (Pre-Shared Key) issues.</p></li>
<li><p>9: Failed to transmit a deauthentication frame during the 4-way handshake.</p></li>
<li><p>10: Failed to allocate memory for a deauthentication frame during the 4-way handshake.</p></li>
<li><p>11: Timeout waiting for authentication or association response.</p></li>
<li><p>12: No BSSID or channel found during the scan process.</p></li>
<li><p>13: Failed to create a channel context when attempting to join a network.</p></li>
<li><p>14: Failure to join a network.</p></li>
<li><p>15: Failed to add a station (STA) to the network.</p></li>
<li><p>16: Beacon loss occurred, potentially leading to disconnection.</p></li>
<li><p>17: The network security settings do not match.</p></li>
<li><p>18: An error occurred due to an incorrect WEP key length.</p></li>
<li><p>19: User-initiated disconnection with deauthentication.</p></li>
<li><p>20: User-initiated disconnection without sending a deauthentication frame.</p></li>
<li><p>21: Disconnection occurred because the firmware failed to send a power-save null frame.</p></li>
<li><p>22: Traffic loss was detected.</p></li>
<li><p>23: Switching to a new channel failed.</p></li>
<li><p>24: Confirmation of authentication or association response failed.</p></li>
<li><p>25: Reassociation process is starting.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id92">
<h4>Notes<a class="headerlink" href="#id92" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>This command requires Station mode to be enabled.</p></li>
<li><p>The parameter <code class="docutils literal notranslate"><span class="pre">&lt;reconn_interval&gt;</span></code> of this command is the same as <code class="docutils literal notranslate"><span class="pre">&lt;interval_second&gt;</span></code> of the command AT + CWRECONNCFG . Therefore, if you omit <code class="docutils literal notranslate"><span class="pre">&lt;reconn_interval&gt;</span></code> when running this command, the interval between Wi-Fi reconnections will use the default value 1.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">&lt;ssid&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;password&gt;</span></code> parameter are omitted, AT will use the last configuration.</p></li>
<li><p>Execute command has the same maximum timeout to setup command. The default value is 15 seconds, but you can change it by setting the parameter <code class="docutils literal notranslate"><span class="pre">&lt;jap_timeout&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id93">
<h4>Example<a class="headerlink" href="#id93" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">If</span> <span class="n">the</span> <span class="n">target</span> <span class="n">AP</span><span class="s1">&#39;s SSID is &quot;abc&quot; and the password is &quot;0123456789&quot;, the command should be:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span><span class="s2">&quot;0123456789&quot;</span>

<span class="o">//</span> <span class="n">If</span> <span class="n">the</span> <span class="n">target</span> <span class="n">AP</span><span class="s1">&#39;s SSID is &quot;ab\,c&quot; and the password is &quot;0123456789&quot;</span><span class="se">\&quot;</span><span class="s1">, the command should be:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;ab</span><span class="se">\\</span><span class="s2">\,c&quot;</span><span class="p">,</span><span class="s2">&quot;0123456789</span><span class="se">\&quot;\\</span><span class="s2">&quot;</span>

<span class="o">//</span> <span class="n">If</span> <span class="n">multiple</span> <span class="n">APs</span> <span class="nb">all</span> <span class="n">have</span> <span class="n">the</span> <span class="n">SSID</span> <span class="n">of</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="n">the</span> <span class="n">target</span> <span class="n">AP</span> <span class="n">can</span> <span class="n">be</span> <span class="n">found</span> <span class="n">by</span> <span class="n">BSSID</span><span class="p">:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span><span class="s2">&quot;0123456789&quot;</span><span class="p">,</span><span class="s2">&quot;ca:d7:19:d8:a6:44&quot;</span>

<span class="o">//</span> <span class="n">If</span> <span class="n">at</span> <span class="ow">is</span> <span class="n">required</span> <span class="n">that</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">a</span> <span class="n">AP</span> <span class="n">by</span> <span class="n">protected</span> <span class="n">management</span> <span class="n">frame</span><span class="p">,</span> <span class="n">the</span> <span class="n">command</span> <span class="n">should</span> <span class="n">be</span><span class="p">:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span><span class="s2">&quot;0123456789&quot;</span><span class="p">,,,,,,,</span><span class="mi">3</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwreconncfg">
<h3>AT+CWRECONNCFG<a class="headerlink" href="#at-cwreconncfg" title="Link to this heading"></a></h3>
<p>Function:  Query/Set the Wi-Fi Reconnecting Configuration.</p>
<section id="id94">
<h4>Query Command<a class="headerlink" href="#id94" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the configuration of Wi-Fi reconnect.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWRECONNCFG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWRECONNCFG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">interval_second</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">repeat_count</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id95">
<h4>Set Command<a class="headerlink" href="#id95" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the configuration of Wi-Fi reconnect.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWRECONNCFG</span><span class="o">=&lt;</span><span class="n">interval_second</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">repeat_count</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id96">
<h4>Parameters<a class="headerlink" href="#id96" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;interval_second&gt;</strong>: the interval between Wi-Fi reconnections. Unit: second. Default: 0. Maximum: 7200.</p>
<ul>
<li><p>0: The station will not reconnect to the AP when disconnected.</p></li>
<li><p>[1,7200]: The station will reconnect to the AP at the specified interval when disconnected.</p></li>
</ul>
</li>
<li><p><strong>&lt;repeat_count&gt;</strong>: the number of attempts the device makes to reconnect to the AP. This parameter only works when the parameter <code class="docutils literal notranslate"><span class="pre">&lt;interval_second&gt;</span></code> is not 0. Default: 0. Maximum: 1000.</p>
<ul>
<li><p>0: The station will always try to reconnect to AP.</p></li>
<li><p>[1,1000]: The station will attempt to reconnect to AP for the specified times.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id97">
<h4>Example<a class="headerlink" href="#id97" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">The</span> <span class="n">station</span> <span class="n">tries</span> <span class="n">to</span> <span class="n">reconnect</span> <span class="n">to</span> <span class="n">AP</span> <span class="n">at</span> <span class="n">the</span> <span class="n">interval</span> <span class="n">of</span> <span class="n">one</span> <span class="n">second</span> <span class="k">for</span> <span class="mi">100</span> <span class="n">times</span><span class="o">.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWRECONNCFG</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span>

<span class="o">//</span> <span class="n">The</span> <span class="n">station</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">reconnect</span> <span class="n">to</span> <span class="n">AP</span> <span class="n">when</span> <span class="n">disconnected</span><span class="o">.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWRECONNCFG</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="id98">
<h4>Notes<a class="headerlink" href="#id98" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The parameter <code class="docutils literal notranslate"><span class="pre">&lt;interval_second&gt;</span></code> of this command is the same as the parameter <code class="docutils literal notranslate"><span class="pre">[&lt;reconn_interval&gt;]</span></code> of the command AT+CWJAP.</p></li>
<li><p>This command works for passive disconnection from APs, Wi-Fi mode switch, and Wi-Fi auto connect after power on.</p></li>
</ul>
</section>
</section>
<section id="at-cwlapopt">
<h3>AT+CWLAPOPT<a class="headerlink" href="#at-cwlapopt" title="Link to this heading"></a></h3>
<p>Function:  Set the Configuration for the Command AT+CWLAP.</p>
<section id="id99">
<h4>Set Command<a class="headerlink" href="#id99" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWLAPOPT</span><span class="o">=&lt;</span><span class="n">sort_enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">print</span> <span class="n">mask</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">rssi</span> <span class="nb">filter</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">authmode</span> <span class="n">mask</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">max_count</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id100">
<h4>Parameters<a class="headerlink" href="#id100" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;sort_enable&gt;</strong>: Enable/Disable sorting scan results by RSSI (default sorting).</p></li>
<li><p><strong>&lt;print mask&gt;</strong>: determine whether the following parameters are shown in the result of AT+CWLAP. Default: 0x7FF. If you set them to 1, it means showing the corresponding parameters; if you set them as 0, it means NOT showing the corresponding parameters.</p>
<ul>
<li><p>bit 0: determine whether &lt;ecn&gt; will be shown.</p></li>
<li><p>bit 1: determine whether &lt;ssid&gt; will be shown.</p></li>
<li><p>bit 2: determine whether &lt;rssi&gt; will be shown.</p></li>
<li><p>bit 3: determine whether &lt;mac&gt; will be shown.</p></li>
<li><p>bit 4: determine whether &lt;channel&gt; will be shown.</p></li>
<li><p>bit 5: determine whether &lt;freq_offset&gt; will be shown.</p></li>
<li><p>bit 6: determine whether &lt;freqcal_val&gt; will be shown.</p></li>
<li><p>bit 7: determine whether &lt;pairwise_cipher&gt; will be shown.</p></li>
<li><p>bit 8: determine whether &lt;group_cipher&gt; will be shown.</p></li>
<li><p>bit 9: determine whether &lt;bgn&gt; will be shown.</p></li>
<li><p>bit 10: determine whether &lt;wps&gt; will be shown.</p></li>
</ul>
</li>
<li><p><strong>[&lt;rssi filter&gt;]</strong>: determine whether the result of the command AT+CWLAP will be filtered according to <code class="docutils literal notranslate"><span class="pre">rssi</span> <span class="pre">filter</span></code>. In other words, the result of the command will <strong>NOT</strong> show the APs whose signal strength is below <code class="docutils literal notranslate"><span class="pre">rssi</span> <span class="pre">filter</span></code>. Unit: dBm. Default: 100. Range: [100,40].</p></li>
<li><p><strong>[&lt;authmode mask&gt;]</strong>: determine whether APs with the following authmodes are shown in the result of AT+CWLAP. Default: 0xFFFF. If you set <code class="docutils literal notranslate"><span class="pre">bit</span> <span class="pre">x</span></code> to 1, the APs with the corresponding authmode will be shown. If you set <code class="docutils literal notranslate"><span class="pre">bit</span> <span class="pre">x</span></code> to 0, the APs with the corresponding authmode will NOT be shown;</p>
<ul>
<li><p>bit 0: determine whether APs with <code class="docutils literal notranslate"><span class="pre">OPEN</span></code> authmode will be shown.</p></li>
<li><p>bit 1: determine whether APs with <code class="docutils literal notranslate"><span class="pre">WEP</span></code> authmode will be shown.</p></li>
<li><p>bit 2: determine whether APs with <code class="docutils literal notranslate"><span class="pre">WPA_PSK</span></code> authmode will be shown.</p></li>
<li><p>bit 3: determine whether APs with <code class="docutils literal notranslate"><span class="pre">WPA2_PSK</span></code> authmode will be shown.</p></li>
<li><p>bit 4: determine whether APs with <code class="docutils literal notranslate"><span class="pre">WPA_WPA2_PSK</span></code> authmode will be shown.</p></li>
<li><p>bit 5: determine whether APs with <code class="docutils literal notranslate"><span class="pre">WPA2_ENTERPRISE</span></code> authmode will be shown.</p></li>
<li><p>bit 6: determine whether APs with <code class="docutils literal notranslate"><span class="pre">WPA3_PSK</span></code> authmode will be shown.</p></li>
<li><p>bit 7: determine whether AP with <code class="docutils literal notranslate"><span class="pre">WPA2_WPA3_PSK</span></code> authmode will be shown.</p></li>
</ul>
</li>
<li><p><strong>[&lt;max_count&gt;]</strong>: The maximum number of WiFi networks scanned is 50 by default, meaning the CWLAP command response can include up to 50 scanned results. Range: (0,50].</p></li>
</ul>
</section>
<section id="id101">
<h4>Example<a class="headerlink" href="#id101" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">The</span> <span class="n">first</span> <span class="n">parameter</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">,</span> <span class="n">meaning</span> <span class="n">that</span> <span class="n">the</span> <span class="n">result</span> <span class="n">of</span> <span class="n">the</span> <span class="n">command</span> <span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span> <span class="n">will</span> <span class="n">be</span> <span class="n">ordered</span> <span class="n">according</span> <span class="n">to</span> <span class="n">RSSI</span><span class="p">;</span>
<span class="o">//</span> <span class="n">The</span> <span class="n">second</span> <span class="n">parameter</span> <span class="ow">is</span> <span class="mi">31</span><span class="p">,</span> <span class="n">namely</span> <span class="mh">0x1F</span><span class="p">,</span> <span class="n">meaning</span> <span class="n">that</span> <span class="n">the</span> <span class="n">corresponding</span> <span class="n">bits</span> <span class="n">of</span> <span class="o">&lt;</span><span class="nb">print</span> <span class="n">mask</span><span class="o">&gt;</span> <span class="n">are</span> <span class="nb">set</span> <span class="n">to</span> <span class="mf">1.</span> <span class="n">All</span> <span class="n">parameters</span> <span class="n">will</span> <span class="n">be</span> <span class="n">shown</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">result</span> <span class="n">of</span> <span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span><span class="o">.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWLAPOPT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">31</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span>

<span class="o">//</span> <span class="n">Just</span> <span class="n">show</span> <span class="n">the</span> <span class="n">AP</span> <span class="n">which</span> <span class="n">authmode</span> <span class="ow">is</span> <span class="n">OPEN</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWLAPOPT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwlap">
<h3>AT+CWLAP<a class="headerlink" href="#at-cwlap" title="Link to this heading"></a></h3>
<p>Function: List Available APs.</p>
<section id="id102">
<h4>Set Command<a class="headerlink" href="#id102" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the APs with specified parameters, such as the SSID, MAC address, or channel.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">scan_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">ssid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">mac</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_time_min</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_time_max</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id103">
<h4>Execute Command<a class="headerlink" href="#id103" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>List all available APs.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWLAP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">ecn</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">ssid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">rssi</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">mac</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">freq_offset</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">freqcal_val</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pairwise_cipher</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">group_cipher</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">bgn</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">wps</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id104">
<h4>Parameters<a class="headerlink" href="#id104" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;ecn&gt;</strong>: encryption method.</p>
<ul>
<li><p>0: OPEN</p></li>
<li><p>1: WEP</p></li>
<li><p>2: WPA_PSK</p></li>
<li><p>3: WPA2_PSK</p></li>
<li><p>4: WPA_WPA2_PSK</p></li>
<li><p>5: WPAx_ENTERPRISE</p></li>
<li><p>6: WPA3_PSK</p></li>
<li><p>7: WPA2_WPA3_PSK</p></li>
</ul>
</li>
<li><p><strong>&lt;scan_type&gt;</strong>: Wi-Fi scan type:</p>
<ul>
<li><p>0: active scan</p></li>
<li><p>1: passive scan</p></li>
</ul>
</li>
<li><p><strong>&lt;ssid&gt;</strong>: string parameter showing SSID of the AP.</p></li>
<li><p><strong>&lt;rssi&gt;</strong>: signal strength.</p></li>
<li><p><strong>&lt;mac&gt;</strong>: string parameter showing MAC address of the AP.</p></li>
<li><p><strong>&lt;channel&gt;</strong>: channel.</p></li>
<li><p><strong>&lt;scan_time_min&gt;</strong>: the minimum active scan time per channel. Unit: millisecond. Range [0,1500]. If the scan type is passive, this parameter is invalid.</p></li>
<li><p><strong>&lt;scan_time_max&gt;</strong>: the maximum active scan time per channel. Unit: millisecond. Range [0,1500]. If this parameter is 0, the firmware will use the default time: 120 ms for active scan; 360 ms for passive scan.</p></li>
<li><p><strong>&lt;freq_offset&gt;</strong>: frequency offset (reserved item).</p></li>
<li><p><strong>&lt;freqcal_val&gt;</strong>: frequency calibration value (reserved item).</p></li>
<li><p><strong>&lt;pairwise_cipher&gt;</strong>: pairwise cipher type.</p>
<ul>
<li><p>0: None</p></li>
<li><p>1: WEP40</p></li>
<li><p>2: WEP104</p></li>
<li><p>3: TKIP</p></li>
<li><p>4: CCMP</p></li>
<li><p>5: TKIP and CCMP</p></li>
<li><p>6: AES-CMAC-128</p></li>
<li><p>7: Unknown</p></li>
</ul>
</li>
<li><p><strong>&lt;group_cipher&gt;</strong>: group cipher type, same enumerated value to <code class="docutils literal notranslate"><span class="pre">&lt;pairwise_cipher&gt;</span></code>.</p></li>
<li><p><strong>&lt;bgn&gt;</strong>: 802.11 b/g/n. If the corresponding bit is 1, the corresponding mode is enabled; if the corresponding bit is 0, the corresponding mode is disabled.</p>
<ul>
<li><p>bit 0: bit to identify if 802.11b mode is enabled or not</p></li>
<li><p>bit 1: bit to identify if 802.11g mode is enabled or not</p></li>
<li><p>bit 2: bit to identify if 802.11n mode is enabled or not</p></li>
<li><p>bit 3: bit to identify if 802.11ax mode is enabled or not</p></li>
</ul>
</li>
<li><p><strong>&lt;wps&gt;</strong>: wps flag.</p>
<ul>
<li><p>0: WPS disabled</p></li>
<li><p>1: WPS enabled</p></li>
</ul>
</li>
</ul>
</section>
<section id="id105">
<h4>Example<a class="headerlink" href="#id105" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;Wi-Fi&quot;</span><span class="p">,</span><span class="s2">&quot;ca:d7:19:d8:a6:44&quot;</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">1000</span>

<span class="o">//</span> <span class="n">Search</span> <span class="k">for</span> <span class="n">APs</span> <span class="k">with</span> <span class="n">a</span> <span class="n">designated</span> <span class="n">SSID</span><span class="p">:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWLAP</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;Wi-Fi&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwqap">
<h3>AT+CWQAP<a class="headerlink" href="#at-cwqap" title="Link to this heading"></a></h3>
<p>Function: Disconnect from an AP.</p>
<section id="id106">
<h4>Execute Command<a class="headerlink" href="#id106" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWQAP</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">restore</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWQAP</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id107">
<h4>Parameters<a class="headerlink" href="#id107" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Optional &lt;restore&gt;</strong>: flag to erase the saved SSID and password information.</p>
<ul>
<li><p>0: Do not erase the saved SSID and password information (default).</p></li>
<li><p>1: Erase the saved SSID and password information.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-cwsap">
<h3>AT+CWSAP<a class="headerlink" href="#at-cwsap" title="Link to this heading"></a></h3>
<p>Function: Query/Set the configuration of an SoftAP.</p>
<section id="id108">
<h4>Query Command<a class="headerlink" href="#id108" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the configuration parameters of an SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWSAP?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWSAP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">ssid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pwd</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">ecn</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">max</span> <span class="n">conn</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">ssid</span> <span class="n">hidden</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id109">
<h4>Set Command<a class="headerlink" href="#id109" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the configuration of an SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWSAP</span><span class="o">=&lt;</span><span class="n">ssid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pwd</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">chl</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">ecn</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="nb">max</span> <span class="n">conn</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">ssid</span> <span class="n">hidden</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id110">
<h4>Parameters<a class="headerlink" href="#id110" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;ssid&gt;</strong>: string parameter showing SSID of the AP.</p></li>
<li><p><strong>&lt;pwd&gt;</strong>: string parameter showing the password. Length: 8 ~ 64 bytes ASCII.</p></li>
<li><p><strong>&lt;channel&gt;</strong>: channel ID.</p></li>
<li><p><strong>&lt;ecn&gt;</strong>: encryption method; WEP is not supported.</p>
<ul>
<li><p>0: OPEN</p></li>
<li><p>2: WPA_PSK</p></li>
<li><p>3: WPA2_PSK</p></li>
<li><p>4: WPA3_PSK</p></li>
</ul>
</li>
<li><p><strong>[&lt;max conn&gt;]</strong>: maximum number of stations that SoftAP can connect. Range: [1,4].</p></li>
<li><p><strong>[&lt;ssid hidden&gt;]</strong>:</p>
<ul>
<li><p>0: broadcasting SSID (default).</p></li>
<li><p>1: not broadcasting SSID.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id111">
<h4>Notes<a class="headerlink" href="#id111" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>This command works only when AT+CWMODE=2 or AT+CWMODE=3.</p></li>
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
</ul>
</section>
</section>
<section id="at-cwlif">
<h3>AT+CWLIF<a class="headerlink" href="#at-cwlif" title="Link to this heading"></a></h3>
<p>Function: Obtain IP Address of the Station That Connects to an SoftAP.</p>
<section id="id112">
<h4>Execute Command<a class="headerlink" href="#id112" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWLIF</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWLIF</span><span class="p">:</span><span class="o">&lt;</span><span class="n">ip</span> <span class="n">addr</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">mac</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id113">
<h4>Parameters<a class="headerlink" href="#id113" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;ip addr&gt;</strong>: IP address of the station that connects to the SoftAP.</p></li>
<li><p><strong>&lt;mac&gt;</strong>: MAC address of the station that connects to the SoftAP.</p></li>
</ul>
</section>
<section id="id114">
<h4>Note<a class="headerlink" href="#id114" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>This command cannot get a static IP. It works only when DHCP of both the SoftAP and the connected station are enabled.</p></li>
</ul>
</section>
</section>
<section id="at-cwqif">
<h3>AT+CWQIF<a class="headerlink" href="#at-cwqif" title="Link to this heading"></a></h3>
<p>Function: Disconnect Stations from an SoftAP.</p>
<section id="id115">
<h4>Execute Command<a class="headerlink" href="#id115" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Disconnect all stations that are connected to the SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWQIF</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id116">
<h4>Set Command<a class="headerlink" href="#id116" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Disconnect a specific station from the SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWQIF</span><span class="o">=&lt;</span><span class="n">mac</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id117">
<h4>Example<a class="headerlink" href="#id117" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWQIF</span><span class="o">=</span><span class="s2">&quot;18:b9:05:ed:59:cc&quot;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id118">
<h4>Parameter<a class="headerlink" href="#id118" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mac&gt;</strong>: MAC address of the station to disconnect.</p></li>
</ul>
</section>
</section>
<section id="at-cwdhcp">
<h3>AT+CWDHCP<a class="headerlink" href="#at-cwdhcp" title="Link to this heading"></a></h3>
<p>Function: Enable/Disable DHCP.</p>
<section id="id119">
<h4>Query Command<a class="headerlink" href="#id119" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWDHCP?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id120">
<h4>Set Command<a class="headerlink" href="#id120" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable/disable DHCP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWDHCP</span><span class="o">=&lt;</span><span class="n">operate</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id121">
<h4>Parameters<a class="headerlink" href="#id121" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;operate&gt;</strong>:</p>
<ul>
<li><p>0: disable</p></li>
<li><p>1: enable</p></li>
</ul>
</li>
<li><p><strong>&lt;mode&gt;</strong>:</p>
<ul>
<li><p>Bit0: Station DHCP</p></li>
<li><p>Bit1: SoftAP DHCP</p></li>
</ul>
</li>
<li><p><strong>&lt;state&gt;</strong>: the status of DHCP</p>
<ul>
<li><p>Bit0:</p>
<ul>
<li><p>0: Station DHCP is disabled.</p></li>
<li><p>1: Station DHCP is enabled.</p></li>
</ul>
</li>
<li><p>Bit1:</p>
<ul>
<li><p>0: SoftAP DHCP is disabled.</p></li>
<li><p>1: SoftAP DHCP is enabled.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="id122">
<h4>Notes<a class="headerlink" href="#id122" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>This Set Command correlates with the commands that set static IP, such as AT+CIPSTA and AT+CIPAP:</p>
<ul>
<li><p>If DHCP is enabled, static IP address will be disabled;</p></li>
<li><p>If static IP address is enabled, DHCP will be disabled;</p></li>
<li><p>The last configuration overwrites the previous configuration.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id123">
<h4>Example<a class="headerlink" href="#id123" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Enable</span> <span class="n">Station</span> <span class="n">DHCP</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">last</span> <span class="n">DHCP</span> <span class="n">mode</span> <span class="ow">is</span> <span class="mi">2</span><span class="p">,</span> <span class="n">the</span> <span class="n">current</span> <span class="n">DHCP</span> <span class="n">mode</span> <span class="n">will</span> <span class="n">be</span> <span class="mf">3.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWDHCP</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>

<span class="o">//</span> <span class="n">Disable</span> <span class="n">SoftAP</span> <span class="n">DHCP</span><span class="o">.</span> <span class="n">If</span> <span class="n">the</span> <span class="n">last</span> <span class="n">DHCP</span> <span class="n">mode</span> <span class="ow">is</span> <span class="mi">3</span><span class="p">,</span> <span class="n">the</span> <span class="n">current</span> <span class="n">DHCP</span> <span class="n">mode</span> <span class="n">will</span> <span class="n">be</span> <span class="mf">1.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWDHCP</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwdhcps">
<h3>AT+CWDHCPS<a class="headerlink" href="#at-cwdhcps" title="Link to this heading"></a></h3>
<p>Function:Query/Set the IP Addresses Allocated by an SoftAP DHCP Server.</p>
<section id="id124">
<h4>Query Command<a class="headerlink" href="#id124" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWDHCPS?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWDHCPS</span><span class="o">=&lt;</span><span class="n">lease</span> <span class="n">time</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">start</span> <span class="n">IP</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">end</span> <span class="n">IP</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id125">
<h4>Set Command<a class="headerlink" href="#id125" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the IP address range of the SoftAP DHCP server.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWDHCPS</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">lease</span> <span class="n">time</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">start</span> <span class="n">IP</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">end</span> <span class="n">IP</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id126">
<h4>Parameters<a class="headerlink" href="#id126" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>1: Enable DHCP server settings. The parameters below have to be set.</p></li>
<li><p>0: Disable DHCP server settings and use the default IP address range.</p></li>
</ul>
</li>
<li><p><strong>&lt;lease time&gt;</strong>: lease time. Unit: minute. Range [1,2880].</p></li>
<li><p><strong>&lt;start IP&gt;</strong>: start IP address of the IP address range that can be obtained from SoftAP DHCP server.</p></li>
<li><p><strong>&lt;end IP&gt;</strong>: end IP address of the IP address range that can be obtained from SoftAP DHCP server.</p></li>
</ul>
</section>
<section id="id127">
<h4>Notes<a class="headerlink" href="#id127" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>This AT command works only when both SoftAP and DHCP server are enabled for devices.</p></li>
<li><p>The IP address should be in the same network segment as the IP address of SoftAP.</p></li>
</ul>
</section>
<section id="id128">
<h4>Example<a class="headerlink" href="#id128" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWDHCPS</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;192.168.4.10&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.4.15&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWDHCPS</span><span class="o">=</span><span class="mi">0</span> <span class="o">//</span> <span class="n">Disable</span> <span class="n">the</span> <span class="n">settings</span> <span class="ow">and</span> <span class="n">use</span> <span class="n">the</span> <span class="n">default</span> <span class="n">IP</span> <span class="n">address</span> <span class="nb">range</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwautoconn">
<h3>AT+CWAUTOCONN<a class="headerlink" href="#at-cwautoconn" title="Link to this heading"></a></h3>
<p>Function:Automatically Connect to an AP When Powered on</p>
<section id="id129">
<h4>Set Command<a class="headerlink" href="#id129" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWAUTOCONN</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id130">
<h4>Parameters<a class="headerlink" href="#id130" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>1: Enable automatic connection to an AP when powered on. (Default)</p></li>
<li><p>0: Disable automatic connection to an AP when powered on.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id131">
<h4>Note<a class="headerlink" href="#id131" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area.</p></li>
</ul>
</section>
<section id="id132">
<h4>Example<a class="headerlink" href="#id132" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWAUTOCONN</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipstamac">
<h3>AT+CIPSTAMAC<a class="headerlink" href="#at-cipstamac" title="Link to this heading"></a></h3>
<p>Function: Query/Set the MAC Address of an ST67W611M1 Station</p>
<section id="id133">
<h4>Query Command<a class="headerlink" href="#id133" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the MAC address of the Station.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSTAMAC?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSTAMAC</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mac</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id134">
<h4>Set Command<a class="headerlink" href="#id134" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the MAC address of an station.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSTAMAC</span><span class="o">=&lt;</span><span class="n">mac</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id135">
<h4>Parameters<a class="headerlink" href="#id135" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mac&gt;</strong>: string parameter showing MAC address of an station.</p></li>
</ul>
</section>
<section id="id136">
<h4>Notes<a class="headerlink" href="#id136" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>The MAC address of SoftAP is the same as Station, and when Station MAC is set, SoftAPs MAC will also be automatically updated.</p></li>
<li><p>Bit 0 of the MAC address CANNOT be 1. For example, a MAC address can be 1a: but not 15:.</p></li>
<li><p>FF:FF:FF:FF:FF:FF and 00:00:00:00:00:00 are invalid MAC address and cannot be set.</p></li>
</ul>
</section>
<section id="id137">
<h4>Example<a class="headerlink" href="#id137" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSTAMAC</span><span class="o">=</span><span class="s2">&quot;1a:fe:35:98:d3:7b&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipapmac">
<h3>AT+CIPAPMAC<a class="headerlink" href="#at-cipapmac" title="Link to this heading"></a></h3>
<p>Function: Query/Set the MAC Address of an SoftAP</p>
<section id="id138">
<h4>Query Command<a class="headerlink" href="#id138" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the MAC address of the SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPAPMAC?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPAPMAC</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mac</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id139">
<h4>Set Command<a class="headerlink" href="#id139" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the MAC address of the SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPAPMAC</span><span class="o">=&lt;</span><span class="n">mac</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id140">
<h4>Parameters<a class="headerlink" href="#id140" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mac&gt;</strong>: string parameter showing MAC address of the SoftAP.</p></li>
</ul>
</section>
<section id="id141">
<h4>Notes<a class="headerlink" href="#id141" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>The MAC address of SoftAP is the same as Station, and when SoftAP MAC is set, Stations MAC will also be automatically updated.</p></li>
<li><p>Bit 0 of the MAC address CANNOT be 1. For example, a MAC address can be 18: but not 15:.</p></li>
<li><p>FF:FF:FF:FF:FF:FF and 00:00:00:00:00:00 are invalid MAC and cannot be set.</p></li>
</ul>
</section>
<section id="id142">
<h4>Example<a class="headerlink" href="#id142" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPAPMAC</span><span class="o">=</span><span class="s2">&quot;18:fe:35:98:d3:7b&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipsta">
<h3>AT+CIPSTA<a class="headerlink" href="#at-cipsta" title="Link to this heading"></a></h3>
<p>Function: Query/Set the IP Address of an Station</p>
<section id="id143">
<h4>Query Command<a class="headerlink" href="#id143" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the IP address of the Station.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSTA?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSTA</span><span class="p">:</span><span class="n">ip</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;ip&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIPSTA</span><span class="p">:</span><span class="n">gateway</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;gateway&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIPSTA</span><span class="p">:</span><span class="n">netmask</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;netmask&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIPSTA</span><span class="p">:</span><span class="n">ip6ll</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;ipv6 addr&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIPSTA</span><span class="p">:</span><span class="n">ip6gl</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;ipv6 addr&quot;</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id144">
<h4>Set Command<a class="headerlink" href="#id144" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the IPv4 address of the station.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSTA</span><span class="o">=&lt;</span><span class="s2">&quot;ip&quot;</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;gateway&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;netmask&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;dns&quot;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id145">
<h4>Parameters<a class="headerlink" href="#id145" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;&quot;ip&quot;&gt;</strong>: string parameter showing the IPv4 address of the station.</p></li>
<li><p><strong>&lt;&quot;gateway&quot;&gt;</strong>: gateway.</p></li>
<li><p><strong>&lt;&quot;netmask&quot;&gt;</strong>: netmask.</p></li>
<li><p><strong>&lt;ipv6 addr&gt;</strong>: string parameter showing the IPv6 address of the ST67W611M1 station.</p></li>
</ul>
</section>
<section id="id146">
<h4>Notes<a class="headerlink" href="#id146" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>For the query command, only when the station is connected to an AP or the static IP address is configured can its IP address be queried.</p></li>
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>The Set Command correlates with the commands that set DHCP, such as AT+CWDHCP.</p>
<ul>
<li><p>If static IP address is enabled, DHCP will be disabled;</p></li>
<li><p>If DHCP is enabled, static IP address will be disabled;</p></li>
<li><p>The last configuration overwrites the previous configuration.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id147">
<h4>Example<a class="headerlink" href="#id147" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSTA</span><span class="o">=</span><span class="s2">&quot;192.168.6.100&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.6.1&quot;</span><span class="p">,</span><span class="s2">&quot;255.255.255.0&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipap">
<h3>AT+CIPAP<a class="headerlink" href="#at-cipap" title="Link to this heading"></a></h3>
<p>Function: Query/Set the IP Address of an SoftAP</p>
<section id="id148">
<h4>Query Command<a class="headerlink" href="#id148" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the IP address of the SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPAP?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPAP</span><span class="p">:</span><span class="n">ip</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;ip&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIPAP</span><span class="p">:</span><span class="n">gateway</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;gateway&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIPAP</span><span class="p">:</span><span class="n">netmask</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;netmask&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id149">
<h4>Set Command<a class="headerlink" href="#id149" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the IPv4 address of the SoftAP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPAP</span><span class="o">=&lt;</span><span class="s2">&quot;ip&quot;</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;gateway&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;netmask&quot;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id150">
<h4>Parameters<a class="headerlink" href="#id150" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;ip&quot;&gt;</strong>: string parameter showing the IPv4 address of the SoftAP.</p></li>
<li><p><strong>&lt;&quot;gateway&quot;&gt;</strong>: gateway.</p></li>
<li><p><strong>&lt;&quot;netmask&quot;&gt;</strong>: netmask.</p></li>
</ul>
</section>
<section id="id151">
<h4>Notes<a class="headerlink" href="#id151" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1.</p></li>
<li><p>The set command correlates with the commands that set DHCP, such as AT+CWDHCP.</p>
<ul>
<li><p>If static IP address is enabled, DHCP will be disabled;</p></li>
<li><p>If DHCP is enabled, static IP address will be disabled;</p></li>
<li><p>The last configuration overwrites the previous configuration.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id152">
<h4>Example<a class="headerlink" href="#id152" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPAP</span><span class="o">=</span><span class="s2">&quot;192.168.5.1&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.5.1&quot;</span><span class="p">,</span><span class="s2">&quot;255.255.255.0&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwhostname">
<h3>AT+CWHOSTNAME<a class="headerlink" href="#at-cwhostname" title="Link to this heading"></a></h3>
<p>Function: Query/Set the Host Name of an Station</p>
<section id="id153">
<h4>Query Command<a class="headerlink" href="#id153" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the host name of Station.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWHOSTNAME?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWHOSTNAME</span><span class="p">:</span><span class="o">&lt;</span><span class="n">hostname</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id154">
<h4>Set Command<a class="headerlink" href="#id154" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the host name of Station.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWHOSTNAME</span><span class="o">=&lt;</span><span class="n">hostname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>If the Station mode is not enabled, the command will return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id155">
<h4>Parameters<a class="headerlink" href="#id155" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;hostname&gt;</strong>: the host name of the Station. Maximum length: 32 bytes.</p></li>
</ul>
</section>
<section id="id156">
<h4>Note<a class="headerlink" href="#id156" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes are not saved in the flash.</p></li>
</ul>
</section>
<section id="id157">
<h4>Example<a class="headerlink" href="#id157" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">3</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWHOSTNAME</span><span class="o">=</span><span class="s2">&quot;my_test&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwcountry">
<h3>AT+CWCOUNTRY<a class="headerlink" href="#at-cwcountry" title="Link to this heading"></a></h3>
<p>Function: Query/Set the Wi-Fi Country Code</p>
<section id="id158">
<h4>Query Command<a class="headerlink" href="#id158" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query Wi-Fi country code information.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWCOUNTRY?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWCOUNTRY</span><span class="p">:</span><span class="o">&lt;</span><span class="n">country_policy</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">country_code</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id159">
<h4>Set Command<a class="headerlink" href="#id159" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the Wi-Fi country code information.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span> <span class="n">CWCOUNTRY</span><span class="o">=&lt;</span><span class="n">country_policy</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">country_code</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id160">
<h4>Parameters<a class="headerlink" href="#id160" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;country_policy&gt;</strong>:</p>
<ul>
<li><p>0: will change the county code to be the same as the AP that the device is connected to.</p></li>
<li><p>1: the country code will not change, always be the one set by command.</p></li>
</ul>
</li>
<li><p><strong>&lt;country_code&gt;</strong>: country code. Maximum length: 3 characters.</p></li>
</ul>
</section>
<section id="id161">
<h4>Note<a class="headerlink" href="#id161" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes are not saved in the flash.</p></li>
</ul>
</section>
<section id="id162">
<h4>Example<a class="headerlink" href="#id162" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">3</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWCOUNTRY</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;CN&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwmonitor">
<h3>AT+CWMONITOR<a class="headerlink" href="#at-cwmonitor" title="Link to this heading"></a></h3>
<p>Function: Set WiFi to enter monitor mode</p>
<section id="id163">
<h4>Set Command<a class="headerlink" href="#id163" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set WiFi to enter monitor mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span> <span class="n">CWMONITOR</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel</span><span class="o">&gt;</span><span class="p">,[</span><span class="o">&lt;</span><span class="n">min_pkg_len</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">max_pkg_len</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">+</span><span class="n">CWMONITOR</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pkg_len</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="id164">
<h4>Parameters<a class="headerlink" href="#id164" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>0: Stop the monitor mode.</p></li>
<li><p>1: Set WiFi to enter monitor mode.</p></li>
</ul>
</li>
<li><p><strong>&lt;channel&gt;</strong>: Channels that need to be monitored.</p></li>
<li><p><strong>&lt;min_pkg_len&gt;</strong>: Filter and receive packets with the minimum length.</p></li>
<li><p><strong>&lt;max_pkg_len&gt;</strong>: Filter and receive packets with the maximum length.</p></li>
<li><p><strong>&lt;pkg_len&gt;</strong>: Received packet length.</p></li>
<li><p><strong>&lt;data&gt;</strong>: Received raw data packet, displayed in hexadecimal format.</p></li>
</ul>
</section>
<section id="id165">
<h4>Note<a class="headerlink" href="#id165" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The monitored channel needs to be within the channel range set by the <a class="reference internal" href="#at-cwcountry">AT+CWCOUNTRY</a>.</p></li>
</ul>
</section>
<section id="id166">
<h4>Example<a class="headerlink" href="#id166" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMONITOR</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span>

<span class="n">OK</span>

<span class="o">+</span><span class="n">CWMONITOR</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">177</span><span class="p">:</span><span class="n">xxxxxxxxxxxxxx</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwstaproto">
<h3>AT+CWSTAPROTO<a class="headerlink" href="#at-cwstaproto" title="Link to this heading"></a></h3>
<p>Function: Query/Set the 802.11 b/g/n/ax Protocol Standard of Station Mode</p>
<section id="id167">
<h4>Query Command<a class="headerlink" href="#id167" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the 802.11 b/g/n/ax Protocol Standard of Station Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWSTAPROTO?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWSTAPROTO</span><span class="p">:</span><span class="o">&lt;</span><span class="n">protocol</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id168">
<h4>Set Command<a class="headerlink" href="#id168" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the 802.11 b/g/n/ax Protocol Standard of Station Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWSTAPROTO</span><span class="o">=&lt;</span><span class="n">protocol</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id169">
<h4>Parameters<a class="headerlink" href="#id169" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>bit0: 802.11b protocol standard.</p></li>
<li><p>bit1: 802.11g protocol standard.</p></li>
<li><p>bit2: 802.11n protocol standard.</p></li>
<li><p>bit3: 802.11ax protocol standard.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id170">
<h4>Note<a class="headerlink" href="#id170" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>It will only take effect on the next connection.</p></li>
<li><p>By default, PHY mode of ST67W611M1 is 802.11bgn/ax mode.</p></li>
</ul>
</section>
<section id="id171">
<h4>Example<a class="headerlink" href="#id171" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWSTAPROTO</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;SSID&quot;</span><span class="p">,</span><span class="s2">&quot;12345678&quot;</span>

<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwapproto">
<h3>AT+CWAPPROTO<a class="headerlink" href="#at-cwapproto" title="Link to this heading"></a></h3>
<p>Query/Set the 802.11 b/g/n/ax Protocol Standard of SoftAP Mode</p>
<section id="id172">
<h4>Query Command<a class="headerlink" href="#id172" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the 802.11 b/g/n/ax Protocol Standard of SoftAP Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWAPPROTO?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWAPPROTO</span><span class="p">:</span><span class="o">&lt;</span><span class="n">protocol</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id173">
<h4>Set Command<a class="headerlink" href="#id173" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the 802.11 b/g/n/ax Protocol Standard of SoftAP Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWAPPROTO</span><span class="o">=&lt;</span><span class="n">protocol</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id174">
<h4>Parameters<a class="headerlink" href="#id174" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>bit0: 802.11b protocol standard.</p></li>
<li><p>bit1: 802.11g protocol standard.</p></li>
<li><p>bit2: 802.11n protocol standard.</p></li>
<li><p>bit3: 802.11ax protocol standard.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id175">
<h4>Note<a class="headerlink" href="#id175" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>It will only take effect on the next connection.</p></li>
<li><p>By default, PHY mode of ST67W611M1 is 802.11bgn/ax mode.</p></li>
</ul>
</section>
<section id="id176">
<h4>Example<a class="headerlink" href="#id176" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWAPPROTO</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">2</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWSAP</span><span class="o">=</span><span class="s2">&quot;AP_SSID&quot;</span><span class="p">,</span><span class="s2">&quot;12345678&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span>

<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="at-wps">
<h3>AT+WPS<a class="headerlink" href="#at-wps" title="Link to this heading"></a></h3>
<p>Enable the WPS function</p>
<section id="id177">
<h4>Set Command<a class="headerlink" href="#id177" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable the WPS function.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">WPS</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">auth</span> <span class="n">floor</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id178">
<h4>Parameters<a class="headerlink" href="#id178" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>:</p>
<ul>
<li><p>1: Enable WPS (Wi-Fi Protected Setup) that uses PBC (Push Button Configuration) mode.</p></li>
<li><p>0: Disable WPS that uses PBC mode.</p></li>
</ul>
</li>
<li><p><strong>&lt;auth floor&gt;</strong>:</p>
<ul>
<li><p>0: Auth open(Default).</p></li>
<li><p>1: Auth WEP.</p></li>
<li><p>2: Auth WPA PSK.</p></li>
<li><p>3: Auth WPA2 PSK.</p></li>
<li><p>4: Auth WPA/WPA2 PSK.</p></li>
</ul>
</li>
</ul>
<section id="id179">
<h5>Notes<a class="headerlink" href="#id179" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>WPS can only be used when the ST67W611M1 station is enabled.</p></li>
<li><p>WPS does not support WEP (Wired-Equivalent Privacy) encryption.</p></li>
</ul>
</section>
</section>
<section id="id180">
<h4>Example<a class="headerlink" href="#id180" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">WPS</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwantenable">
<h3>AT+CWANTENABLE<a class="headerlink" href="#at-cwantenable" title="Link to this heading"></a></h3>
<p>Enable/Disable Antenna Diversity Function.</p>
<section id="id181">
<h4>Query Command<a class="headerlink" href="#id181" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query whether the antenna diversity function is enabled.
<strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWANTENABLE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWANTENABLE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">dynamic_enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">static_enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pin</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id182">
<h4>Set Command<a class="headerlink" href="#id182" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable Antenna Diversity Function.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWANTENABLE</span><span class="o">=&lt;</span><span class="n">dynamic_enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">static_enable</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">pin</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id183">
<h4>Parameters<a class="headerlink" href="#id183" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;dynamic_enable&gt;</strong>:</p>
<ul>
<li><p>1: Enable Dynamic Antenna Diversity Function.</p></li>
<li><p>0: Disable Dynamic Antenna Diversity Function.</p></li>
</ul>
</li>
<li><p><strong>&lt;static_enable&gt;</strong>:</p>
<ul>
<li><p>1: Enable Static Antenna Diversity Function.</p></li>
<li><p>0: Disable Static Antenna Diversity Function.</p></li>
</ul>
</li>
<li><p><strong>&lt;pin&gt;</strong>: Pin Number.</p></li>
</ul>
</section>
<section id="id184">
<h4>Example<a class="headerlink" href="#id184" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWANTENABLE</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">RST</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;SSID&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span>

<span class="n">OK</span>

<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="id185">
<h4>Note<a class="headerlink" href="#id185" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>This parameter takes effect after a restart.</p></li>
</ul>
</section>
</section>
<section id="at-cwantnum">
<h3>AT+CWANTNUM<a class="headerlink" href="#at-cwantnum" title="Link to this heading"></a></h3>
<p>Get the maximum number of antennas for the current device.</p>
<section id="id186">
<h4>Query Command<a class="headerlink" href="#id186" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Get the maximum number of antennas for the current device.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWANTNUM?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWANTNUM</span><span class="p">:</span><span class="o">&lt;</span><span class="n">numbers</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwant">
<h3>AT+CWANT<a class="headerlink" href="#at-cwant" title="Link to this heading"></a></h3>
<p>Set/Query the currently used antenna.</p>
<section id="id187">
<h4>Query Command<a class="headerlink" href="#id187" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the currently used antenna.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWANT?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWANT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">ant_id</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id188">
<h4>Set Command<a class="headerlink" href="#id188" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable Automatic Antenna Diversity Function.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWANT</span><span class="o">=&lt;</span><span class="n">ant_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id189">
<h4>Parameters<a class="headerlink" href="#id189" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;ant_id&gt;</strong>:</p>
<ul>
<li><p>Antenna Number ID.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id190">
<h4>Example<a class="headerlink" href="#id190" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWANT</span><span class="o">=</span><span class="mi">1</span>

<span class="n">OK</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWANT</span><span class="o">=</span><span class="mi">0</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="tcp-ip-related-at-commands">
<h1>TCP/IP related AT commands<a class="headerlink" href="#tcp-ip-related-at-commands" title="Link to this heading"></a></h1>
<table class="docutils align-center" id="id554" style="width: 100%">
<caption><span class="caption-text">Instruction list</span><a class="headerlink" href="#id554" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipv6">AT+CIPV6</a></p></td>
<td><p>Enable/disable the network of Internet Protocol Version 6 (IPv6)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cifsr">AT+CIFSR</a></p></td>
<td><p>Obtain the local IP address and MAC address</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipdomain">AT+CIPDOMAIN</a></p></td>
<td><p>Resolve a Domain Name</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipdns">AT+CIPDNS</a></p></td>
<td><p>Query/Set DNS Server Information</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipstate">AT+CIPSTATE</a></p></td>
<td><p>Obtain the TCP/UDP/SSL connection information</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-ciprecvbuf">AT+CIPRECVBUF</a></p></td>
<td><p>Query/Set the TCP/UDP/SSL receive buffer size</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipstart">AT+CIPSTART</a></p></td>
<td><p>Establish TCP connection, UDP transmission, or SSL connection</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipstartex">AT+CIPSTARTEX</a></p></td>
<td><p>Establish TCP connection, UDP transmission, or SSL connection with an automatically assigned ID</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-ciptcpopt">AT+CIPTCPOPT</a></p></td>
<td><p>Query/Set the socket options</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipclose">AT+CIPCLOSE</a></p></td>
<td><p>Close TCP/UDP/SSL connection</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsend">AT+CIPSEND</a></p></td>
<td><p>Send data in the normal transmission mode or Wi-Fi passthrough mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipsendl">AT+CIPSENDL</a></p></td>
<td><p>Send long data in paraller in the normal transmission mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsendlcfg">AT+CIPSENDLCFG</a></p></td>
<td><p>Set the configuration for the command AT+CIPSENDL</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipsendex">AT+CIPSENDEX</a></p></td>
<td><p>Send data in the normal transmission mode in expanded ways</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipdinfo">AT+CIPDINFO</a></p></td>
<td><p>Set +IPD message mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipmux">AT+CIPMUX</a></p></td>
<td><p>Enable/disable the multiple connections mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipserver">AT+CIPSERVER</a></p></td>
<td><p>Delete/create a TCP/SSL server</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipservermaxconn">AT+CIPSERVERMAXCONN</a></p></td>
<td><p>Query/Set the maximum connections allowed by a server</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsto">AT+CIPSTO</a></p></td>
<td><p>Query/Set the local TCP Server Timeout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-savetranslink">AT+SAVETRANSLINK</a></p></td>
<td><p>Set whether to enter Wi-Fi passthrough mode on power-up</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsntpcfg">AT+CIPSNTPCFG</a></p></td>
<td><p>Query/Set the time zone and SNTP server</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipsntptime">AT+CIPSNTPTIME</a></p></td>
<td><p>Query the SNTP time</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsntpintv">AT+CIPSNTPINTV</a></p></td>
<td><p>Query/Set the SNTP time synchronization interval</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipreconnintv">AT+CIPRECONNINTV</a></p></td>
<td><p>Query/Set the TCP/UDP/SSL reconnection interval for the Wi-Fi passthrough mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-ciprecvmode">AT+CIPRECVMODE</a></p></td>
<td><p>Query/Set socket receiving mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-ciprecvdata">AT+CIPRECVDATA</a></p></td>
<td><p>Obtain socket data in passive receiving mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-ciprecvlen">AT+CIPRECVLEN</a></p></td>
<td><p>Obtain socket data length in passive receiving mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-ping">AT+PING</a></p></td>
<td><p>Ping the remote host</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipevt">AT+CIPEVT</a></p></td>
<td><p>Turn on or off the event message notification prefixed with +CIP.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cwevt">AT+CWEVT</a></p></td>
<td><p>Turn on or off the event message notification prefixed with +CW.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsslcconf">AT+CIPSSLCCONF</a></p></td>
<td><p>Query/Set SSL Clients.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipsslcsni">AT+CIPSSLCSNI</a></p></td>
<td><p>Query/Set SSL Client Server Name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsslcalpn">AT+CIPSSLCALPN</a></p></td>
<td><p>Query/Set SSL Client Application Layer Protocol Negotiation (ALPN).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-cipsslcpsk">AT+CIPSSLCPSK</a></p></td>
<td><p>Query/Set SSL Client Pre-shared Key (PSK) in String Format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-cipsslcpskhex">AT+CIPSSLCPSKHEX</a></p></td>
<td><p>Query/Set SSL Client Pre-shared Key (PSK) in Hexadecimal Format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-iperf">AT+IPERF</a></p></td>
<td><p>Test throughput of the ST67W611M1 in standalone mode.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-iperfstop">AT+IPERFSTOP</a></p></td>
<td><p>Stop test throughput of the ST67W611M1.</p></td>
</tr>
</tbody>
</table>
<section id="id191">
<h2>Basic AT command description<a class="headerlink" href="#id191" title="Link to this heading"></a></h2>
<section id="at-cipv6">
<h3>AT+CIPV6<a class="headerlink" href="#at-cipv6" title="Link to this heading"></a></h3>
<p>Function: Enable/disable the network of Internet Protocol Version 6 (IPv6).</p>
<section id="id192">
<h4>Query Command<a class="headerlink" href="#id192" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query whether IPv6 is enabled.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPV6?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPV6</span><span class="p">:</span><span class="o">&lt;</span><span class="n">enable</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id193">
<h4>Set Command<a class="headerlink" href="#id193" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable/Disable IPv6 network.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPV6</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id194">
<h4>Parameters<a class="headerlink" href="#id194" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;enable&gt;</strong>: status of IPv6 network. Default: 0.</p>
<blockquote>
<div><ul class="simple">
<li><p>0: disable IPv6 network.</p></li>
<li><p>1: enable IPv6 network.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="at-cifsr">
<h3>AT+CIFSR<a class="headerlink" href="#at-cifsr" title="Link to this heading"></a></h3>
<p>Function: Obtain the Local IP Address and MAC Address.</p>
<section id="id195">
<h4>Execute Command<a class="headerlink" href="#id195" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIFSR</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">AP</span> <span class="n">mode</span>
<span class="o">//</span> <span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">2</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">APIP</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;APIP&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">APIP6LL</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;APIP6LL&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">APMAC</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;APMAC&quot;</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">STA</span> <span class="n">mode</span>
<span class="o">//</span> <span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">STAIP</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;STAIP&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">STAIP6LL</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;STAIP6LL&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">STAIP6GL</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;STAIP6GL&quot;</span><span class="o">&gt;</span>
<span class="o">+</span><span class="n">CIFSR</span><span class="p">:</span><span class="n">STAMAC</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;STAMAC&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id196">
<h4>Parameters<a class="headerlink" href="#id196" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;&quot;APIP&quot;&gt;</strong>: IPv4 address of Wi-Fi softAP interface</p></li>
<li><p><strong>&lt;APIP6GL&gt;</strong>: Global IPv6 address of Wi-Fi softAP interface</p></li>
<li><p><strong>&lt;&quot;APMAC&quot;&gt;</strong>: MAC address of Wi-Fi softAP interface</p></li>
<li><p><strong>&lt;&quot;STAIP&quot;&gt;</strong>: IPv4 address of Wi-Fi station interface</p></li>
<li><p><strong>&lt;STAIP6LL&gt;</strong>: Linklocal IPv6 address of Wi-Fi station interface</p></li>
<li><p><strong>&lt;STAIP6GL&gt;</strong>: Global IPv6 address of Wi-Fi station interface</p></li>
<li><p><strong>&lt;&quot;STAMAC&quot;&gt;</strong>: MAC address of Wi-Fi station interface</p></li>
</ul>
</section>
</section>
<section id="at-cipdomain">
<h3>AT+CIPDOMAIN<a class="headerlink" href="#at-cipdomain" title="Link to this heading"></a></h3>
<p>Function: Resolve a Domain Name.</p>
<section id="id197">
<h4>Set Command<a class="headerlink" href="#id197" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPDOMAIN</span><span class="o">=&lt;</span><span class="s2">&quot;domain name&quot;</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">ip</span> <span class="n">network</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPDOMAIN</span><span class="p">:</span><span class="o">&lt;</span><span class="s2">&quot;IP address&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id198">
<h4>Parameter<a class="headerlink" href="#id198" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;&quot;domain name&quot;&gt;</strong>: the domain name.</p></li>
<li><p><strong>&lt;ip network&gt;</strong>: preferred IP network. Default: 1.</p>
<ul>
<li><p>1: preferred resolution of IPv4 address</p></li>
<li><p>2: resolve IPv4 address only</p></li>
<li><p>3: resolve IPv6 address only</p></li>
</ul>
</li>
<li><p><strong>&lt;&quot;IP address&quot;&gt;</strong>: the resolved IPv4 address or IPv6 address.</p></li>
</ul>
</section>
<section id="id199">
<h4>Example<a class="headerlink" href="#id199" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>                       <span class="o">//</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">station</span> <span class="n">mode</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;SSID&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span>        <span class="o">//</span> <span class="n">access</span> <span class="n">to</span> <span class="n">the</span> <span class="n">internet</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPDOMAIN</span><span class="o">=</span><span class="s2">&quot;www.google.com&quot;</span>   <span class="o">//</span> <span class="n">Domain</span> <span class="n">Name</span> <span class="n">Resolution</span> <span class="n">function</span>

<span class="o">//</span> <span class="n">Domain</span> <span class="n">Name</span> <span class="n">Resolution</span> <span class="n">Function</span> <span class="k">for</span> <span class="n">IPv4</span> <span class="n">address</span> <span class="n">only</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPDOMAIN</span><span class="o">=</span><span class="s2">&quot;www.google.com&quot;</span><span class="p">,</span><span class="mi">2</span>

<span class="o">//</span> <span class="n">Domain</span> <span class="n">Name</span> <span class="n">Resolution</span> <span class="n">Function</span> <span class="k">for</span> <span class="n">IPv6</span> <span class="n">address</span> <span class="n">only</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPDOMAIN</span><span class="o">=</span><span class="s2">&quot;www.google.com&quot;</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipdns">
<h3>AT+CIPDNS<a class="headerlink" href="#at-cipdns" title="Link to this heading"></a></h3>
<p>Function: Set/Query the current DNS server information.</p>
<section id="id200">
<h4>Query Command<a class="headerlink" href="#id200" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the current DNS server information.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPDNS?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPDNS</span><span class="p">:</span><span class="o">&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;DNS IP1&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;DNS IP2&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;DNS IP3&quot;</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id201">
<h4>Set Command<a class="headerlink" href="#id201" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set DNS server information.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPDNS</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;DNS IP1&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;DNS IP2&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;DNS IP3&quot;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id202">
<h4>Parameter<a class="headerlink" href="#id202" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>: the domain name.</p>
<ul>
<li><dl class="simple">
<dt>0: Enable automatic DNS server settings from DHCP. The DNS will be restored to 208.67.222.222 and 8.8.8.8.</dt><dd><p>Only when the ST67W611M1 station completes the DHCP process, the DNS server of the ST67W611M1 station could be updated.</p>
</dd>
</dl>
</li>
<li><p>1: Enable manual DNS server settings. If you do not set a value for &lt;DNS IPx&gt;, it will use 208.67.222.222 and 8.8.8.8 by default.</p></li>
</ul>
</li>
<li><p><strong>&lt;DNS IP1&gt;</strong>: the first DNS server IP address. For the set command, this parameter only works when you set &lt;enable&gt; to 1, i.e. enable manual DNS settings. If you set &lt;enable&gt; to 1 and a value for this parameter, the ST67W611M1-AT will return this parameter as the current DNS setting when you run the query command.</p></li>
<li><p><strong>&lt;DNS IP2&gt;</strong>: the second DNS server IP address. For the set command, this parameter only works when you set &lt;enable&gt; to 1, i.e. enable manual DNS settings. If you set &lt;enable&gt; to 1 and a value for this parameter, the ST67W611M1-AT will return this parameter as the current DNS setting when you run the query command.</p></li>
<li><p><strong>&lt;DNS IP3&gt;</strong>: the third DNS server IP address. For the set command, this parameter only works when you set &lt;enable&gt; to 1, i.e. enable manual DNS settings. If you set &lt;enable&gt; to 1 and a value for this parameter, the ST67W611M1-AT will return this parameter as the current DNS setting when you run the query command.</p></li>
</ul>
</section>
<section id="id203">
<h4>Notes<a class="headerlink" href="#id203" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the NVS area if AT+SYSSTORE=1.</p></li>
<li><p>The three parameters cannot be set to the same server.</p></li>
<li><p>When &lt;enable&gt; is set to 1, the DNS server may change according to the configuration of the router which the ST67W611M1 is connected to.</p></li>
</ul>
</section>
<section id="id204">
<h4>Example<a class="headerlink" href="#id204" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPDNS</span><span class="o">=</span><span class="mi">0</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPDNS</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;114.114.114.114&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipstate">
<h3>AT+CIPSTATE<a class="headerlink" href="#at-cipstate" title="Link to this heading"></a></h3>
<p>Function: Obtain the TCP/UDP/SSL Connection Information.</p>
<section id="id205">
<h4>Query Command<a class="headerlink" href="#id205" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSTATE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>When there is a connection, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSTATE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;remote IP&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">local</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">tetype</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>When there is no connection, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id206">
<h4>Parameters<a class="headerlink" href="#id206" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;&quot;type&quot;&gt;</strong>: string parameter showing the type of transmission: TCP, TCPv6, UDP, UDPv6, SSL, or SSLv6.</p></li>
<li><p><strong>&lt;&quot;remote IP&quot;&gt;</strong>: string parameter showing the remote IPv4 address.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
<li><p><strong>&lt;local port&gt;</strong>: the local port number.</p></li>
<li><p><strong>&lt;tetype&gt;</strong>:</p>
<ul>
<li><p>0: ST67W611M1 runs as a client.</p></li>
<li><p>1: ST67W611M1 runs as a server.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-ciprecvbuf">
<h3>AT+CIPRECVBUF<a class="headerlink" href="#at-ciprecvbuf" title="Link to this heading"></a></h3>
<p>Function: Query/Set the TCP/UDP/SSL receive buffer size.</p>
<section id="id207">
<h4>Set Command<a class="headerlink" href="#id207" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVBUF</span><span class="o">=&lt;</span><span class="n">size</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connection</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVBUF</span><span class="o">=&lt;</span><span class="n">linkid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>This command needs to be used when there is no connection with this ID; otherwise, it will return an ERROR.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPRECVBUF</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id208">
<h4>Parameters<a class="headerlink" href="#id208" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;linkid&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;size&gt;</strong>: Set the size of the buffer, unit bytes.</p></li>
</ul>
</section>
<section id="quert-command">
<h4>Quert Command<a class="headerlink" href="#quert-command" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Single connection (AT+CIPMUX=0):
AT+CIPRECVBUF?

// Multiple connection (AT+CIPMUX=1):
AT+CIPRECVBUF=&lt;linkid&gt;?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>Return the buffer size for the linkid, with default buffer size being 2920.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPRECVBUF</span><span class="p">:</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipstart">
<h3>AT+CIPSTART<a class="headerlink" href="#at-cipstart" title="Link to this heading"></a></h3>
<p>Function: Establish TCP Connection, UDP Transmission, or SSL Connection.</p>
<section id="establish-tcp-connection">
<h4>Establish TCP Connection<a class="headerlink" href="#establish-tcp-connection" title="Link to this heading"></a></h4>
<section id="id209">
<h5>Set Command<a class="headerlink" href="#id209" title="Link to this heading"></a></h5>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">keep_alive</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;local IP&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">timeout</span><span class="o">&gt;</span><span class="p">]</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">Connections</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">keep_alive</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;local IP&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">timeout</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>For single connection, it returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIP</span><span class="p">:</span><span class="n">CONNECTED</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>For multiple connections, it returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIP</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="n">CONNECTED</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id210">
<h5>Parameters<a class="headerlink" href="#id210" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of network connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;&quot;type&quot;&gt;</strong>: string parameter showing the type of transmission: TCP,TCPv6,UDP,UDPv6,SSL,SSLv6. Default: TCP.</p></li>
<li><p><strong>&lt;&quot;remote host&quot;&gt;</strong>: IPv4/IPv6 address,  or domain name of remote host. The maximum length is 64 bytes. If you need to use a domain name and the length of the domain name exceeds 64 bytes, use the AT+CIPDOMAIN command to obtain the IP address corresponding to the domain name, and then use the IP address to establish a connection.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
<li><p><strong>&lt;keep_alive&gt;</strong>: It configures the <a class="reference external" href="https://man7.org/linux/man-pages/man7/socket.7.html#SO_KEEPALIVE">SO_KEEPALIVE</a> option for socket. Unit: second.</p>
<ul>
<li><p>Range: [0,7200].</p>
<ul>
<li><p>0: disable keep-alive function (default).</p></li>
<li><p>1 ~ 7200: enable keep-alive function. <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPIDLE">TCP_KEEPIDLE</a> value is <strong>&lt;keep_alive&gt;</strong>, <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPINTVL">TCP_KEEPINTVL</a> value is 1, and <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPCNT">TCP_KEEPCNT</a> value is 3.</p></li>
</ul>
</li>
<li><p>This parameter of this command is the same as the <code class="docutils literal notranslate"><span class="pre">&lt;keep_alive&gt;</span></code> parameter of AT+CIPTCPOPT command. It always takes the value set later by either of the two commands. If it is omitted or not set, the last configured value is used by default.</p></li>
</ul>
</li>
<li><p><strong>&lt;&quot;local IP&quot;&gt;</strong>: the local IPv4 address or IPv6 address that the connection binds. This parameter is useful when you are using multiple network interfaces or multiple IP addresses. By default, it is disabled. If you want to use it, you should specify it first. Null is also valid.</p></li>
<li><p><strong>&lt;timeout&gt;</strong>: Command timeout. Unit: milliseconds. Default value: 0. Range: [0,20000]. When set to 0, the command timeout depends on the network and lwIP protocol stack; when set to a non-zero value, the command will return within the specified timeout.</p></li>
</ul>
</section>
<section id="id211">
<h5>Notes<a class="headerlink" href="#id211" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>To establish a TCP connection based on an IPv6 network, do as follows:</p>
<ul>
<li><p>Make sure that the AP supports IPv6</p></li>
<li><p>Set AT+CIPV6=1</p></li>
<li><p>Obtain an IPv6 address through the AT+CWJAP command</p></li>
<li><p>(Optional) Check whether ST67W611M1 has obtained an IPv6 address using the AT+CIPSTA? command</p></li>
</ul>
</li>
</ul>
</section>
<section id="id212">
<h5>Example<a class="headerlink" href="#id212" title="Link to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=</span><span class="s2">&quot;TCP&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.101.110&quot;</span><span class="p">,</span><span class="mi">1000</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=</span><span class="s2">&quot;TCP&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.101.110&quot;</span><span class="p">,</span><span class="mi">2500</span><span class="p">,</span><span class="mi">60</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=</span><span class="s2">&quot;TCP&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.101.110&quot;</span><span class="p">,</span><span class="mi">1000</span><span class="p">,,</span><span class="s2">&quot;192.168.101.100&quot;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=</span><span class="s2">&quot;TCPv6&quot;</span><span class="p">,</span><span class="s2">&quot;test-ipv6.com&quot;</span><span class="p">,</span><span class="mi">80</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTART</span><span class="o">=</span><span class="s2">&quot;TCPv6&quot;</span><span class="p">,</span><span class="s2">&quot;fe80::860d:8eff:fe9d:cd90&quot;</span><span class="p">,</span><span class="mi">1000</span><span class="p">,,</span><span class="s2">&quot;fe80::411c:1fdb:22a6:4d24&quot;</span>
</pre></div>
</div>
</section>
<section id="id213">
<h5>Query Command<a class="headerlink" href="#id213" title="Link to this heading"></a></h5>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSTART?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>For single connection, it returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSTART</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;ip&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote_port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">local_port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">tetype</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="id214">
<h4>Parameters<a class="headerlink" href="#id214" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;&quot;type&quot;&gt;</strong>: string parameter showing the type of transmission: TCP, TCPv6, UDP, UDPv6, SSL, or SSLv6.</p></li>
<li><p><strong>&lt;&quot;remote IP&quot;&gt;</strong>: string parameter showing the remote IPv4 address.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
<li><p><strong>&lt;local port&gt;</strong>: the local port number.</p></li>
<li><p><strong>&lt;tetype&gt;</strong>:</p>
<ul>
<li><p>0: ST67W611M1 runs as a client.</p></li>
<li><p>1: ST67W611M1 runs as a server.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-cipstartex">
<h3>AT+CIPSTARTEX<a class="headerlink" href="#at-cipstartex" title="Link to this heading"></a></h3>
<p>Function: Establish TCP connection, UDP transmission, or SSL connection with an Automatically Assigned ID.</p>
<p>This command is similar to AT+CIPSTART except that you do not need to assign an ID by yourself in multiple connections mode (AT+CIPMUX=1). The system will assign an ID to the new connection automatically.</p>
</section>
<section id="data-mode-only-exit-from-data-mode">
<h3>[Data Mode Only] +++ : Exit from Data Mode<a class="headerlink" href="#data-mode-only-exit-from-data-mode" title="Link to this heading"></a></h3>
<section id="special-execute-command">
<h4>Special Execute Command<a class="headerlink" href="#special-execute-command" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Exit from Data Mode and enter the Command Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Only</span> <span class="k">for</span> <span class="n">data</span> <span class="n">mode</span>
<span class="o">+++</span>
</pre></div>
</div>
<section id="id215">
<h5>Notes<a class="headerlink" href="#id215" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>This special execution command consists of three identical <code class="docutils literal notranslate"><span class="pre">+</span></code> characters (0x2b ASCII), and no CR-LF appends to the command tail.</p></li>
<li><p>Make sure there is more than 20 ms interval before the first <code class="docutils literal notranslate"><span class="pre">+</span></code> character, more than 20 ms interval after the third <code class="docutils literal notranslate"><span class="pre">+</span></code> character, less than 20 ms interval among the three <code class="docutils literal notranslate"><span class="pre">+</span></code> characters. Otherwise, the <code class="docutils literal notranslate"><span class="pre">+</span></code> characters will be sent out as normal data.</p></li>
<li><p>This command returns no reply.</p></li>
<li><p>Please wait for at least one second before sending the next AT command.</p></li>
</ul>
</section>
</section>
</section>
<section id="at-ciptcpopt">
<h3>AT+CIPTCPOPT<a class="headerlink" href="#at-ciptcpopt" title="Link to this heading"></a></h3>
<p>Function: Query/Set the Socket Options.</p>
<section id="id216">
<h4>Query Command<a class="headerlink" href="#id216" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query current socket options.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPTCPOPT?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPTCPOPT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link_id</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">so_linger</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">tcp_nodelay</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">so_sndtimeo</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id217">
<h4>Set Command<a class="headerlink" href="#id217" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">TCP</span> <span class="n">connection</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPTCPOPT</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">so_linger</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">tcp_nodelay</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">so_sndtimeo</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span><span class="p">]</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">TCP</span> <span class="n">Connections</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPTCPOPT</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,[</span><span class="o">&lt;</span><span class="n">so_linger</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">tcp_nodelay</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">so_sndtimeo</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id218">
<h4>Parameters<a class="headerlink" href="#id218" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link_id&gt;</strong>: ID of the connection (0 ~ max). For multiple connections, if the value is max, it means all connections. By default, max is 5.</p></li>
<li><p><strong>&lt;so_linger&gt;</strong>: configure the <code class="docutils literal notranslate"><span class="pre">SO_LINGER</span></code> options for the socket (refer to <a class="reference external" href="https://man7.org/linux/man-pages/man7/socket.7.html#SO_LINGER">SO_LINGER description</a>). Unit: second. Default: -1.</p>
<ul>
<li><p>= -1: off</p></li>
<li><p>= 0: on, linger time = 0</p></li>
<li><p>&gt; 0: on, linger time = &lt;so_linger&gt;</p></li>
</ul>
</li>
<li><p><strong>&lt;tcp_nodelay&gt;</strong>: configure the <code class="docutils literal notranslate"><span class="pre">TCP_NODELAY</span></code> option for the socket (refer to <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_NODELAY">TCP_NODELAY description</a>). Default: 0.</p>
<ul>
<li><p>0: disable TCP_NODELAY</p></li>
<li><p>1: enable TCP_NODELAY</p></li>
</ul>
</li>
<li><p><strong>&lt;so_sndtimeo&gt;</strong>: configure the <code class="docutils literal notranslate"><span class="pre">SO_SNDTIMEO</span></code> option for socket (refer to <a class="reference external" href="https://man7.org/linux/man-pages/man7/socket.7.html#SO_SNDTIMEO">SO_SNDTIMEO description</a>). Unit: millisecond. Default: 0.</p></li>
<li><p><strong>&lt;keepalive&gt;</strong>: It configures the <a class="reference external" href="https://man7.org/linux/man-pages/man7/socket.7.html#SO_KEEPALIVE">SO_KEEPALIVE</a> option for socket. Unit: second.</p>
<ul>
<li><p>Range: [0,7200].</p>
<ul>
<li><p>0: disable keep-alive function (default).</p></li>
<li><p>1 ~ 7200: enable keep-alive function. <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPIDLE">TCP_KEEPIDLE</a> value is <strong>&lt;keepalive&gt;</strong>, <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPINTVL">TCP_KEEPINTVL</a> value is 1, and <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPCNT">TCP_KEEPCNT</a> value is 3.</p></li>
</ul>
</li>
<li><p>This parameter of this command is the same as the <code class="docutils literal notranslate"><span class="pre">&lt;keepalive&gt;</span></code> parameter of AT+CIPTCPOPT command. It always takes the value set later by either of the two commands. If it is omitted or not set, the last configured value is used by default.
Setting a low keepalive value in low-power mode will result in increased power consumption.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id222">
<h4>Notes<a class="headerlink" href="#id222" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Before configuring these socket options, <strong>please make sure you fully understand the function of them and the possible impact after configuration</strong>.</p></li>
<li><p>The SO_LINGER option is not recommended to be set to a large value. For example, if you set SO_LINGER value to 60, then AT+CIPCLOSE command will block for 60 seconds if ST67W611M1 cannot receive TCP FIN packet from the remote TCP peer due to network issues, so ST67W611M1 is unable to respond to any other AT commands. Therefore, it is recommended to keep the default value of the SO_LINGER option.</p></li>
<li><p>The TCP_NODELAY option is used for situations with small throughput but high real-time requirements. If this option is enabled, LwIP will speed up TCP transmission, but in a poor network environment, the throughput will be reduced due to retransmission. Therefore, it is recommended to keep the default value of the TCP_NODELAY option.</p></li>
<li><p>The SO_SNDTIMEO option is used for situations where the keepalive parameter is not configured in AT+CIPSTART command. After this option is configured, AT+CIPSEND , AT+CIPSENDL , and AT+CIPSENDEX commands will exit within this timeout, regardless of whether data are sent successfully or not. Here, SO_SNDTIMEO is recommended to be set to 5 ~ 10 seconds.</p></li>
<li><p>The SO_KEEPALIVE option is used for actively and regularly detecting whether the connection is disconnected. It is generally recommended to configure this option when AT is used as a TCP server. After this option is configured, additional network bandwidth will be cost. Recommended value of SO_KEEPALIVE should be not less than 60 seconds.
Setting a low keepalive value in low-power mode will result in increased power consumption.</p></li>
</ul>
</section>
</section>
<section id="at-cipclose">
<h3>AT+CIPCLOSE<a class="headerlink" href="#at-cipclose" title="Link to this heading"></a></h3>
<p>Function: Close TCP/UDP/SSL Connection.</p>
<section id="id223">
<h4>Set Command<a class="headerlink" href="#id223" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Close TCP/UDP/SSL connection in the multiple connections mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPCLOSE</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="n">CLOSED</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id224">
<h4>Execute Command<a class="headerlink" href="#id224" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Close TCP/UDP/SSL connection in the single connection mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPCLOSE</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CLOSED</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id225">
<h4>Parameter<a class="headerlink" href="#id225" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of the connection that you want to close. If you set it to 5, all connections will be closed.</p></li>
</ul>
</section>
</section>
<section id="at-cipsend">
<h3>AT+CIPSEND<a class="headerlink" href="#at-cipsend" title="Link to this heading"></a></h3>
<p>Function: Send Data in the Normal Transmission Mode or Wi-Fi Passthrough Mode</p>
<section id="id226">
<h4>Set Command<a class="headerlink" href="#id226" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the data length to be send in the Normal Transmission Mode. If the length of data you need to send exceeds 8192 bytes, please use the AT+CIPSENDL command.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSEND</span><span class="o">=&lt;</span><span class="n">length</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSEND</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Remote</span> <span class="n">host</span> <span class="ow">and</span> <span class="n">port</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="k">for</span> <span class="n">UDP</span> <span class="n">transmission</span><span class="p">:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSEND</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,]</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving serial data. You should enter the data, and when the data length reaches the <code class="docutils literal notranslate"><span class="pre">&lt;length&gt;</span></code> value, the transmission of data starts.</p>
<p>If the connection cannot be established or is disrupted during data transmission, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
<p>If the data has been successfully sent to the protocol stack (It does not mean that the data has been sent to the opposite end), the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id227">
<h4>Execute Command<a class="headerlink" href="#id227" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enter the Wi-Fi Passthrough Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSEND</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
<span class="o">&gt;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
<p>Enter the Wi-Fi Passthrough Mode. The ST67W611M1 can receive 8192 bytes and send 2920 bytes at most each time. If the data received by ST67W611M1 reaches or exceeds 2920 bytes, the data will be immediately sent in chunks of 2920 bytes. Otherwise, it will wait for 20 milliseconds before being sent (You can configure this interval using AT+TRANSINTVL command). When a single packet containing +++ is received, the ST67W611M1 will exit the data sending mode under the Wi-Fi Passthrough Mode. Please wait for at least one second before sending the next AT command.</p>
<p>This command can only be used for single connection in the Wi-Fi Passthrough Mode. For UDP Wi-Fi passthrough, the <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> parameter has to be 0 when using AT+CIPSTART.</p>
</section>
<section id="id228">
<h4>Parameters<a class="headerlink" href="#id228" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of the connection (0~4), for multiple connections.</p></li>
<li><p><strong>&lt;length&gt;</strong>: data length. Maximum: 8192 bytes.</p></li>
<li><p><strong>&lt;&quot;remote host&quot;&gt;</strong>: IPv4 address, or domain name of remote host. It can be set in UDP transmission.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
</ul>
</section>
<section id="id229">
<h4>Notes<a class="headerlink" href="#id229" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>You can use AT+CIPTCPOPT command to configure socket options for each TCP connection. For example, setting &lt;so_sndtimeo&gt; to 5000 will enable TCP send operation to return results within 5 seconds, regardless of success or failure. This can save the time that the MCU waits for AT command response.</p></li>
</ul>
</section>
</section>
<section id="at-cipsendl">
<h3>AT+CIPSENDL<a class="headerlink" href="#at-cipsendl" title="Link to this heading"></a></h3>
<p>Function: Send Long Data in Parallel in the Normal Transmission Mode.</p>
<section id="id230">
<h4>Set Command<a class="headerlink" href="#id230" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>In the Normal Transmission Mode, set the data length to be sent, and then send data to remote host in parallel (the AT command port receives data in parallel with the AT sending data to the remote host). You can use the AT+CIPSENDLCFG command to configure this command. If the length of data you need to send is less than 8192 bytes, you also can use the AT+CIPSEND command.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDL</span><span class="o">=&lt;</span><span class="n">length</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDL</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Remote</span> <span class="n">host</span> <span class="ow">and</span> <span class="n">port</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="k">for</span> <span class="n">UDP</span> <span class="n">transmission</span><span class="p">:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDL</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,]</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT enters the Data Mode and AT command port is ready to receive data. You can enter the data now. Once the port receives data, it will be pushed to underlying protocol stack and the transmission starts.</p>
<p>If the transmission starts, the system reports message according to AT+CIPSENDLCFG configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSENDL</span><span class="p">:</span><span class="o">&lt;</span><span class="n">had</span> <span class="n">sent</span> <span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">port</span> <span class="n">recv</span> <span class="nb">len</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If the transmission is cancelled by +++ command, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">CANCELLED</span>
</pre></div>
</div>
<p>If not all the data has been sent out, the system finally returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">FAIL</span>
</pre></div>
</div>
<p>If the data has been successfully sent to the protocol stack (It does not mean that the data has been sent to the opposite end), the system finally returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
<p>When the connection is disconnected, you can send +++ command to cancel the transmission, then the ST67W611M1 will exit from the Data Mode, otherwise, the Data Mode will not end until the AT command port receives all the data of the specified <code class="docutils literal notranslate"><span class="pre">&lt;length&gt;</span></code>.</p>
</section>
<section id="id231">
<h4>Parameters<a class="headerlink" href="#id231" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of the connection (0~4), for multiple connections.</p></li>
<li><p><strong>&lt;length&gt;</strong>: data length. Maximum: 2 <sup>31</sup> - 1 bytes.</p></li>
<li><p><strong>&lt;&quot;remote host&quot;&gt;</strong>: IPv4 address, or domain name of remote host. It can be set in UDP transmission.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
<li><p><strong>&lt;had sent len&gt;</strong>: the length of data successfully sent to the underlying protocol stack.</p></li>
<li><p><strong>&lt;port recv len&gt;</strong>: data length received by AT command port.</p></li>
</ul>
</section>
<section id="id232">
<h4>Notes<a class="headerlink" href="#id232" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>It is recommended to use UART flow control, because if the UART receives data at a faster rate than the network sends, data loss may occur.</p></li>
<li><p>You can use AT+CIPTCPOPT command to configure socket options for each TCP connection. For example, setting &lt;so_sndtimeo&gt; to 5000 will enable TCP send operation to return results within 5 seconds, regardless of success or failure. This can save the time that the MCU waits for AT command response.</p></li>
</ul>
</section>
</section>
<section id="at-cipsendlcfg">
<h3>AT+CIPSENDLCFG<a class="headerlink" href="#at-cipsendlcfg" title="Link to this heading"></a></h3>
<p>Function: Set the Configuration for the Command AT+CIPSENDL.</p>
<section id="id233">
<h4>Query Command<a class="headerlink" href="#id233" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the configuration of AT+CIPSENDL</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSENDLCFG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSENDLCFG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">report</span> <span class="n">size</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">transmit</span> <span class="n">size</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id234">
<h4>Set Command<a class="headerlink" href="#id234" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the configuration of AT+CIPSENDL.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDLCFG</span><span class="o">=&lt;</span><span class="n">report</span> <span class="n">size</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">transmit</span> <span class="n">size</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id235">
<h4>Parameters<a class="headerlink" href="#id235" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;report size&gt;</strong>: report block size for AT+CIPSENDL. Default: 1024. Range: [100,2 <sup>20</sup>]. For example, set <code class="docutils literal notranslate"><span class="pre">&lt;report</span> <span class="pre">size&gt;</span></code> to 100, <code class="docutils literal notranslate"><span class="pre">&lt;had</span> <span class="pre">sent</span> <span class="pre">len&gt;</span></code> report sequence in the response of AT+CIPSENDL will be (100, 200, 300, 400, ). The final <code class="docutils literal notranslate"><span class="pre">&lt;had</span> <span class="pre">sent</span> <span class="pre">len&gt;</span></code> report is always equal to the data length that had been sent out.</p></li>
<li><p><strong>&lt;transmit size&gt;</strong>: transmit block size of AT+CIPSENDL. It specifies the size of the data block sent to the underlying protocol stack. Default: 2920. Range: [100,2920]. If the data received by ST67W611M1 reaches or exceeds <code class="docutils literal notranslate"><span class="pre">&lt;transmit</span> <span class="pre">size&gt;</span></code> bytes, the data will be immediately sent in chunks of <code class="docutils literal notranslate"><span class="pre">&lt;transmit</span> <span class="pre">size&gt;</span></code> bytes. Otherwise, it will wait for 20 milliseconds before being sent (You can configure this interval using AT+TRANSINTVL command).</p></li>
</ul>
<section id="id236">
<h5>Note<a class="headerlink" href="#id236" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>For devices with small throughput but high real-time requirements, it is recommended to set a smaller <code class="docutils literal notranslate"><span class="pre">&lt;transmit</span> <span class="pre">size&gt;</span></code>. It is also recommended to set <code class="docutils literal notranslate"><span class="pre">TCP_NODELAY</span></code> by AT+CIPTCPOPT command.</p></li>
<li><p>For devices with large throughput, it is recommended to set a larger <code class="docutils literal notranslate"><span class="pre">&lt;transmit</span> <span class="pre">size&gt;</span></code>.</p></li>
</ul>
</section>
</section>
</section>
<section id="at-cipsendex">
<h3>AT+CIPSENDEX<a class="headerlink" href="#at-cipsendex" title="Link to this heading"></a></h3>
<p>Function: Send Data in the Normal Transmission Mode in Expanded Ways.</p>
<section id="id237">
<h4>Set Command<a class="headerlink" href="#id237" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the data length to be send in Normal Transmission Mode, or use <code class="docutils literal notranslate"><span class="pre">\0</span></code> (0x5c, 0x30 ASCII) to trigger data transmission.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDEX</span><span class="o">=&lt;</span><span class="n">length</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDEX</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Remote</span> <span class="n">host</span> <span class="ow">and</span> <span class="n">port</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="k">for</span> <span class="n">UDP</span> <span class="n">transmission</span><span class="p">:</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSENDEX</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,]</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving data. You should enter the data of designated length. When the data length reaches the <code class="docutils literal notranslate"><span class="pre">&lt;length&gt;</span></code> value, or when the string <code class="docutils literal notranslate"><span class="pre">\0</span></code> appears in the data, the transmission starts.</p>
<p>If the connection cannot be established or gets disconnected during transmission, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
<p>If the data has been successfully sent to the protocol stack (It does not mean that the data has been sent to the opposite end), the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id238">
<h4>Parameters<a class="headerlink" href="#id238" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;link ID&gt;</strong>: ID of the connection (0~4), for multiple connections.</p></li>
<li><p><strong>&lt;length&gt;</strong>: data length. Maximum: 8192 bytes.</p></li>
<li><p><strong>&lt;&quot;remote host&quot;&gt;</strong>: IPv4 address, or domain name of remote host. It can be set in UDP transmission.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: remote port can be set in UDP transmission.</p></li>
</ul>
</section>
<section id="id239">
<h4>Notes<a class="headerlink" href="#id239" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>When the requirement of data length is met, or when the string <code class="docutils literal notranslate"><span class="pre">\0</span></code> (0x5c, 0x30 in ASCII) appears, the transmission of data starts. Go back to the normal command mode and wait for the next AT command.</p></li>
<li><p>If the data contains the <code class="docutils literal notranslate"><span class="pre">\&lt;any&gt;</span></code>, it means that drop backslash symbol and only use <code class="docutils literal notranslate"><span class="pre">&lt;any&gt;</span></code> character.</p></li>
<li><p>When sending <code class="docutils literal notranslate"><span class="pre">\0</span></code>, please use a backslash to escape it as <code class="docutils literal notranslate"><span class="pre">\\0</span></code>.</p></li>
<li><p>You can use AT+CIPTCPOPT command to configure socket options for each TCP connection. For example, setting &lt;so_sndtimeo&gt; to 5000 will enable TCP send operation to return results within 5 seconds, regardless of success or failure. This can save the time that the MCU waits for AT command response.</p></li>
</ul>
</section>
</section>
<section id="at-cipdinfo">
<h3>AT+CIPDINFO<a class="headerlink" href="#at-cipdinfo" title="Link to this heading"></a></h3>
<p>Function: Set +IPD Message Mode.</p>
<section id="id240">
<h4>Query Command<a class="headerlink" href="#id240" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPDINFO?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPDINFO</span><span class="p">:</span><span class="n">true</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPDINFO</span><span class="p">:</span><span class="n">false</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id241">
<h4>Set Command<a class="headerlink" href="#id241" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPDINFO</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id242">
<h4>Parameters<a class="headerlink" href="#id242" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>:</p>
<ul>
<li><p>0: does not show the remote host and port in +IPD messages.</p></li>
<li><p>1: show the remote host and port in +IPD messages.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id243">
<h4>Example<a class="headerlink" href="#id243" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPDINFO</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipmux">
<h3>AT+CIPMUX<a class="headerlink" href="#at-cipmux" title="Link to this heading"></a></h3>
<p>Function: Enable/disable Multiple Connections.</p>
<section id="id244">
<h4>Query Command<a class="headerlink" href="#id244" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the connection type.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPMUX?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPMUX</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id245">
<h4>Set Command<a class="headerlink" href="#id245" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the connection type.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id246">
<h4>Parameter<a class="headerlink" href="#id246" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>: connection mode. Default: 0.</p>
<ul>
<li><p>0: single connection.</p></li>
<li><p>1: multiple connections.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id247">
<h4>Notes<a class="headerlink" href="#id247" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>This mode can only be changed after all connections are disconnected.</p></li>
<li><p>If you want to set the single connection mode when the TCP/SSL server is running, you should delete the server first. (AT+CIPSERVER=0).</p></li>
</ul>
</section>
<section id="id248">
<h4>Example<a class="headerlink" href="#id248" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipserver">
<h3>AT+CIPSERVER<a class="headerlink" href="#at-cipserver" title="Link to this heading"></a></h3>
<p>Function: Delete/create a TCP/SSL Server.</p>
<section id="id249">
<h4>Query Command<a class="headerlink" href="#id249" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the TCP/SSL server status.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSERVER?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSERVER</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">CA</span> <span class="n">enable</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id250">
<h4>Set Command<a class="headerlink" href="#id250" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVER</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">param2</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">CA</span> <span class="n">enable</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id251">
<h4>Parameters<a class="headerlink" href="#id251" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>:</p>
<ul>
<li><p>0: delete a server.</p></li>
<li><p>1: create a server.</p></li>
</ul>
</li>
<li><p><strong>&lt;param2&gt;</strong>: It means differently depending on the parameter <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code>:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> is 1, <code class="docutils literal notranslate"><span class="pre">&lt;param2&gt;</span></code> represents the port number. Default: 333.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> is 0, <code class="docutils literal notranslate"><span class="pre">&lt;param2&gt;</span></code> represents whether the server closes all connections. Default: 0.</p>
<ul>
<li><p>0: shutdown the server and keep existing connections.</p></li>
<li><p>1: shutdown the server and close all connections.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p><strong>&lt;&quot;type&quot;&gt;</strong>: server type: TCP, TCPv6, SSL, or SSLv6. Default: TCP.</p></li>
<li><p><strong>&lt;CA enable&gt;</strong>:</p>
<ul>
<li><p>0: disable CA.</p></li>
<li><p>1: enable CA.</p></li>
</ul>
</li>
<li><p><strong>&lt;keepalive&gt;</strong>: It configures the <a class="reference external" href="https://man7.org/linux/man-pages/man7/socket.7.html#SO_KEEPALIVE">SO_KEEPALIVE</a> option for socket. Unit: second.</p>
<ul>
<li><p>Range: [0,7200].</p>
<ul>
<li><p>0: disable keep-alive function (default).</p></li>
<li><p>1 ~ 7200: enable keep-alive function. <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPIDLE">TCP_KEEPIDLE</a> value is <strong>&lt;keepalive&gt;</strong>, <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPINTVL">TCP_KEEPINTVL</a> value is 1, and <a class="reference external" href="https://man7.org/linux/man-pages/man7/tcp.7.html#TCP_KEEPCNT">TCP_KEEPCNT</a> value is 3.</p></li>
</ul>
</li>
<li><p>This parameter of this command is the same as the <code class="docutils literal notranslate"><span class="pre">&lt;keepalive&gt;</span></code> parameter of AT+CIPTCPOPT command. It always takes the value set later by either of the two commands. If it is omitted or not set, the last configured value is used by default.
Setting a low keepalive value in low-power mode will result in increased power consumption.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id255">
<h4>Notes<a class="headerlink" href="#id255" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>A TCP/SSL server can only be created when multiple connections are activated (AT+CIPMUX=1).</p></li>
<li><p>A server monitor will be created automatically when the server is created. Only one server can be created at most.</p></li>
<li><p>When a client is connected to the server, it will take up one connection and be assigned an ID.</p></li>
<li><p>Parameters <code class="docutils literal notranslate"><span class="pre">&lt;\&quot;type\&quot;&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;CA</span> <span class="pre">enable&gt;</span></code> must be omitted when delete a server.</p></li>
</ul>
</section>
<section id="id256">
<h4>Example<a class="headerlink" href="#id256" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">To</span> <span class="n">create</span> <span class="n">a</span> <span class="n">TCP</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVER</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">80</span>

<span class="o">//</span> <span class="n">To</span> <span class="n">create</span> <span class="n">an</span> <span class="n">SSL</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVER</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">443</span><span class="p">,</span><span class="s2">&quot;SSL&quot;</span><span class="p">,</span><span class="mi">1</span>

<span class="o">//</span> <span class="n">To</span> <span class="n">delete</span> <span class="n">an</span> <span class="n">server</span> <span class="ow">and</span> <span class="n">close</span> <span class="nb">all</span> <span class="n">clients</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVER</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipservermaxconn">
<h3>AT+CIPSERVERMAXCONN<a class="headerlink" href="#at-cipservermaxconn" title="Link to this heading"></a></h3>
<p>Function: Query/Set the Maximum Connections Allowed by a Server.</p>
<section id="id257">
<h4>Query Command<a class="headerlink" href="#id257" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Obtain the maximum number of clients allowed to connect to the TCP/SSL server.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSERVERMAXCONN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSERVERMAXCONN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id258">
<h4>Set Command<a class="headerlink" href="#id258" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the maximum number of clients allowed to connect to the TCP/SSL server.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVERMAXCONN</span><span class="o">=&lt;</span><span class="n">num</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id259">
<h4>Parameter<a class="headerlink" href="#id259" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;num&gt;</strong>: the maximum number of clients allowed to connect to the TCP/SSL server. Range: [1,5]. For how to change the upper limit of this range, please refer to the description of the <code class="docutils literal notranslate"><span class="pre">&lt;link</span> <span class="pre">ID&gt;</span></code> parameter of the AT+CIPSTART command.</p></li>
</ul>
</section>
<section id="id260">
<h4>Note<a class="headerlink" href="#id260" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>You should call the command <code class="docutils literal notranslate"><span class="pre">AT+CIPSERVERMAXCONN=&lt;num&gt;</span></code> before creating a server.</p></li>
</ul>
</section>
<section id="id261">
<h4>Example<a class="headerlink" href="#id261" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVERMAXCONN</span><span class="o">=</span><span class="mi">2</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVER</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">80</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipsto">
<h3>AT+CIPSTO<a class="headerlink" href="#at-cipsto" title="Link to this heading"></a></h3>
<p>Function: Query/Set the local TCP/SSL Server Timeout.</p>
<section id="id262">
<h4>Query Command<a class="headerlink" href="#id262" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the local TCP/SSL server timeout.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSTO?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSTO</span><span class="p">:</span><span class="o">&lt;</span><span class="n">time</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id263">
<h4>Set Command<a class="headerlink" href="#id263" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the local TCP/SSL server timeout.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSTO</span><span class="o">=&lt;</span><span class="n">time</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id264">
<h4>Parameter<a class="headerlink" href="#id264" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;time&gt;</strong>: local TCP/SSL server timeout. Unit: second. Range: [0,7200].</p></li>
</ul>
</section>
<section id="id265">
<h4>Notes<a class="headerlink" href="#id265" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>When a TCP/SSL client does not communicate with the ST67W611M1 server within the <code class="docutils literal notranslate"><span class="pre">&lt;time&gt;</span></code> value, the server will terminate this connection.</p></li>
<li><p>If you set <code class="docutils literal notranslate"><span class="pre">&lt;time&gt;</span></code> to 0, the connection will never timeout. This configuration is not recommended.</p></li>
<li><p>When the client initiates a communication with the server or the server initiate a communication with the client within the set time, the timer will restart. After the timeout expires, the client is closed.</p></li>
</ul>
</section>
<section id="id266">
<h4>Example<a class="headerlink" href="#id266" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSERVER</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSTO</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
</section>
</section>
<section id="at-savetranslink">
<h3>AT+SAVETRANSLINK<a class="headerlink" href="#at-savetranslink" title="Link to this heading"></a></h3>
<p>Function: Set Whether to Enter Wi-Fi Passthrough Mode on Power-up.</p>
<section id="for-tcp-ssl-single-connection">
<h4>For TCP/SSL Single Connection<a class="headerlink" href="#for-tcp-ssl-single-connection" title="Link to this heading"></a></h4>
<section id="id267">
<h5>Set Command<a class="headerlink" href="#id267" title="Link to this heading"></a></h5>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">keep</span> <span class="n">alive</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id268">
<h5>Parameters<a class="headerlink" href="#id268" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>:</p>
<ul>
<li><p>0: ST67W611M1 will NOT enter Wi-Fi Passthrough Mode on power-up.</p></li>
<li><p>1: ST67W611M1 will enter Wi-Fi Passthrough Mode on power-up.</p></li>
</ul>
</li>
<li><p><strong>&lt;&quot;remote host&quot;&gt;</strong>: string parameter showing the IPv4 address or domain name of remote host.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
<li><p><strong>&lt;&quot;type&quot;&gt;</strong>: string parameter showing the type of transmission: TCP, TCPv6, SSL, or SSLv6. Default: TCP.</p></li>
<li><p><strong>&lt;keep alive&gt;</strong>: TCP keep-alive interval. Default: 0.</p>
<ul>
<li><p>0: disable the keep-alive function.</p></li>
<li><p>1 ~ 7200: detection interval. Unit: second.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id269">
<h5>Notes<a class="headerlink" href="#id269" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>This command will save the Wi-Fi Passthrough Mode configuration in the easyflash area. If <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> is set to 1, ST67W611M1 device will enter the Wi-Fi Passthrough Mode in any subsequent power cycles. The configuration will take effect after ST67W611M1 reboots.</p></li>
<li><p>As long as the remote host and port are valid, the configuration will be saved in flash.</p></li>
</ul>
</section>
<section id="id270">
<h5>Example<a class="headerlink" href="#id270" title="Link to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;192.168.6.110&quot;</span><span class="p">,</span><span class="mi">1002</span><span class="p">,</span><span class="s2">&quot;TCP&quot;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;www.google.com&quot;</span><span class="p">,</span><span class="mi">443</span><span class="p">,</span><span class="s2">&quot;SSL&quot;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;240e:3a1:2070:11c0:55ce:4e19:9649:b75&quot;</span><span class="p">,</span><span class="mi">8080</span><span class="p">,</span><span class="s2">&quot;TCPv6&quot;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;240e:3a1:2070:11c0:55ce:4e19:9649:b75&quot;</span><span class="p">,</span><span class="mi">8080</span><span class="p">,</span><span class="s2">&quot;SSLv6&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="for-udp-transmission">
<h4>For UDP Transmission<a class="headerlink" href="#for-udp-transmission" title="Link to this heading"></a></h4>
<section id="id271">
<h5>Set Command<a class="headerlink" href="#id271" title="Link to this heading"></a></h5>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;remote host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">,[</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">local</span> <span class="n">port</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id272">
<h5>Parameters<a class="headerlink" href="#id272" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>:</p>
<ul>
<li><p>0: ST67W611M1 will NOT enter Wi-Fi Passthrough Mode on power-up.</p></li>
<li><p>1: ST67W611M1 will enter Wi-Fi Passthrough Mode on power-up.</p></li>
</ul>
</li>
<li><p><strong>&lt;&quot;remote host&quot;&gt;</strong>: string parameter showing the IPv4 address or domain name of remote host.</p></li>
<li><p><strong>&lt;remote port&gt;</strong>: the remote port number.</p></li>
<li><p><strong>&lt;&quot;type&quot;&gt;</strong>: string parameter showing the type of transmission: UDP or UDPv6. Default: TCP.</p></li>
<li><p><strong>&lt;local port&gt;</strong>: local port when UDP Wi-Fi passthrough is enabled on power-up.</p></li>
</ul>
</section>
<section id="id273">
<h5>Notes<a class="headerlink" href="#id273" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>This command will save the Wi-Fi Passthrough Mode configuration in the easyflash area. If <code class="docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> is set to 1, ST67W611M1 device will enter the Wi-Fi Passthrough Mode in any subsequent power cycles. The configuration will take effect after ST67W611M1 reboots.</p></li>
<li><p>As long as the remote host and port are valid, the configuration will be saved in flash.</p></li>
</ul>
</section>
<section id="id274">
<h5>Example<a class="headerlink" href="#id274" title="Link to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;192.168.6.110&quot;</span><span class="p">,</span><span class="mi">1002</span><span class="p">,</span><span class="s2">&quot;UDP&quot;</span><span class="p">,</span><span class="mi">1005</span>
<span class="n">AT</span><span class="o">+</span><span class="n">SAVETRANSLINK</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;240e:3a1:2070:11c0:55ce:4e19:9649:b75&quot;</span><span class="p">,</span><span class="mi">8081</span><span class="p">,</span><span class="s2">&quot;UDPv6&quot;</span><span class="p">,</span><span class="mi">1005</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="at-cipsntpcfg">
<h3>AT+CIPSNTPCFG<a class="headerlink" href="#at-cipsntpcfg" title="Link to this heading"></a></h3>
<p>Function: Query/Set the Time Zone and the SNTP Server.</p>
<section id="id275">
<h4>Query Command<a class="headerlink" href="#id275" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSNTPCFG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSNTPCFG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">timezone</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">SNTP</span> <span class="n">server1</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">SNTP</span> <span class="n">server2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">SNTP</span> <span class="n">server3</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id276">
<h4>Set Command<a class="headerlink" href="#id276" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPCFG</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">timezone</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">SNTP</span> <span class="n">server1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">SNTP</span> <span class="n">server2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">SNTP</span> <span class="n">server3</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id277">
<h4>Parameters<a class="headerlink" href="#id277" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;enable&gt;</strong>: configure the SNTP server:</p>
<ul>
<li><p>1: the SNTP server is configured.</p></li>
<li><p>0: the SNTP server is not configured.</p></li>
</ul>
</li>
<li><p><strong>&lt;timezone&gt;</strong>: support the following two formats:</p>
<ul>
<li><p>The first format range is [-12,14]. It marks most of the time zones by offset from Coordinated Universal Time (UTC) in <strong>whole hours</strong> (<a class="reference external" href="https://en.wikipedia.org/wiki/UTC%E2%88%9212:00">UTC12:00</a> to <a class="reference external" href="https://en.wikipedia.org/wiki/UTC%2B14:00">UTC+14:00</a>).</p></li>
<li><p>The second format is <code class="docutils literal notranslate"><span class="pre">UTC</span> <span class="pre">offset</span></code>. The <code class="docutils literal notranslate"><span class="pre">UTC</span> <span class="pre">offset</span></code> specifies the time value you must add to the UTC time to get a local time value. It has syntax like <code class="docutils literal notranslate"><span class="pre">[+|-][hh]mm</span></code>. This is negative if the local time zone is on the west of the Prime Meridian and positive if it is on the east. The hour (hh) must be between -12 and 14, and the minute(mm) between 0 and 59. For example, if you want to set the timezone to New Zealand (Chatham Islands) which is in <code class="docutils literal notranslate"><span class="pre">UTC+12:45</span></code>, you should set the parameter <code class="docutils literal notranslate"><span class="pre">&lt;timezone&gt;</span></code> to <code class="docutils literal notranslate"><span class="pre">1245</span></code>. Please refer to <a class="reference external" href="https://en.wikipedia.org/wiki/Time_zone#List_of_UTC_offsets">UTC offset wiki</a> for more information.</p></li>
</ul>
</li>
<li><p><strong>[&lt;SNTP server1&gt;]</strong>: the first SNTP server.</p></li>
<li><p><strong>[&lt;SNTP server2&gt;]</strong>: the second SNTP server.</p></li>
<li><p><strong>[&lt;SNTP server3&gt;]</strong>: the third SNTP server.</p></li>
</ul>
</section>
<section id="id278">
<h4>Note<a class="headerlink" href="#id278" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>If the three SNTP servers are not configured, one of the following default servers will be used: cn.ntp.org.cn, ntp.sjtu.edu.cn, and us.pool.ntp.org.</p></li>
<li><p>For the query command, <code class="docutils literal notranslate"><span class="pre">&lt;timezone&gt;</span></code> parameter in the response may be different from the <code class="docutils literal notranslate"><span class="pre">&lt;timezone&gt;</span></code> parameter in set command. Because the <code class="docutils literal notranslate"><span class="pre">&lt;timezone&gt;</span></code> parameter supports the second <code class="docutils literal notranslate"><span class="pre">UTC</span> <span class="pre">offset</span></code> format, for example, set <code class="docutils literal notranslate"><span class="pre">AT+CIPSNTPCFG=1,015</span></code>, for query command, ST67W611M1-AT ignores the leading zero of the <code class="docutils literal notranslate"><span class="pre">&lt;timezone&gt;</span></code> parameter, and the valid value is <code class="docutils literal notranslate"><span class="pre">15</span></code>. It does not belong to the first format, so it is parsed according to the second <code class="docutils literal notranslate"><span class="pre">UTC</span> <span class="pre">offset</span></code> format, that is, <code class="docutils literal notranslate"><span class="pre">UTC+00:15</span></code>, that is, <code class="docutils literal notranslate"><span class="pre">timezone</span></code> is 0 in the response.</p></li>
</ul>
</section>
<section id="id279">
<h4>Example<a class="headerlink" href="#id279" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Enable SNTP server, set timezone to New York of the United States (UTC05:00)
AT+CIPSNTPCFG=1,-5,&quot;0.pool.ntp.org&quot;,&quot;time.google.com&quot;
or
AT+CIPSNTPCFG=1,-500,&quot;0.pool.ntp.org&quot;,&quot;time.google.com&quot;

// Enable SNTP server, set timezone to New Zealand (Chatham Islands, UTC+12:45)
AT+CIPSNTPCFG=1,1245,&quot;0.pool.ntp.org&quot;,&quot;time.google.com&quot;
</pre></div>
</div>
</section>
</section>
<section id="at-cipsntptime">
<h3>AT+CIPSNTPTIME<a class="headerlink" href="#at-cipsntptime" title="Link to this heading"></a></h3>
<p>Function: Query the SNTP Time.</p>
<section id="id280">
<h4>Query Command<a class="headerlink" href="#id280" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSNTPTIME?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSNTPTIME</span><span class="p">:</span><span class="o">&lt;</span><span class="n">asctime</span> <span class="n">style</span> <span class="n">time</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id281">
<h4>Note<a class="headerlink" href="#id281" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The asctime style time is defined at <a class="reference external" href="https://linux.die.net/man/3/asctime">asctime man page</a>.</p></li>
<li><p>When ST67W611M1 enters Light-sleep or Deep-sleep mode and then wakes up, the system time may become inaccurate. It is recommended to resend the AT+CIPSNTPCFG command to obtain the new time from the NTP server.</p></li>
</ul>
</section>
<section id="id282">
<h4>Example<a class="headerlink" href="#id282" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWMODE=1
AT+CWJAP=&quot;AP_TEST&quot;,&quot;1234567890&quot;
AT+CIPSNTPCFG=1,-5,&quot;0.pool.ntp.org&quot;,&quot;time.google.com&quot;
AT+CIPSNTPTIME?
+CIPSNTPTIME:Tue Oct 19 17:47:56 2021

OK

or

AT+CWMODE=1
AT+CWJAP=&quot;AP_TEST&quot;,&quot;1234567890&quot;
AT+CIPSNTPCFG=1,530
AT+CIPSNTPTIME?
+CIPSNTPTIME:Tue Oct 19 15:17:56 2021

OK
</pre></div>
</div>
</section>
</section>
<section id="at-cipsntpintv">
<h3>AT+CIPSNTPINTV<a class="headerlink" href="#at-cipsntpintv" title="Link to this heading"></a></h3>
<p>Function: Query/Set the SNTP time synchronization interval.</p>
<section id="id283">
<h4>Query Command<a class="headerlink" href="#id283" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSNTPINTV?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSNTPINTV</span><span class="p">:</span><span class="o">&lt;</span><span class="n">interval</span> <span class="n">second</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id284">
<h4>Set Command<a class="headerlink" href="#id284" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPINTV</span><span class="o">=&lt;</span><span class="n">interval</span> <span class="n">second</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<section id="id285">
<h5>Parameters<a class="headerlink" href="#id285" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><strong>&lt;interval second&gt;</strong>: the SNTP time synchronization interval. Unit: second. Range: [15,4294967].</p></li>
</ul>
</section>
</section>
<section id="id286">
<h4>Notes<a class="headerlink" href="#id286" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>It configures interval for synchronization, which means that it sets interval how often ST67W611M1 connects to NTP servers to get new time.</p></li>
</ul>
</section>
<section id="id287">
<h4>Example<a class="headerlink" href="#id287" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPCFG</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="s2">&quot;0.pool.ntp.org&quot;</span><span class="p">,</span><span class="s2">&quot;time.google.com&quot;</span>

<span class="n">OK</span>

<span class="o">//</span> <span class="n">synchronize</span> <span class="n">SNTP</span> <span class="n">time</span> <span class="n">every</span> <span class="n">hour</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPINTV</span><span class="o">=</span><span class="mi">3600</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipreconnintv">
<h3>AT+CIPRECONNINTV<a class="headerlink" href="#at-cipreconnintv" title="Link to this heading"></a></h3>
<p>Function: Query/Set the TCP/UDP/SSL reconnection Interval for the Wi-Fi Passthrough Mode.</p>
<section id="id288">
<h4>Query Command<a class="headerlink" href="#id288" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the automatic connect interval for the Wi-Fi Passthrough Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPRECONNINTV?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPRECONNINTV</span><span class="p">:</span><span class="o">&lt;</span><span class="n">interval</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id289">
<h4>Set Command<a class="headerlink" href="#id289" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the automatic reconnecting interval when TCP/UDP/SSL transmission breaks in the Wi-Fi Passthrough Mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPRECONNINTV</span><span class="o">=&lt;</span><span class="n">interval</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id290">
<h4>Parameter<a class="headerlink" href="#id290" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;interval&gt;</strong>: the duration between automatic reconnections. Unit: 100 milliseconds. Default: 1. Range: [1,36000].</p></li>
</ul>
</section>
<section id="id291">
<h4>Note<a class="headerlink" href="#id291" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The configuration changes will be saved in the easyflash area if AT+SYSSTORE=1 .</p></li>
</ul>
</section>
<section id="id292">
<h4>Example<a class="headerlink" href="#id292" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPRECONNINTV</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
</section>
</section>
<section id="at-ciprecvmode">
<h3>AT+CIPRECVMODE<a class="headerlink" href="#at-ciprecvmode" title="Link to this heading"></a></h3>
<p>Function: Query/Set Socket Receiving Mode.</p>
<section id="id293">
<h4>Query Command<a class="headerlink" href="#id293" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the socket receiving mode.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPRECVMODE?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPRECVMODE</span><span class="p">:</span><span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id294">
<h4>Set Command<a class="headerlink" href="#id294" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVMODE</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id295">
<h4>Parameter<a class="headerlink" href="#id295" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;mode&gt;</strong>: the receive mode of socket data. Default: 0.</p>
<blockquote>
<div><ul class="simple">
<li><p>0: active mode. ST67W611M1-AT will send all the received socket data instantly to the host MCU with the header +IPD. (The socket receive window is 2920 bytes by default. The maximum valid bytes sent to MCU is 2920 bytes each time.)</p></li>
<li><p>1: passive mode. ST67W611M1-AT will keep the received socket data in an internal buffer (socket receive window, 2920 bytes by default), and wait for the host MCU to read. If the buffer is full, the socket transmission will be blocked for TCP/SSL connections, or data will be lost for UDP connections.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id296">
<h4>Note<a class="headerlink" href="#id296" title="Link to this heading"></a></h4>
<ul>
<li><p>The configuration can not be used in the Wi-Fi Passthrough Mode. If it is a UDP transmission in passive mode, data will be lost when the buffer is full.</p></li>
<li><p>When ST67W611M1-AT receives socket data in passive mode, it will prompt the following messages in different scenarios:</p>
<blockquote>
<div><p>For multiple connections mode (AT+CIPMUX=1), the message is +IPD:&lt;link ID&gt;,&lt;len&gt;.</p>
<p>For single connection mode (AT+CIPMUX=0), the message is +IPD:&lt;len&gt;.</p>
</div></blockquote>
</li>
<li><p>&lt;len&gt; is the total length of socket data in the buffer.</p></li>
<li><p>You should read data by running AT+CIPRECVDATA once there is a +IPD reported. Otherwise, the next +IPD will not be reported to the host MCU until the previous +IPD has been read.</p></li>
<li><p>When the connection is disconnected, the cache will be cleared.</p></li>
</ul>
</section>
<section id="id297">
<h4>Example<a class="headerlink" href="#id297" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVMODE</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-ciprecvdata">
<h3>AT+CIPRECVDATA<a class="headerlink" href="#at-ciprecvdata" title="Link to this heading"></a></h3>
<p>Obtain socket data in passive receiving mode.</p>
<section id="id298">
<h4>Set Command<a class="headerlink" href="#id298" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVDATA</span><span class="o">=&lt;</span><span class="nb">len</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVDATA</span><span class="o">=&lt;</span><span class="n">link_id</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPRECVDATA</span><span class="p">:</span><span class="o">&lt;</span><span class="n">actual_len</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id299">
<h4>Parameter<a class="headerlink" href="#id299" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>: the receive mode of socket data. Default: 0.</p></li>
<li><p><strong>&lt;link_id&gt;</strong>: connection ID in multiple connections mode.</p></li>
<li><p><strong>&lt;len&gt;</strong>: the max value is 0x7fffffff. If the actual length of the received data is less than len, the actual length will be returned.</p></li>
<li><p><strong>&lt;actual_len&gt;</strong>: length of the data you actually obtain.</p></li>
<li><p><strong>&lt;data&gt;</strong>: the data you want to obtain.</p></li>
</ul>
</section>
<section id="id300">
<h4>Example<a class="headerlink" href="#id300" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="o">//</span> <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="k">if</span> <span class="n">host</span> <span class="n">MCU</span> <span class="n">gets</span> <span class="n">a</span> <span class="n">message</span> <span class="n">of</span> <span class="n">receiving</span> <span class="mi">100</span><span class="o">-</span><span class="n">byte</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">connection</span> <span class="k">with</span> <span class="n">No</span><span class="mf">.0</span><span class="p">,</span>
<span class="o">//</span> <span class="n">the</span> <span class="n">message</span> <span class="n">will</span> <span class="n">be</span> <span class="s2">&quot;+IPD:0,100&quot;</span><span class="o">.</span>
<span class="o">//</span> <span class="n">Then</span> <span class="n">you</span> <span class="n">can</span> <span class="n">read</span> <span class="n">those</span> <span class="mi">100</span><span class="o">-</span><span class="n">byte</span> <span class="n">data</span> <span class="n">by</span> <span class="n">using</span> <span class="n">the</span> <span class="n">command</span> <span class="n">below</span><span class="o">.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPRECVDATA</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span>
</pre></div>
</div>
</section>
</section>
<section id="at-ciprecvlen">
<h3>AT+CIPRECVLEN<a class="headerlink" href="#at-ciprecvlen" title="Link to this heading"></a></h3>
<p>Function: Obtain Socket Data Length in Passive Receiving Mode.</p>
<section id="id301">
<h4>Query Command<a class="headerlink" href="#id301" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the length of the entire data buffered for the connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPRECVLEN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="o">+</span><span class="n">CIPRECVLEN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">data</span> <span class="n">length</span> <span class="n">of</span> <span class="n">link</span><span class="o">&gt;</span>

<span class="n">OK</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">+</span><span class="n">CIPRECVLEN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">data</span> <span class="n">length</span> <span class="n">of</span> <span class="n">link0</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data</span> <span class="n">length</span> <span class="n">of</span> <span class="n">link1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data</span> <span class="n">length</span> <span class="n">of</span> <span class="n">link2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data</span> <span class="n">length</span> <span class="n">of</span> <span class="n">link3</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data</span> <span class="n">length</span> <span class="n">of</span> <span class="n">link4</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id302">
<h4>Note<a class="headerlink" href="#id302" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>For SSL connections, the data length returned by ST67W611M1-AT may be less than the actual data length.</p></li>
</ul>
</section>
<section id="id303">
<h4>Example<a class="headerlink" href="#id303" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPRECVLEN?

// Multiple connections: (AT+CIPMUX=1)
+CIPRECVLEN:100,0,0,0,0,

// Single connection: (AT+CIPMUX=0)
+CIPRECVLEN:100

OK
</pre></div>
</div>
</section>
</section>
<section id="at-ping">
<h3>AT+PING<a class="headerlink" href="#at-ping" title="Link to this heading"></a></h3>
<p>Function: Ping the Remote Host.</p>
<section id="id304">
<h4>Set Command<a class="headerlink" href="#id304" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Ping the remote host.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">PING</span><span class="o">=&lt;</span><span class="s2">&quot;host&quot;</span><span class="o">&gt;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">PING</span><span class="o">=&lt;</span><span class="s2">&quot;host&quot;</span><span class="o">&gt;</span><span class="p">,[</span><span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">count</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">interval</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">PING</span><span class="p">:</span><span class="o">&lt;</span><span class="n">time</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">PING</span><span class="p">:</span><span class="n">TIMEOUT</span>   <span class="o">//</span> <span class="n">at</span> <span class="n">returns</span> <span class="n">this</span> <span class="n">response</span> <span class="n">only</span> <span class="n">when</span> <span class="n">the</span> <span class="n">domain</span> <span class="n">name</span> <span class="n">resolution</span> <span class="n">failure</span> <span class="ow">or</span> <span class="n">ping</span> <span class="n">timeout</span>

<span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id305">
<h4>Parameters<a class="headerlink" href="#id305" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;&quot;host&quot;&gt;</strong>: String parameter showing the host IPv4 or IPV6 address or domain name.</p></li>
<li><p><strong>&lt;len&gt;</strong>: the length of the ping packet. Unit: byte. Range: (0,65535).</p></li>
<li><p><strong>&lt;count&gt;</strong>: the count of the ping packet.</p></li>
<li><p><strong>&lt;interval&gt;</strong>: the interval between ping packets. Unit: millisecond. Range: (0,65535).</p></li>
<li><p><strong>&lt;time&gt;</strong>: the response time of ping. Unit: millisecond. Range: (0,1000).</p></li>
</ul>
</section>
<section id="id306">
<h4>Notes<a class="headerlink" href="#id306" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>If the remote host is a domain name string, ping will first resolve the domain name (IPv4 address preferred) from DNS (domain name server) and then ping the remote IP address.</p></li>
</ul>
</section>
<section id="id307">
<h4>Example<a class="headerlink" href="#id307" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">PING</span><span class="o">=</span><span class="s2">&quot;192.168.1.1&quot;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">PING</span><span class="o">=</span><span class="s2">&quot;www.google.com&quot;</span>
<span class="n">AT</span><span class="o">+</span><span class="n">PING</span><span class="o">=</span><span class="s2">&quot;192.168.1.1&quot;</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">500</span>

<span class="o">//</span> <span class="n">China</span> <span class="n">Future</span> <span class="n">Internet</span> <span class="n">Engineering</span> <span class="n">Center</span>
<span class="n">AT</span><span class="o">+</span><span class="n">PING</span><span class="o">=</span><span class="s2">&quot;240c::6666&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipevt">
<h3>AT+CIPEVT<a class="headerlink" href="#at-cipevt" title="Link to this heading"></a></h3>
<p>Function: Turn on or off the event message notification prefixed with +CIP.</p>
<section id="id308">
<h4>Set Command<a class="headerlink" href="#id308" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Turn on or off the event message notification prefixed with +CIP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CIPEVT</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPEVT</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id309">
<h4>Parameters<a class="headerlink" href="#id309" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;enable&gt;</strong>: Turn on or off the event message notification prefixed with +CIP.</p>
<blockquote>
<div><ul class="simple">
<li><p>1: Enable printing of +CIP events.</p></li>
<li><p>0: Disable printing of +CIP events.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id310">
<h4>Query Command<a class="headerlink" href="#id310" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query event message notifications with prefix+CIP.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPEVT?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPEVT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">enable</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cwevt">
<h3>AT+CWEVT<a class="headerlink" href="#at-cwevt" title="Link to this heading"></a></h3>
<p>Function: Turn on or off the event message notification prefixed with +CW.</p>
<section id="id311">
<h4>Set Command<a class="headerlink" href="#id311" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Turn on or off the event message notification prefixed with +CW.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWEVT</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWEVT</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id312">
<h4>Parameters<a class="headerlink" href="#id312" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;enable&gt;</strong>: Turn on or off the event message notification prefixed with +CW.</p>
<blockquote>
<div><ul class="simple">
<li><p>1: Enable printing of +CW events.</p></li>
<li><p>0: Disable printing of +CW events.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id313">
<h4>Query Command<a class="headerlink" href="#id313" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query event message notifications with prefix+CW.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CWEVT?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CWEVT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">enable</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-cipsslcconf">
<h3>AT+CIPSSLCCONF<a class="headerlink" href="#at-cipsslcconf" title="Link to this heading"></a></h3>
<p>Function: Query/Set SSL Clients.</p>
<section id="id314">
<h4>Query Command<a class="headerlink" href="#id314" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the configuration of each connection where the ST67W611M1 runs as an SSL client.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSSLCCONF?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="p">:</span><span class="o">&lt;</span><span class="n">linkid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">auth_mode</span><span class="o">&gt;</span><span class="p">,</span><span class="s2">&quot;&lt;cert_name&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;key_name&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;ca_name&gt;&quot;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id315">
<h4>Set Command<a class="headerlink" href="#id315" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=&lt;</span><span class="n">auth_mode</span><span class="o">&gt;</span><span class="p">[,</span><span class="s2">&quot;&lt;cert_name&gt;&quot;</span><span class="p">][,</span><span class="s2">&quot;&lt;key_name&gt;&quot;</span><span class="p">][,</span><span class="s2">&quot;&lt;ca_name&gt;&quot;</span><span class="p">]</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=&lt;</span><span class="n">linkid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">auth_mode</span><span class="o">&gt;</span><span class="p">[,</span><span class="s2">&quot;&lt;cert_name&gt;&quot;</span><span class="p">][,</span><span class="s2">&quot;&lt;key_name&gt;&quot;</span><span class="p">][,</span><span class="s2">&quot;&lt;ca_name&gt;&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id316">
<h4>Parameters<a class="headerlink" href="#id316" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;linkid&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;auth_mode&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: no authentication. In this case &lt;pki_number&gt; and &lt;ca_number&gt; are not required.</p></li>
<li><p>1: the client provides the client certificate for the server to verify.</p></li>
<li><p>2: the client loads CA certificate to verify the servers certificate.</p></li>
<li><p>3: mutual authentication.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;cert_name&gt;</strong>: The file name of the certificate.</p></li>
<li><p><strong>&lt;key_name&gt;</strong>: The file name of the private key.</p></li>
<li><p><strong>&lt;ca_name&gt;</strong>: The file name of CA used by the client to verify the server.</p></li>
</ul>
</section>
<section id="id317">
<h4>Example<a class="headerlink" href="#id317" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;cert_01.crt&quot;</span><span class="p">,</span><span class="s2">&quot;private_01.key&quot;</span><span class="p">,</span><span class="s2">&quot;ca_01.crt&quot;</span>

<span class="o">//</span> <span class="n">No</span> <span class="n">auth</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>

<span class="o">//</span> <span class="n">Client</span> <span class="n">auth</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;ca_01.crt&quot;</span>

<span class="o">//</span> <span class="n">Server</span> <span class="n">auth</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;cert_01.crt&quot;</span><span class="p">,</span><span class="s2">&quot;private_01.key&quot;</span>

<span class="o">//</span> <span class="n">Both</span> <span class="n">auth</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCCONF</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;cert_01.crt&quot;</span><span class="p">,</span><span class="s2">&quot;private_01.key&quot;</span><span class="p">,</span><span class="s2">&quot;ca_01.crt&quot;</span>
</pre></div>
</div>
</section>
<section id="id318">
<h4>Notes<a class="headerlink" href="#id318" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>If you want this configuration to take effect immediately, run this command before establishing an SSL connection.</p></li>
<li><p>When downloading AT firmware, it is necessary to download the littlefs file system, and the default file system is mounted to /lfs.</p></li>
<li><p>If you need to dynamically modify the certificate content, you can refer to the command:<cite>AT+FS_</cite>.</p></li>
<li><p>If &lt;auth_mode&gt; is configured to 2 or 3, in order to check the server certificate validity period,
please make sure ST67W611M1 has obtained the current time before sending the AT+CIPSTART command.
(You can send AT+CIPSNTPCFG command to configure SNTP and obtain the current time, and send AT+CIPSNPTIME? command to query the current time.)</p></li>
</ul>
</section>
</section>
<section id="at-cipsslcsni">
<h3>AT+CIPSSLCSNI<a class="headerlink" href="#at-cipsslcsni" title="Link to this heading"></a></h3>
<p>Function: Query/Set SSL Client Server Name Indication (SNI).</p>
<section id="id319">
<h4>Query Command<a class="headerlink" href="#id319" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the SNI configuration of each connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSSLCSNI?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSSLCSNI</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;sni&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id320">
<h4>Set Command<a class="headerlink" href="#id320" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCSNI</span><span class="o">=&lt;</span><span class="s2">&quot;sni&quot;</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCSNI</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;sni&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id321">
<h4>Parameters<a class="headerlink" href="#id321" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;linkid&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><dl class="simple">
<dt><strong>&lt;sni&gt;</strong>: the Server Name Indication in ClientHello, this parameter is used to verify the Common Name in the certificate sent by the server.</dt><dd><p>The maximum length of sni is 64 bytes.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id322">
<h4>Notes<a class="headerlink" href="#id322" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>If you want this configuration to take effect immediately, run this command before establishing an SSL connection.</p></li>
<li><p>When downloading AT firmware, it is necessary to download the romfs file system, and the default file system is mounted to /romfs.</p></li>
</ul>
</section>
</section>
<section id="at-cipsslcalpn">
<h3>AT+CIPSSLCALPN<a class="headerlink" href="#at-cipsslcalpn" title="Link to this heading"></a></h3>
<p>Function: Query/Set SSL Client Application Layer Protocol Negotiation (ALPN).</p>
<section id="id323">
<h4>Query Command<a class="headerlink" href="#id323" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the ALPN configuration of each connection where the ST67W611M1 runs as an SSL client.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSSLCALPN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSSLCALPN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id324">
<h4>Set Command<a class="headerlink" href="#id324" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCALPN</span><span class="o">=&lt;</span><span class="n">counts</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">]</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCALPN</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">counts</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id325">
<h4>Parameters<a class="headerlink" href="#id325" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;linkid&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;counts&gt;</strong>: the number of ALPNs. Range: [0,5].</p>
<blockquote>
<div><ul class="simple">
<li><p>0: clean the ALPN configuration.</p></li>
<li><p>[1,5]: set the ALPN configuration.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;alpn&gt;</strong>: A string parameter showing the ALPN in ClientHello. The maximum length of alpn is limited by the command length.</p></li>
</ul>
</section>
<section id="id326">
<h4>Notes<a class="headerlink" href="#id326" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>If you want this configuration to take effect immediately, run this command before establishing an SSL connection.</p></li>
</ul>
</section>
</section>
<section id="at-cipsslcpsk">
<h3>AT+CIPSSLCPSK<a class="headerlink" href="#at-cipsslcpsk" title="Link to this heading"></a></h3>
<p>Function: Query/Set SSL Client Pre-shared Key (PSK) in String Format.</p>
<section id="id327">
<h4>Query Command<a class="headerlink" href="#id327" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the PSK configuration of each connection where the ST67W611M1 runs as an SSL client.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+CIPSSLCPSK?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">CIPSSLCPSK</span><span class="p">:</span><span class="o">&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;psk&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;hint&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id328">
<h4>Set Command<a class="headerlink" href="#id328" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCPSK</span><span class="o">=&lt;</span><span class="s2">&quot;psk&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;hint&quot;</span><span class="o">&gt;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCPSK</span><span class="o">=&lt;</span><span class="n">link</span> <span class="n">ID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;psk&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;hint&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id329">
<h4>Parameters<a class="headerlink" href="#id329" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;linkid&gt;</strong>: ID of the connection (0~4), used for multiple connections.</p></li>
<li><p><strong>&lt;psk&gt;</strong>: The pre-shared key in string format. Maximum length: 32. Please use <a class="reference internal" href="#at-cipsslcpskhex">AT+CIPSSLCPSKHEX</a> command if your &lt;psk&gt; parameter contains 0 characters.</p></li>
<li><p><strong>&lt;hint&gt;</strong>: The pre-shared key identity. Maximum length: 32.</p></li>
</ul>
</section>
<section id="id330">
<h4>Notes<a class="headerlink" href="#id330" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>If you want this configuration to take effect immediately, run this command before establishing an SSL connection.</p></li>
</ul>
</section>
</section>
<section id="at-cipsslcpskhex">
<h3>AT+CIPSSLCPSKHEX<a class="headerlink" href="#at-cipsslcpskhex" title="Link to this heading"></a></h3>
<p>Function: Query/Set SSL Client Pre-shared Key (PSK) in Hexadecimal Format.</p>
<section id="id331">
<h4>Notes<a class="headerlink" href="#id331" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Similar to the <a class="reference internal" href="#at-cipsslcpsk">AT+CIPSSLCPSK</a> command, this command also sets or queries the SSL Client PSK, but its &lt;psk&gt; is in hexadecimal format rather than in string format. So, 0 in the &lt;psk&gt; parameter means 00.</p></li>
</ul>
</section>
<section id="id332">
<h4>Example<a class="headerlink" href="#id332" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Single</span> <span class="n">connection</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">pre</span><span class="o">-</span><span class="n">shared</span> <span class="n">key</span> <span class="ow">is</span> <span class="s2">&quot;psk&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">-</span><span class="n">shared</span> <span class="n">key</span> <span class="n">identity</span> <span class="ow">is</span> <span class="s2">&quot;myhint&quot;</span><span class="o">.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCPSKHEX</span><span class="o">=</span><span class="s2">&quot;70736b&quot;</span><span class="p">,</span><span class="s2">&quot;myhint&quot;</span>

<span class="o">//</span> <span class="n">Multiple</span> <span class="n">connections</span><span class="p">:</span> <span class="p">(</span><span class="n">AT</span><span class="o">+</span><span class="n">CIPMUX</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">pre</span><span class="o">-</span><span class="n">shared</span> <span class="n">key</span> <span class="ow">is</span> <span class="s2">&quot;psk&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">-</span><span class="n">shared</span> <span class="n">key</span> <span class="n">identity</span> <span class="ow">is</span> <span class="s2">&quot;myhint&quot;</span><span class="o">.</span>
<span class="n">AT</span><span class="o">+</span><span class="n">CIPSSLCPSKHEX</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;70736b&quot;</span><span class="p">,</span><span class="s2">&quot;myhint&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-iperf">
<h3>AT+IPERF<a class="headerlink" href="#at-iperf" title="Link to this heading"></a></h3>
<p>Function: Test throughput of the ST67W611M1 in standalone mode.</p>
<section id="id333">
<h4>Set Command<a class="headerlink" href="#id333" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IPERF</span><span class="o">=&lt;</span><span class="s2">&quot;direct&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;type&quot;</span><span class="o">&gt;</span><span class="p">,[</span><span class="o">&lt;</span><span class="s2">&quot;ipaddr&quot;</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">time</span><span class="o">&gt;</span><span class="p">],[</span><span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id334">
<h4>Parameters<a class="headerlink" href="#id334" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;direct&gt;</strong>: The direction of iperf, TX or RX.</p></li>
<li><p><strong>&lt;type&gt;</strong>: The type of connection, TCP or UDP.</p></li>
<li><p><strong>&lt;ipaddr&gt;</strong>: Target ip address. If acting as a client, this parameter must be set.</p></li>
<li><p><strong>&lt;time&gt;</strong>: The duration of iperf, default value 10S.(Unit seconds)</p></li>
<li><p><strong>&lt;port&gt;</strong>: The port number of iperf, default value 5001.</p></li>
</ul>
</section>
<section id="id335">
<h4>Example<a class="headerlink" href="#id335" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IPERF</span><span class="o">=</span><span class="s2">&quot;RX&quot;</span><span class="p">,</span><span class="s2">&quot;TCP&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">IPERF</span><span class="o">=</span><span class="s2">&quot;TX&quot;</span><span class="p">,</span><span class="s2">&quot;TCP&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.1.2&quot;</span><span class="p">,</span><span class="mi">1000</span>

<span class="n">AT</span><span class="o">+</span><span class="n">IPERF</span><span class="o">=</span><span class="s2">&quot;TX&quot;</span><span class="p">,</span><span class="s2">&quot;TCP&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.1.2&quot;</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">5001</span>
</pre></div>
</div>
</section>
</section>
<section id="at-iperfstop">
<h3>AT+IPERFSTOP<a class="headerlink" href="#at-iperfstop" title="Link to this heading"></a></h3>
<p>Function: Stop test throughput of the ST67W611M1.</p>
<section id="id336">
<h4>Set Command<a class="headerlink" href="#id336" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IPERFSTOP</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id337">
<h4>Example<a class="headerlink" href="#id337" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">IPERF</span><span class="o">=</span><span class="s2">&quot;TX&quot;</span><span class="p">,</span><span class="s2">&quot;TCP&quot;</span><span class="p">,</span><span class="s2">&quot;192.168.1.2&quot;</span><span class="p">,</span><span class="mi">1000</span>

<span class="n">AT</span><span class="o">+</span><span class="n">IPERFSTOP</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="mqtt-at-commands">
<h1>MQTT AT commands<a class="headerlink" href="#mqtt-at-commands" title="Link to this heading"></a></h1>
<table class="docutils align-center" id="id555" style="width: 100%">
<caption><span class="caption-text">Instruction list</span><a class="headerlink" href="#id555" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttusercfg">AT+MQTTUSERCFG</a></p></td>
<td><p>Get/Set MQTT user configuration</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-mqttclientid">AT+MQTTCLIENTID</a></p></td>
<td><p>Get/Set MQTT client ID</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttusername">AT+MQTTUSERNAME</a></p></td>
<td><p>Get/Set MQTT username</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-mqttpassword">AT+MQTTPASSWORD</a></p></td>
<td><p>Get/Set MQTT password</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttconncfg">AT+MQTTCONNCFG</a></p></td>
<td><p>Get/Set configuration of MQTT connection</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-mqttalpn">AT+MQTTALPN</a></p></td>
<td><p>Get/Set MQTT Application Layer Protocol Negotiation (ALPN)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttsni">AT+MQTTSNI</a></p></td>
<td><p>Get/Set MQTT Server Name Indication (SNI)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-mqttconn">AT+MQTTCONN</a></p></td>
<td><p>Connect to MQTT Brokers</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttpub">AT+MQTTPUB</a></p></td>
<td><p>Publish MQTT Messages in string</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-mqttpubraw">AT+MQTTPUBRAW</a></p></td>
<td><p>Publish long MQTT messages</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttsub">AT+MQTTSUB</a></p></td>
<td><p>Subscribe to MQTT topics</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-mqttunsub">AT+MQTTUNSUB</a></p></td>
<td><p>Unsubscribe from MQTT topics</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-mqttclean">AT+MQTTCLEAN</a></p></td>
<td><p>Close MQTT connections</p></td>
</tr>
</tbody>
</table>
<section id="mqtt-at-command-description">
<h2>MQTT AT command description<a class="headerlink" href="#mqtt-at-command-description" title="Link to this heading"></a></h2>
<section id="at-mqttusercfg">
<h3>AT+MQTTUSERCFG<a class="headerlink" href="#at-mqttusercfg" title="Link to this heading"></a></h3>
<p>Get/Set MQTT user configuration.</p>
<section id="id338">
<h4>Query Command<a class="headerlink" href="#id338" title="Link to this heading"></a></h4>
<p>Query MQTT User Configuration.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTUSERCFG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTUSERCFG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scheme</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;client_id&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;username&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;password&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;cert_file&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;key_file&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;ca_file&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id339">
<h4>Set Command<a class="headerlink" href="#id339" title="Link to this heading"></a></h4>
<p>Set MQTT User Configuration.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTUSERCFG</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scheme</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;client_id&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;username&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;password&quot;</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;cert_file&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;key_file&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;ca_file&quot;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id340">
<h4>Parameters<a class="headerlink" href="#id340" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;LinkID&gt;</strong>: currently only supports link ID 0.</p></li>
<li><p><strong>&lt;scheme&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: MQTT over TCP.</p></li>
<li><p>1: MQTT over TLS (no certificate verify).</p></li>
<li><p>2: MQTT over TLS (verify server certificate).</p></li>
<li><p>3: MQTT over TLS (provide client certificate).</p></li>
<li><p>4: MQTT over TLS (verify server certificate and provide client certificate).</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;client_id&gt;</strong>: MQTT client ID. Maximum length: 23 bytes.</p></li>
<li><p><strong>&lt;username&gt;</strong>: The username to login to the MQTT broker. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;password&gt;</strong>: The password to login to the MQTT broker. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;cert_file&gt;</strong>: The file name of the certificate.</p></li>
<li><p><strong>&lt;key_file&gt;</strong>: The file name of the private key.</p></li>
<li><p><strong>&lt;ca_file&gt;</strong>: The file name of CA used by the client to verify the server.</p></li>
</ul>
</section>
<section id="id341">
<h4>Notes<a class="headerlink" href="#id341" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The length of the entire AT command should be less than 256 bytes.</p></li>
<li><p>If &lt;scheme&gt; is configured to 3, 5, 8, or 10, in order to check the server certificate validity period, please make sure ST67W611M1 has obtained the current time before sending the AT+MQTTCONN command. (You can send AT+CIPSNTPCFG command to configure SNTP and obtain the current time, and send AT+CIPSNPTIME? command to query the current time.)</p></li>
</ul>
</section>
</section>
<section id="at-mqttclientid">
<h3>AT+MQTTCLIENTID<a class="headerlink" href="#at-mqttclientid" title="Link to this heading"></a></h3>
<p>Get/Set MQTT client ID.</p>
<section id="id342">
<h4>Query Command<a class="headerlink" href="#id342" title="Link to this heading"></a></h4>
<p>Query MQTT client ID.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTCLIENTID?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTCLIENTID</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;client_id&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id343">
<h4>Notes<a class="headerlink" href="#id343" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The maximum length of the query command does not exceed 128 bytes (limited to AT length)</p></li>
</ul>
</section>
<section id="id344">
<h4>Set Command<a class="headerlink" href="#id344" title="Link to this heading"></a></h4>
<p>Set MQTT client ID.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTLONGCLIENTID</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving MQTT Client ID. You should enter the Client ID, and when the Client ID length reaches the &lt;length&gt; value, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id345">
<h4>Parameters<a class="headerlink" href="#id345" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: currently only supports link ID 0.</p></li>
<li><p><strong>&lt;length&gt;</strong>: MQTT client ID length. Range: [1,23].</p></li>
</ul>
</section>
<section id="id346">
<h4>Notes<a class="headerlink" href="#id346" title="Link to this heading"></a></h4>
<ul>
<li><p>The command AT+MQTTUSERCFG can also set MQTT client ID. The differences between the two commands include:</p>
<blockquote>
<div><ul class="simple">
<li><p>You can use AT+MQTTLONGCLIENTID to set a relatively long client ID since there is a limitation on the length of the AT+MQTTUSERCFG command.</p></li>
<li><p>You should set AT+MQTTLONGCLIENTID after setting the AT+MQTTUSERCFG command.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="at-mqttusername">
<h3>AT+MQTTUSERNAME<a class="headerlink" href="#at-mqttusername" title="Link to this heading"></a></h3>
<p>Get/Set MQTT username.</p>
<section id="id347">
<h4>Query Command<a class="headerlink" href="#id347" title="Link to this heading"></a></h4>
<p>Query MQTT username.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTUSERNAME?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTUSERNAME</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;user_name&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id348">
<h4>Notes<a class="headerlink" href="#id348" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The maximum length of the query command does not exceed 128 bytes (limited to AT length)</p></li>
</ul>
</section>
<section id="id349">
<h4>Set Command<a class="headerlink" href="#id349" title="Link to this heading"></a></h4>
<p>Set MQTT username.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTUSERNAME</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving MQTT username. You should enter the MQTT username, and when the MQTT username length reaches the &lt;length&gt; value, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id350">
<h4>Parameters<a class="headerlink" href="#id350" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: currently only supports link ID 0.</p></li>
<li><p><strong>&lt;length&gt;</strong>: MQTT username length. Range: [1,128].</p></li>
</ul>
</section>
<section id="id351">
<h4>Notes<a class="headerlink" href="#id351" title="Link to this heading"></a></h4>
<ul>
<li><p>The command AT+MQTTUSERCFG can also set MQTT username. The differences between the two commands include:</p>
<blockquote>
<div><ul class="simple">
<li><p>You can use AT+MQTTLONGUSERNAME to set a relatively long username since there is a limitation on the length of the AT+MQTTUSERCFG command.</p></li>
<li><p>You should set AT+MQTTLONGUSERNAME after setting the command AT+MQTTUSERCFG.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="at-mqttpassword">
<h3>AT+MQTTPASSWORD<a class="headerlink" href="#at-mqttpassword" title="Link to this heading"></a></h3>
<p>Get/Set MQTT password.</p>
<section id="id352">
<h4>Query Command<a class="headerlink" href="#id352" title="Link to this heading"></a></h4>
<p>Query MQTT password.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTPASSWORD?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTPASSWORD</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;password&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id353">
<h4>Notes<a class="headerlink" href="#id353" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The maximum length of the query command does not exceed 128 bytes (limited to AT length)</p></li>
</ul>
</section>
<section id="id354">
<h4>Set Command<a class="headerlink" href="#id354" title="Link to this heading"></a></h4>
<p>Set MQTT password.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTPASSWORD</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>This response indicates that AT is ready for receiving MQTT password. You should enter the MQTT password, and when the MQTT password length reaches the &lt;length&gt; value, the system returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id355">
<h4>Parameters<a class="headerlink" href="#id355" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: currently only supports link ID 0.</p></li>
<li><p><strong>&lt;length&gt;</strong>: MQTT password length. Range: [1,128].</p></li>
</ul>
</section>
<section id="id356">
<h4>Notes<a class="headerlink" href="#id356" title="Link to this heading"></a></h4>
<ul>
<li><p>The command AT+MQTTUSERCFG can also set MQTT password. The differences between the two commands include:</p>
<blockquote>
<div><ul class="simple">
<li><p>You can use AT+MQTTLONGPASSWORD to set a relatively long password since there is a limitation on the length of the AT+MQTTUSERCFG command.</p></li>
<li><p>You should set AT+MQTTLONGPASSWORD after setting the command AT+MQTTUSERCFG.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="at-mqttconncfg">
<h3>AT+MQTTCONNCFG<a class="headerlink" href="#at-mqttconncfg" title="Link to this heading"></a></h3>
<p>Get/Set configuration of MQTT connection.</p>
<section id="id357">
<h4>Query Command<a class="headerlink" href="#id357" title="Link to this heading"></a></h4>
<p>Query configuration of MQTT connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTCONNCFG?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTCONNCFG</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">disable_clean_session</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;lwt_topic&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;lwt_msg&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">lwt_qos</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">lwt_retain</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id358">
<h4>Set Command<a class="headerlink" href="#id358" title="Link to this heading"></a></h4>
<p>Set configuration of MQTT Connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTCONNCFG</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">keepalive</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">disable_clean_session</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;lwt_topic&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;lwt_msg&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">lwt_qos</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">lwt_retain</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id359">
<h4>Parameters<a class="headerlink" href="#id359" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;LinkID&gt;</strong>: currently only supports link ID 0.</p></li>
<li><p><strong>&lt;keepalive&gt;</strong>: timeout of MQTT ping. Unit: second. Range [0,7200]. The default value is 0, which will be force-changed to 120 s.</p></li>
<li><p><strong>&lt;disable_clean_session&gt;</strong>: set MQTT clean session. For more details about this parameter, please refer to the section Clean Session in MQTT Version 3.1.1.</p>
<blockquote>
<div><ul class="simple">
<li><p>0: enable clean session.</p></li>
<li><p>1: disable clean session.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;lwt_topic&gt;</strong>: LWT (Last Will and Testament) message topic. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;lwt_msg&gt;</strong>: LWT message. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;lwt_qos&gt;</strong>: LWT QoS, which can be set to 0, 1, or 2. Default: 0.</p></li>
<li><p><strong>&lt;lwt_retain&gt;</strong>: LWT retain, which can be set to 0 or 1. Default: 0.</p></li>
</ul>
</section>
</section>
<section id="at-mqttalpn">
<h3>AT+MQTTALPN<a class="headerlink" href="#at-mqttalpn" title="Link to this heading"></a></h3>
<p>Get/Set MQTT Application Layer Protocol Negotiation (ALPN).</p>
<section id="id360">
<h4>Query Command<a class="headerlink" href="#id360" title="Link to this heading"></a></h4>
<p>Query MQTT Application Layer Protocol Negotiation (ALPN).</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTALPN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTALPN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id361">
<h4>Set Command<a class="headerlink" href="#id361" title="Link to this heading"></a></h4>
<p>Set MQTT Application Layer Protocol Negotiation (ALPN).</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTALPN</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">alpn_counts</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">][,</span><span class="o">&lt;</span><span class="s2">&quot;alpn&quot;</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id362">
<h4>Parameters<a class="headerlink" href="#id362" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;alpn_counts&gt;</strong>: The number of &lt;alpn&gt; parameters. Range: [0,5].</p>
<blockquote>
<div><ul class="simple">
<li><p>0: clean the MQTT ALPN configuration.</p></li>
<li><p>[1,5]: set the MQTT ALPN configuration.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;alpn&gt;</strong>: You can send more than one ALPN in ClientHello to the server.</p></li>
</ul>
</section>
<section id="id363">
<h4>Notes<a class="headerlink" href="#id363" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The length of the entire AT command should be less than 256 bytes.</p></li>
<li><p>MQTT ALPN will be effective only if the MQTT connection is based on TLS or WSS.</p></li>
<li><p>You should set AT+MQTTALPN after setting the command AT+MQTTUSERCFG.</p></li>
</ul>
</section>
<section id="id364">
<h4>Example<a class="headerlink" href="#id364" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;ssid&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPCFG</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="s2">&quot;0.pool.ntp.org&quot;</span><span class="p">,</span><span class="s2">&quot;time.google.com&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTUSERCFG</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;ST67_01&quot;</span><span class="p">,</span><span class="s2">&quot;ST67W611M1&quot;</span><span class="p">,</span><span class="s2">&quot;123456789&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.crt&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.key&quot;</span><span class="p">,</span><span class="s2">&quot;ca_1.crt&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTALPN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;mqtt-ca.cn&quot;</span><span class="p">,</span><span class="s2">&quot;mqtt-ca.us&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTCONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;192.168.31.112&quot;</span><span class="p">,</span><span class="mi">8883</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-mqttsni">
<h3>AT+MQTTSNI<a class="headerlink" href="#at-mqttsni" title="Link to this heading"></a></h3>
<p>Get/Set MQTT Server Name Indication (SNI).</p>
<section id="id365">
<h4>Query Command<a class="headerlink" href="#id365" title="Link to this heading"></a></h4>
<p>Query MQTT Server Name Indication (SNI).</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTSNI?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTSNI</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;sni&quot;</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id366">
<h4>Set Command<a class="headerlink" href="#id366" title="Link to this heading"></a></h4>
<p>Set MQTT Server Name Indication (SNI).</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTSNI</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;sni&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id367">
<h4>Parameters<a class="headerlink" href="#id367" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;sni&gt;</strong>: MQTT Server Name Indication. You can send it in ClientHello to the server.</p></li>
</ul>
</section>
<section id="id368">
<h4>Notes<a class="headerlink" href="#id368" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The length of the entire AT command should be less than 256 bytes.</p></li>
<li><p>MQTT SNI will be effective only if the MQTT connection is based on TLS or WSS.</p></li>
<li><p>You should set AT+MQTTSNI after setting the command AT+MQTTUSERCFG.</p></li>
</ul>
</section>
<section id="id369">
<h4>Example<a class="headerlink" href="#id369" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;ssid&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPCFG</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="s2">&quot;0.pool.ntp.org&quot;</span><span class="p">,</span><span class="s2">&quot;time.google.com&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTUSERCFG</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;ST67_01&quot;</span><span class="p">,</span><span class="s2">&quot;ST67W611M1&quot;</span><span class="p">,</span><span class="s2">&quot;123456789&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.crt&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.key&quot;</span><span class="p">,</span><span class="s2">&quot;ca_1.crt&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTSNI</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;my_specific_prefix.iot.my_aws_region.amazonaws.com&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTCONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;192.168.31.112&quot;</span><span class="p">,</span><span class="mi">8883</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-mqttconn">
<h3>AT+MQTTCONN<a class="headerlink" href="#at-mqttconn" title="Link to this heading"></a></h3>
<p>Connect to MQTT Brokers.</p>
<section id="id370">
<h4>Query Command<a class="headerlink" href="#id370" title="Link to this heading"></a></h4>
<p>Query MQTT Brokers that have already been connected.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTCONN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTCONN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scheme</span><span class="o">&gt;&lt;</span><span class="s2">&quot;host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">reconnect</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id371">
<h4>Set Command<a class="headerlink" href="#id371" title="Link to this heading"></a></h4>
<p>Connect to MQTT Brokers.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTCONN</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;host&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">reconnect</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">+</span><span class="n">MQTT</span><span class="p">:</span><span class="n">CONNECTED</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTT</span><span class="p">:</span><span class="n">DISCONNECTED</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="id372">
<h4>Parameters<a class="headerlink" href="#id372" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;host&gt;</strong>: MQTT broker domain. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;port&gt;</strong>: MQTT broker port. Maximum: port 65535.</p></li>
<li><p><strong>&lt;reconnect&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: MQTT will not reconnect automatically. If MQTT connection established and then disconnected, you cannot use this command to reestablish MQTT connection. Please send AT+MQTTCLEAN=0 command to clean MQTT connection first, reconfigure the connection parameters, and then establish a new MQTT connection.</p></li>
<li><p>1: MQTT will reconnect automatically. It takes more resources.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;state&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: MQTT uninitialized.</p></li>
<li><p>1: already set AT+MQTTUSERCFG.</p></li>
<li><p>2: already set AT+MQTTCONNCFG.</p></li>
<li><p>3: connection disconnected.</p></li>
<li><p>4: connection established.</p></li>
<li><p>5: connected, but did not subscribe to any topic.</p></li>
<li><p>6: connected, and subscribed to MQTT topics.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;scheme&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: MQTT over TCP.</p></li>
<li><p>1: MQTT over TLS (no certificate verify).</p></li>
<li><p>2: MQTT over TLS (verify server certificate).</p></li>
<li><p>3: MQTT over TLS (provide client certificate).</p></li>
<li><p>4: MQTT over TLS (verify server certificate and provide client certificate).</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="at-mqttpub">
<h3>AT+MQTTPUB<a class="headerlink" href="#at-mqttpub" title="Link to this heading"></a></h3>
<p>Publish MQTT Messages in string.</p>
<section id="id373">
<h4>Set Command<a class="headerlink" href="#id373" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Publish MQTT messages in string to a defined topic. If the amount of data you publish is relatively large, and the length of a single AT command has exceeded the threshold of 256, please use the AT+MQTTPUBRAW command.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTPUB</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;data&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">qos</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">retain</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id374">
<h4>Parameters<a class="headerlink" href="#id374" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;topic&gt;</strong>: MQTT topic. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;data&gt;</strong>: MQTT message in string.</p></li>
<li><p><strong>&lt;qos&gt;</strong>: QoS of message, which can be set to 0, 1, or 2. Default: 0.</p></li>
<li><p><strong>&lt;retain&gt;</strong>: retain flag.</p></li>
</ul>
</section>
<section id="id375">
<h4>Notes<a class="headerlink" href="#id375" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The length of the entire AT command should be less than 256 bytes.</p></li>
<li><p>This command cannot send data 0. If you need to send 0, please use the command AT+MQTTPUBRAW instead.</p></li>
</ul>
</section>
<section id="id376">
<h4>Example<a class="headerlink" href="#id376" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">CWMODE</span><span class="o">=</span><span class="mi">1</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CWJAP</span><span class="o">=</span><span class="s2">&quot;ssid&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">CIPSNTPCFG</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="s2">&quot;0.pool.ntp.org&quot;</span><span class="p">,</span><span class="s2">&quot;time.google.com&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTUSERCFG</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;ST67W611M1_id&quot;</span><span class="p">,</span><span class="s2">&quot;ST67W611M1&quot;</span><span class="p">,</span><span class="s2">&quot;123456789&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.crt&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.key&quot;</span><span class="p">,</span><span class="s2">&quot;ca_1.crt&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTALPN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;mqtt-ca.cn&quot;</span><span class="p">,</span><span class="s2">&quot;mqtt-ca.us&quot;</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTCONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;192.168.31.112&quot;</span><span class="p">,</span><span class="mi">8883</span><span class="p">,</span><span class="mi">1</span>

<span class="n">AT</span><span class="o">+</span><span class="n">MQTTPUB</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;topic&quot;</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">{</span><span class="se">\&quot;</span><span class="s2">timestamp</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">20201121085253</span><span class="se">\&quot;</span><span class="s2">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>  <span class="o">//</span> <span class="n">When</span> <span class="n">sending</span> <span class="n">this</span> <span class="n">command</span><span class="p">,</span> <span class="n">please</span> <span class="n">pay</span> <span class="n">attention</span> <span class="n">to</span> <span class="n">whether</span> <span class="n">special</span> <span class="n">characters</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">escaped</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-mqttpubraw">
<h3>AT+MQTTPUBRAW<a class="headerlink" href="#at-mqttpubraw" title="Link to this heading"></a></h3>
<p>Publish Long MQTT Messages.</p>
<section id="id377">
<h4>Set Command<a class="headerlink" href="#id377" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Publish long MQTT messages to a defined topic. If the amount of data you publish is relatively small, and the length of a single AT command is not greater than the threshold of 256, you also can use the AT+MQTTPUB command.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTPUBRAW</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">qos</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">retain</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>

<span class="o">&gt;</span>
</pre></div>
</div>
<p>The symbol &gt; indicates that AT is ready for receiving serial data, and you can enter the data now. When the requirement of message length determined by the parameter &lt;length&gt; is met, the transmission starts.</p>
<p>If the transmission is successful, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">OK</span>
</pre></div>
</div>
<p>Otherwise, it returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEND</span> <span class="n">FAIL</span>
</pre></div>
</div>
</section>
<section id="id378">
<h4>Parameters<a class="headerlink" href="#id378" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;topic&gt;</strong>: MQTT topic. Maximum length: 128 bytes.</p></li>
<li><p><strong>&lt;length&gt;</strong>: length of MQTT message. The maximum length is limited by available memory.</p></li>
<li><p><strong>&lt;qos&gt;</strong>: QoS of the published message, which can be set to 0, 1, or 2. Default is 0.</p></li>
<li><p><strong>&lt;retain&gt;</strong>: retain flag.</p></li>
</ul>
</section>
</section>
<section id="at-mqttsub">
<h3>AT+MQTTSUB<a class="headerlink" href="#at-mqttsub" title="Link to this heading"></a></h3>
<p>Subscribe to MQTT topics.</p>
<section id="id379">
<h4>Query Command<a class="headerlink" href="#id379" title="Link to this heading"></a></h4>
<p>Query subscribed MQTT topics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+MQTTSUB?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTSUB</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic1&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">qos</span><span class="o">&gt;</span>

<span class="o">+</span><span class="n">MQTTSUB</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic2&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">qos</span><span class="o">&gt;</span>

<span class="o">+</span><span class="n">MQTTSUB</span><span class="p">:</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">state</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic3&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">qos</span><span class="o">&gt;</span>

<span class="o">...</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id380">
<h4>Set Command<a class="headerlink" href="#id380" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Subscribe to defined MQTT topics with defined QoS. It supports subscribing to multiple topics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTSUB</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">qos</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>If the topic has been subscribed before, it will prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTSUB</span><span class="p">,</span><span class="n">ALREADY_SUBSCRIBE</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>When AT receives MQTT messages of the subscribed topic, it will prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTT</span><span class="p">:</span><span class="n">SUBRECV</span><span class="p">,</span><span class="o">&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">topic_length</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data_length</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic&quot;</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id381">
<h4>Parameters<a class="headerlink" href="#id381" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;state&gt;</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: MQTT uninitialized.</p></li>
<li><p>1: already set AT+MQTTUSERCFG.</p></li>
<li><p>2: already set AT+MQTTCONNCFG.</p></li>
<li><p>3: connection disconnected.</p></li>
<li><p>4: connection established.</p></li>
<li><p>5: connected, but subscribe to no topic.</p></li>
<li><p>6: connected, and subscribed to MQTT topics.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;topic&gt;</strong>: the topic that is subscribed to.</p></li>
<li><p><strong>&lt;qos&gt;</strong>: the QoS that is subscribed to.</p></li>
</ul>
</section>
</section>
<section id="at-mqttunsub">
<h3>AT+MQTTUNSUB<a class="headerlink" href="#at-mqttunsub" title="Link to this heading"></a></h3>
<p>Unsubscribe from MQTT topics.</p>
<section id="id382">
<h4>Set Command<a class="headerlink" href="#id382" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Unsubscribe the client from defined topics. This command can be called multiple times to unsubscribe from different topics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTUNSUB</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="s2">&quot;topic&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>If the topic has been subscribed before, it will prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">MQTTUNSUB</span><span class="p">:</span><span class="n">NO_UNSUBSCRIBE</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id383">
<h4>Parameters<a class="headerlink" href="#id383" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
<li><p><strong>&lt;topic&gt;</strong>: MQTT topic. Maximum length: 128 bytes.</p></li>
</ul>
</section>
</section>
<section id="at-mqttclean">
<h3>AT+MQTTCLEAN<a class="headerlink" href="#at-mqttclean" title="Link to this heading"></a></h3>
<p>Close MQTT connections.</p>
<section id="id384">
<h4>Set Command<a class="headerlink" href="#id384" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Close the MQTT connection and release the resource.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTCLEAN</span><span class="o">=&lt;</span><span class="n">LinkID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id385">
<h4>Parameters<a class="headerlink" href="#id385" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;LinkID&gt;</strong>: Currently only supports link ID 0.</p></li>
</ul>
</section>
</section>
</section>
</section>
<section id="ble-related-at-commands">
<h1>BLE related AT commands<a class="headerlink" href="#ble-related-at-commands" title="Link to this heading"></a></h1>
<table class="docutils align-center" id="id556" style="width: 100%">
<caption><span class="caption-text">Instruction list</span><a class="headerlink" href="#id556" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleinit">AT+BLEINIT</a></p></td>
<td><p>Initialize BLE</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bleaddr">AT+BLEADDR</a></p></td>
<td><p>BLE address</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blename">AT+BLENAME</a></p></td>
<td><p>Set BLE device name</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blescanparam">AT+BLESCANPARAM</a></p></td>
<td><p>Set BLE scanning parameters</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blescan">AT+BLESCAN</a></p></td>
<td><p>Enable BLE scanning</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blescanrspdata">AT+BLESCANRSPDATA</a></p></td>
<td><p>Set BLE SCAN Response data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleadvparam">AT+BLEADVPARAM</a></p></td>
<td><p>Set BLE advertising parameters</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bleadvdata">AT+BLEADVDATA</a></p></td>
<td><p>Set BLE advertising data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleadvstart">AT+BLEADVSTART</a></p></td>
<td><p>Enable BLE advertising</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bleadvstop">AT+BLEADVSTOP</a></p></td>
<td><p>Stop BLE advertising</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleconn">AT+BLECONN</a></p></td>
<td><p>Establish BLE connection</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bleconnparam">AT+BLECONNPARAM</a></p></td>
<td><p>Update BLE connection parameters</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bledisconn">AT+BLEDISCONN</a></p></td>
<td><p>End BLE connection</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bledatalen">AT+BLEDATALEN</a></p></td>
<td><p>Set BLE packet length</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleexchangemtu">AT+BLEEXCHANGEMTU</a></p></td>
<td><p>Exchange the size of BLE MTU</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattssrv">AT+BLEGATTSSRV</a></p></td>
<td><p>GATTS discover services</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattssrvcre">AT+BLEGATTSSRVCRE</a></p></td>
<td><p>GATTS create services</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattssrvdel">AT+BLEGATTSSRVDEL</a></p></td>
<td><p>GATTS delete services</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattsregister">AT+BLEGATTSREGISTER</a></p></td>
<td><p>GATTS services Register/Unregister</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattschar">AT+BLEGATTSCHAR</a></p></td>
<td><p>GATTS discover characteristics</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattscharcre">AT+BLEGATTSCHARCRE</a></p></td>
<td><p>GATTS create characteristics</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattsntfy">AT+BLEGATTSNTFY</a></p></td>
<td><p>GATTS characteristics notify</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattsind">AT+BLEGATTSIND</a></p></td>
<td><p>GATTS characteristics indicate</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattsrd">AT+BLEGATTSRD</a></p></td>
<td><p>GATTS characteristics read</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattcsrvdis">AT+BLEGATTCSRVDIS</a></p></td>
<td><p>GATTC discover services</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattcchardis">AT+BLEGATTCCHARDIS</a></p></td>
<td><p>GATTC discover characteristics</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattcwr">AT+BLEGATTCWR</a></p></td>
<td><p>GATTC characteristics write</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattcrd">AT+BLEGATTCRD</a></p></td>
<td><p>GATTC characteristics read</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blegattcsubscribe">AT+BLEGATTCSUBSCRIBE</a></p></td>
<td><p>GATTC subscribe server</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blegattcunsubscribe">AT+BLEGATTCUNSUBSCRIBE</a></p></td>
<td><p>GATTC unsubscribe server</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bletxpwr">AT+BLETXPWR</a></p></td>
<td><p>BLE TX power</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blesecparam">AT+BLESECPARAM</a></p></td>
<td><p>Set/Query BLE security parameter</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleseccannel">AT+BLESECCANNEL</a></p></td>
<td><p>BLE Cannel Pairing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blesecpasskeyconfirm">AT+BLESECPASSKEYCONFIRM</a></p></td>
<td><p>BLE Pairing passkey confirm</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blesecpairingconfirm">AT+BLESECPAIRINGCONFIRM</a></p></td>
<td><p>BLE Pairing confirm</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blesecpasskey">AT+BLESECPASSKEY</a></p></td>
<td><p>BLE Pairing pass entry</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blesecgetltklist">AT+BLESECGETLTKLIST</a></p></td>
<td><p>Query BLE Paired deviceList</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blesecunpair">AT+BLESECUNPAIR</a></p></td>
<td><p>BLE unpairing</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blesecstart">AT+BLESECSTART</a></p></td>
<td><p>BLE start pairing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blebasinit">AT+BLEBASINIT</a></p></td>
<td><p>BLE BAS profile init</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blebasdeinit">AT+BLEBASDEINIT</a></p></td>
<td><p>BLE BAS profile deinit</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-blebaslvlget">AT+BLEBASLVLGET</a></p></td>
<td><p>GET BLE BAS profile level</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-blebaslvlset">AT+BLEBASLVLSET</a></p></td>
<td><p>SET BLE BAS profile level</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bleiasinit">AT+BLEIASINIT</a></p></td>
<td><p>BLE IAS profile init</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bleiasdeinit">AT+BLEIASDEINIT</a></p></td>
<td><p>BLE IAS profile deinit</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bledisinit">AT+BLEDISINIT</a></p></td>
<td><p>BLE DIS profile init</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-bledisdeinit">AT+BLEDISDEINIT</a></p></td>
<td><p>BLE DIS profile deinit</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-bledisset">AT+BLEDISSET</a></p></td>
<td><p>BLE DIS profile setting</p></td>
</tr>
</tbody>
</table>
<section id="ble-at-command-description">
<h2>BLE AT command description<a class="headerlink" href="#ble-at-command-description" title="Link to this heading"></a></h2>
<section id="at-bleinit">
<h3>AT+BLEINIT<a class="headerlink" href="#at-bleinit" title="Link to this heading"></a></h3>
<p>Function: BLE initialization.</p>
<section id="id386">
<h4>Query Command<a class="headerlink" href="#id386" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Check the initialization status of BLE.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEINIT?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>If BLE is initialized, AT will return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEINIT</span><span class="p">:</span><span class="o">&lt;</span><span class="n">role</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
<p>If BLE is not initialized, AT will return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEINIT</span><span class="p">:</span><span class="mi">0</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id387">
<h4>Set Command<a class="headerlink" href="#id387" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Initialize BLE.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=&lt;</span><span class="n">init</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id388">
<h4>Parameter<a class="headerlink" href="#id388" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;init&gt;:</p>
<ul>
<li><p>0: deinit BLE</p></li>
<li><p>1: client role</p></li>
<li><p>2: server role</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-bleaddr">
<h3>AT+BLEADDR<a class="headerlink" href="#at-bleaddr" title="Link to this heading"></a></h3>
<p>Function: Query/Set the BLE address.</p>
<section id="id389">
<h4>Query Command<a class="headerlink" href="#id389" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the BLE device address.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEADDR?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEADDR</span><span class="p">:</span><span class="o">&lt;</span><span class="n">BLE_public_addr</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id390">
<h4>Set Command<a class="headerlink" href="#id390" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the BLE device address.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEADDR</span><span class="o">=&lt;</span><span class="n">BLE_public_addr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id391">
<h4>Parameter<a class="headerlink" href="#id391" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;BLE_public_addr&gt;:</p></li>
</ul>
</section>
</section>
<section id="at-blename">
<h3>AT+BLENAME<a class="headerlink" href="#at-blename" title="Link to this heading"></a></h3>
<p>Function: Query/Set the BLE device name.</p>
<section id="id392">
<h4>Query Command<a class="headerlink" href="#id392" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the BLE device name.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLENAME?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLENAME</span><span class="p">:</span><span class="o">&lt;</span><span class="n">device_name</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id393">
<h4>Set Command<a class="headerlink" href="#id393" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the BLE device name.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLENAME</span><span class="o">=&lt;</span><span class="n">device_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id394">
<h4>Parameter<a class="headerlink" href="#id394" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;device_name&gt;: the BLE device name. The maximum length is 29.</p></li>
</ul>
</section>
</section>
<section id="at-blescanparam">
<h3>AT+BLESCANPARAM<a class="headerlink" href="#at-blescanparam" title="Link to this heading"></a></h3>
<p>Function: Query/Set the parameters of BLE scanning.</p>
<section id="id395">
<h4>Query Command<a class="headerlink" href="#id395" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the parameters of BLE scanning.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLESCANPARAM?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLESCANPARAM</span><span class="p">:</span><span class="o">&lt;</span><span class="n">scan_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">own_addr_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">filter_policy</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_window</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id396">
<h4>Set Command<a class="headerlink" href="#id396" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the parameters of BLE scanning.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESCANPARAM</span><span class="o">=&lt;</span><span class="n">scan_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">own_addr_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">filter_policy</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_window</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id397">
<h4>Parameters<a class="headerlink" href="#id397" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;scan_type&gt;:</p>
<ul>
<li><p>0: passive scan</p></li>
<li><p>1: active scan</p></li>
</ul>
</li>
<li><p>&lt;own_addr_type&gt;:</p>
<ul>
<li><p>0: Public Address</p></li>
<li><p>1: Random Address</p></li>
<li><p>2: RPA Public Address</p></li>
<li><p>3: RPA Random Address</p></li>
</ul>
</li>
<li><p>&lt;filter_policy&gt;:</p>
<ul>
<li><p>0: BLE_SCAN_FILTER_ALLOW_ALL</p></li>
<li><p>1: BLE_SCAN_FILTER_ALLOW_ONLY_WLST</p></li>
<li><p>2: BLE_SCAN_FILTER_ALLOW_UND_RPA_DIR</p></li>
<li><p>3: BLE_SCAN_FILTER_ALLOW_WLIST_PRA_DIR</p></li>
</ul>
</li>
<li><p>&lt;scan_interval&gt;: scan interval. It should be more than or equal to the value of &lt;scan_window&gt;. The range of this parameter is [0x0004,0x4000]. The scan interval equals this parameter multiplied by 0.625 ms, so the range for the actual scan interval is [2.5,10240] ms.</p></li>
<li><p>&lt;scan_window&gt;: scan window. It should be less than or equal to the value of &lt;scan_interval&gt;. The range of this parameter is [0x0004,0x4000]. The scan window equals this parameter multiplied by 0.625 ms, so the range for the actual scan window is [2.5,10240] ms.</p></li>
</ul>
</section>
</section>
<section id="at-blescan">
<h3>AT+BLESCAN<a class="headerlink" href="#at-blescan" title="Link to this heading"></a></h3>
<p>Function: Enable BLE scanning.</p>
<section id="id398">
<h4>Set Command<a class="headerlink" href="#id398" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Enable/disable scanning.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESCAN</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLESCAN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">addr</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">rssi</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adv_data</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">scan_rsp_data</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addr_type</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id399">
<h4>Parameters<a class="headerlink" href="#id399" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;enable&gt;:</p>
<ul>
<li><p>1: enable continuous scanning.</p></li>
<li><p>0: disable continuous scanning.</p></li>
</ul>
</li>
<li><p>&lt;addr&gt;: BLE address.</p></li>
<li><p>&lt;rssi&gt;: signal strength.</p></li>
<li><p>&lt;adv_data&gt;: advertising data.</p></li>
<li><p>&lt;scan_rsp_data&gt;: scan response data.</p></li>
<li><p>&lt;addr_type&gt;: the address type of broadcasters.</p></li>
</ul>
</section>
<section id="id400">
<h4>Example<a class="headerlink" href="#id400" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span>    <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLESCAN</span><span class="o">=</span><span class="mi">1</span>    <span class="o">//</span> <span class="n">start</span> <span class="n">scanning</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLESCAN</span><span class="o">=</span><span class="mi">0</span>    <span class="o">//</span> <span class="n">stop</span> <span class="n">scanning</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blescanrspdata">
<h3>AT+BLESCANRSPDATA<a class="headerlink" href="#at-blescanrspdata" title="Link to this heading"></a></h3>
<p>Function: Set BLE SCAN Response data.</p>
<section id="id401">
<h4>Set Command<a class="headerlink" href="#id401" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set scan response.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESCANRSPDATA</span><span class="o">=&lt;</span><span class="n">scan_rsp_data</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id402">
<h4>Parameter<a class="headerlink" href="#id402" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;scan_rsp_data&gt;: scan response data is a HEX string. For example, if you want to set the response data to 02010606095757575757, the command should be AT+BLESCANRSPDATA=02010606095757575757. BT_DATA_NAME_COMPLETE DATA index must be 2,like AT+BLESCANRSPDATA=02010606095757575757.</p></li>
</ul>
</section>
<section id="id403">
<h4>Example<a class="headerlink" href="#id403" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLESCANRSPDATA</span><span class="o">=</span><span class="s2">&quot;02010606095757575757&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleadvparam">
<h3>AT+BLEADVPARAM<a class="headerlink" href="#at-bleadvparam" title="Link to this heading"></a></h3>
<p>Function: Query/Set Parameters of BLE Advertising.</p>
<section id="id404">
<h4>Query Command<a class="headerlink" href="#id404" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the parameters of advertising.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEADVPARAM?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEADVPARAM</span><span class="p">:</span><span class="o">&lt;</span><span class="n">adv_int_min</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adv_int_max</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adv_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel_map</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id405">
<h4>Set Command<a class="headerlink" href="#id405" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the parameters of advertising.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEADVPARAM</span><span class="o">=&lt;</span><span class="n">adv_int_min</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adv_int_max</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adv_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">channel_map</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id406">
<h4>Parameters<a class="headerlink" href="#id406" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;adv_int_min&gt;: minimum advertising interval. The range of this parameter is [0x0020,0x4000]. The actual advertising interval equals this parameter multiplied by 0.625 ms, so the range for the actual minimum interval is [20, 10240] ms. It should be less than or equal to the value of &lt;adv_int_max&gt;.</p></li>
<li><p>&lt;adv_int_max&gt;: maximum advertising interval. The range of this parameter is [0x0020,0x4000]. The actual advertising interval equals this parameter multiplied by 0.625 ms, so the range for the actual maximum interval is [20, 10240] ms. It should be more than or equal to the value of &lt;adv_int_min&gt;.</p></li>
<li><p>&lt;adv_type&gt;:</p>
<ul>
<li><p>0: ADV_TYPE_IND</p></li>
<li><p>1: ADV_TYPE_SCAN_IND</p></li>
<li><p>2: ADV_TYPE_NONCONN_IND</p></li>
</ul>
</li>
<li><p>&lt;channel_map&gt;: channel of advertising.</p>
<ul>
<li><p>1: ADV_CHNL_37</p></li>
<li><p>2: ADV_CHNL_38</p></li>
<li><p>4: ADV_CHNL_39</p></li>
<li><p>7: ADV_CHNL_ALL</p></li>
</ul>
</li>
</ul>
</section>
<section id="id407">
<h4>Example<a class="headerlink" href="#id407" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEADVPARAM</span><span class="o">=</span><span class="mi">160</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleadvdata">
<h3>AT+BLEADVDATA<a class="headerlink" href="#at-bleadvdata" title="Link to this heading"></a></h3>
<p>Function: Set BLE Advertising data.</p>
<section id="id408">
<h4>Set Command<a class="headerlink" href="#id408" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set advertising data.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEADVDATA</span><span class="o">=&lt;</span><span class="n">adv_data</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id409">
<h4>Parameter<a class="headerlink" href="#id409" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;adv_data&gt;: advertising data in HEX string. For example, to set the advertising data to 02010606095757575757, the command should be AT+BLEADVDATA=02010606095757575757. The maximum length is 31 bytes.</p></li>
</ul>
</section>
<section id="id410">
<h4>Example<a class="headerlink" href="#id410" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEADVDATA</span><span class="o">=</span><span class="s2">&quot;02010606095757575757&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleadvstart">
<h3>AT+BLEADVSTART<a class="headerlink" href="#at-bleadvstart" title="Link to this heading"></a></h3>
<p>Function: Start BLE advertising.</p>
<section id="id411">
<h4>Execute Command<a class="headerlink" href="#id411" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Start advertising.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEADVSTART</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id412">
<h4>Example<a class="headerlink" href="#id412" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEADVSTART</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleadvstop">
<h3>AT+BLEADVSTOP<a class="headerlink" href="#at-bleadvstop" title="Link to this heading"></a></h3>
<p>Function: Stop BLE advertising.</p>
<section id="id413">
<h4>Execute Command<a class="headerlink" href="#id413" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Stop advertising.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEADVSTOP</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id414">
<h4>Example<a class="headerlink" href="#id414" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEADVSTART</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEADVSTOP</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleconn">
<h3>AT+BLECONN<a class="headerlink" href="#at-bleconn" title="Link to this heading"></a></h3>
<p>Function: Establish BLE connection.</p>
<section id="id415">
<h4>Query Command<a class="headerlink" href="#id415" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the Bluetooth LE connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLECONN?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLECONN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote_address</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
<p>If the connection has not been established, there will be no &lt;conn_index&gt; and &lt;remote_address&gt; in the response.</p>
</section>
<section id="id416">
<h4>Set Command<a class="headerlink" href="#id416" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Establish the BLE connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote_address</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">addr_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">timeout</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<p>If the connection is established successfully, it will prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLECONN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote_address</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
<p>If the connection fails, it will prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLECONN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
<span class="n">ERROR</span>
</pre></div>
</div>
<p>If the connection fails due to parameters error or other reasons, it will prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id417">
<h4>Parameters<a class="headerlink" href="#id417" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;remote_address&gt;: remote BLE address.</p></li>
<li><p>&lt;addr_type&gt;: the address type of broadcasters:</p>
<ul>
<li><p>0: Public Address</p></li>
<li><p>1: Random Address</p></li>
</ul>
</li>
<li><p>&lt;timeout&gt; :connection req timeout (option).[3,30].</p></li>
</ul>
</section>
<section id="id418">
<h4>Example<a class="headerlink" href="#id418" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleconnparam">
<h3>AT+BLECONNPARAM<a class="headerlink" href="#at-bleconnparam" title="Link to this heading"></a></h3>
<p>Function: Query/Update parameters of BLE connection.</p>
<section id="id419">
<h4>Query Command<a class="headerlink" href="#id419" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query the parameters of BLE connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLECONNPARAM?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLECONNPARAM</span><span class="p">:</span><span class="o">&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">min_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">max_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">cur_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">latency</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">timeout</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id420">
<h4>Set Command<a class="headerlink" href="#id420" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Update the parameters of BLE connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLECONNPARAM</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">min_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">max_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">latency</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">timeout</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>If the setting fails, it will prompt the message below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLECONNPARAM</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="id421">
<h4>Parameters<a class="headerlink" href="#id421" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;min_interval&gt;: minimum connecting interval. It should be less than or equal to the value of &lt;max_interval&gt;. The range of this parameter is [0x0006,0x0C80]. The actual connecting interval equals this parameter multiplied by 1.25 ms, so the range for the actual minimum interval is [7.5,4000] ms.</p></li>
<li><p>&lt;max_interval&gt;: maximum connecting interval. It should be more than or equal to the value of &lt;min_interval&gt;. The range of this parameter is [0x0006,0x0C80]. The actual connecting interval equals this parameter multiplied by 1.25 ms, so the range for the actual maximum interval is [7.5,4000] ms.</p></li>
<li><p>&lt;cur_interval&gt;: current connecting interval.</p></li>
<li><p>&lt;latency&gt;: latency. Range: [0x0000,0x01F3].</p></li>
<li><p>&lt;timeout&gt;: timeout. The range of this parameter is [0x000A,0x0C80]. The actual timeout equals this parameter multiplied by 10 ms, so the range for the actual timeout is [100,32000] ms.</p></li>
</ul>
</section>
<section id="id422">
<h4>Example<a class="headerlink" href="#id422" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONNPARAM</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">500</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bledisconn">
<h3>AT+BLEDISCONN<a class="headerlink" href="#at-bledisconn" title="Link to this heading"></a></h3>
<p>Function: End BLE connection.</p>
<section id="id423">
<h4>Execute Command<a class="headerlink" href="#id423" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>End the BLE connection.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDISCONN</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>  <span class="o">//</span> <span class="n">The</span> <span class="n">AT</span><span class="o">+</span><span class="n">BLEDISCONN</span> <span class="n">command</span> <span class="ow">is</span> <span class="n">received</span><span class="o">.</span>
<span class="o">+</span><span class="n">BLEDISCONN</span><span class="p">:</span><span class="o">&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">remote_address</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">The</span> <span class="n">command</span> <span class="ow">is</span> <span class="n">successful</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="id424">
<h4>Parameters<a class="headerlink" href="#id424" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;remote_address&gt;:  remote BLE address.</p></li>
</ul>
</section>
<section id="id425">
<h4>Example<a class="headerlink" href="#id425" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEDISCONN</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bledatalen">
<h3>AT+BLEDATALEN<a class="headerlink" href="#at-bledatalen" title="Link to this heading"></a></h3>
<p>Function: Set the length of BLE data packet.</p>
<section id="id426">
<h4>Query Command<a class="headerlink" href="#id426" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the length of BLE data packet.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDATALEN</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">tx_octets</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">tx_time</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id427">
<h4>Parameters<a class="headerlink" href="#id427" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;tx_octets&gt;: data packets length. Range: [27,251].</p></li>
<li><p>&lt;tx_time&gt;: data packet transition time.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The BLE connection has to be established first.</p>
</div>
</section>
<section id="id428">
<h4>Example<a class="headerlink" href="#id428" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEDATALEN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">2120</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleexchangemtu">
<h3>AT+BLEEXCHANGEMTU<a class="headerlink" href="#at-bleexchangemtu" title="Link to this heading"></a></h3>
<p>Function: Exchange BLE MTU Length.</p>
<section id="id429">
<h4>Set Command<a class="headerlink" href="#id429" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the length of the maximum transmission unit (MTU).</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEEXCHANGEMTU</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id430">
<h4>Parameters<a class="headerlink" href="#id430" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
</ul>
</section>
<section id="id431">
<h4>Example<a class="headerlink" href="#id431" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span>   <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">BLEEXCHANGEMTU</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattssrv">
<h3>AT+BLEGATTSSRV<a class="headerlink" href="#at-blegattssrv" title="Link to this heading"></a></h3>
<p>Function: GATTS Discovers Services.</p>
<section id="id432">
<h4>Query Command<a class="headerlink" href="#id432" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTS Discovers Services.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEGATTSSRV?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEGATTSSRV</span><span class="p">:</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_uuid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">uuid_type</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id433">
<h4>Parameters<a class="headerlink" href="#id433" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
<li><p>&lt;srv_uuid&gt;: services UUID</p></li>
<li><p>&lt;srv_type&gt;: services type</p>
<ul>
<li><p>0: not primary service</p></li>
<li><p>1: primary service</p></li>
</ul>
</li>
<li><p>&lt;uuid_type&gt;: uuids type
* 0: 16-bit UUID
* 2: 128-bit UUID</p></li>
</ul>
</section>
<section id="id434">
<h4>Example<a class="headerlink" href="#id434" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEINIT=2 // Role: server
AT+BLEGATTSSRV?
</pre></div>
</div>
</section>
</section>
<section id="at-blegattssrvcre">
<h3>AT+BLEGATTSSRVCRE<a class="headerlink" href="#at-blegattssrvcre" title="Link to this heading"></a></h3>
<p>Function: GATTS Creates Services.</p>
<section id="id435">
<h4>Set Command<a class="headerlink" href="#id435" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>The Generic Attributes Server (GATTS) creates BLE services.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_uuid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">uuid_type</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id436">
<h4>Parameters<a class="headerlink" href="#id436" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 1</p></li>
<li><p>&lt;srv_uuid&gt;: services UUID</p></li>
<li><p>&lt;srv_type&gt;: services type</p>
<ul>
<li><p>0: not primary service</p></li>
<li><p>1: primary service</p></li>
</ul>
</li>
<li><p>&lt;uuid_type&gt;: uuids type</p>
<ul>
<li><p>0: 16-bit UUID</p></li>
<li><p>2: 128-bit UUID</p></li>
</ul>
</li>
</ul>
</section>
<section id="id437">
<h4>Example<a class="headerlink" href="#id437" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020304&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattssrvdel">
<h3>AT+BLEGATTSSRVDEL<a class="headerlink" href="#at-blegattssrvdel" title="Link to this heading"></a></h3>
<p>Function: GATTS Delete Services.</p>
<section id="id438">
<h4>Set Command<a class="headerlink" href="#id438" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>The Generic Attributes Server (GATTS) delete BLE services.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVDEL</span><span class="o">=&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id439">
<h4>Parameter<a class="headerlink" href="#id439" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
</ul>
</section>
<section id="id440">
<h4>Example<a class="headerlink" href="#id440" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVDEL</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattsregister">
<h3>AT+BLEGATTSREGISTER<a class="headerlink" href="#at-blegattsregister" title="Link to this heading"></a></h3>
<p>Function: GATTS services Register/Unregister.</p>
<section id="id441">
<h4>Set Command<a class="headerlink" href="#id441" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTS services Register/Unregister..</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSREGISTER</span><span class="o">=&lt;</span><span class="n">enable</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id442">
<h4>Parameter<a class="headerlink" href="#id442" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;enable&gt;: 1 : Register  0: Unregister</p></li>
</ul>
</section>
<section id="id443">
<h4>Example<a class="headerlink" href="#id443" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020304&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">create</span> <span class="n">service</span> <span class="n">first</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSCHARCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020305&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">write</span> <span class="nb">property</span><span class="p">(</span><span class="n">read</span><span class="p">)</span> <span class="p">(</span><span class="n">read</span><span class="o">|</span><span class="n">write</span><span class="p">)</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSREGISTER</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span><span class="n">Register</span> <span class="n">Service</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattschar">
<h3>AT+BLEGATTSCHAR<a class="headerlink" href="#at-blegattschar" title="Link to this heading"></a></h3>
<p>Function: GATTS Discovers Characteristics.</p>
<section id="id444">
<h4>Query Command<a class="headerlink" href="#id444" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTS discovers characteristics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEGATTSCHAR?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEGATTSCHAR</span><span class="p">:</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_uuid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_prop</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">uuid_type</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id445">
<h4>Parameters<a class="headerlink" href="#id445" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 0 to 4</p></li>
<li><p>&lt;char_uuid&gt;: characteristics UUID</p></li>
<li><p>&lt;char_prop&gt;: characteristics property</p>
<ul>
<li><p>2: characteristic read property</p></li>
<li><p>4: characteristic write without response property</p></li>
<li><p>8: characteristic write with response property</p></li>
<li><p>16: characteristic notify property</p></li>
<li><p>32: characteristic indicate property</p></li>
</ul>
</li>
<li><p>&lt;uuid_type&gt;: uuids type</p>
<ul>
<li><p>0: 16-bit UUID</p></li>
<li><p>2: 128-bit UUID</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="at-blegattscharcre">
<h3>AT+BLEGATTSCHARCRE<a class="headerlink" href="#at-blegattscharcre" title="Link to this heading"></a></h3>
<p>Function: GATTS Creates Characteristics.</p>
<section id="id446">
<h4>Set Command<a class="headerlink" href="#id446" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>The Generic Attributes Server (GATTS) creates BLE servics characteristics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSCHARCRE</span><span class="o">=&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_uuid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_prop</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_perm</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">uuid_type</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id447">
<h4>Parameters<a class="headerlink" href="#id447" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 0 to 4</p></li>
<li><p>&lt;char_uuid&gt;: characteristics UUID</p></li>
<li><p>&lt;char_prop&gt;: characteristics property</p>
<ul>
<li><p>2: characteristic read property</p></li>
<li><p>4: characteristic write without response property</p></li>
<li><p>8: characteristic write with response property</p></li>
<li><p>16: characteristic notify property</p></li>
<li><p>32: characteristic indicate property</p></li>
</ul>
</li>
<li><p>&lt;char_perm&gt;: characteristics permissions</p>
<ul>
<li><p>1: read permissions</p></li>
<li><p>2: write permissions</p></li>
</ul>
</li>
<li><p>&lt;uuid_type&gt;: uuids type</p>
<ul>
<li><p>0: 16-bit UUID</p></li>
<li><p>2: 128-bit UUID</p></li>
</ul>
</li>
</ul>
</section>
<section id="id448">
<h4>Example<a class="headerlink" href="#id448" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020304&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">create</span> <span class="n">service</span> <span class="n">first</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSCHARCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020305&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">write</span> <span class="nb">property</span><span class="p">(</span><span class="n">read</span><span class="p">)</span> <span class="p">(</span><span class="n">read</span><span class="o">|</span><span class="n">write</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattsntfy">
<h3>AT+BLEGATTSNTFY<a class="headerlink" href="#at-blegattsntfy" title="Link to this heading"></a></h3>
<p>Function: Notify the Characteristic Value from the Server to a Client.</p>
<section id="id449">
<h4>Set Command<a class="headerlink" href="#id449" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Notify the Characteristic Value from the Server to a Client.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSNTFY</span><span class="o">=&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The symbol &gt; indicates that AT is ready for receiving serial data, and you can enter data now. When the requirement of data length determined by the parameter &lt;length&gt; is met, the notification starts.</p>
<p>If the data transmission is successful, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id450">
<h4>Parameters<a class="headerlink" href="#id450" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 0 to 4</p></li>
<li><p>&lt;length&gt;: maximum data length is 244.</p></li>
</ul>
</section>
<section id="id451">
<h4>Example<a class="headerlink" href="#id451" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020304&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">//</span><span class="n">create</span> <span class="n">service</span> <span class="n">first</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSCHARCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020305&quot;</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">notify</span> <span class="nb">property</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSNTFY</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span>
<span class="o">//</span> <span class="n">After</span> <span class="n">the</span> <span class="n">symbol</span> <span class="s2">&quot;&gt;&quot;</span> <span class="n">shows</span><span class="p">,</span> <span class="n">enter</span> <span class="n">the</span> <span class="mi">4</span><span class="o">-</span><span class="n">byte</span> <span class="n">data</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="s2">&quot;1234&quot;</span><span class="o">.</span> <span class="n">Then</span> <span class="n">the</span> <span class="n">data</span> <span class="n">will</span> <span class="n">be</span> <span class="n">transmitted</span> <span class="n">automatically</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattsind">
<h3>AT+BLEGATTSIND<a class="headerlink" href="#at-blegattsind" title="Link to this heading"></a></h3>
<p>Function: Indicate the Characteristic Value from the Server to a Client.</p>
<section id="id452">
<h4>Set Command<a class="headerlink" href="#id452" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Indicate the Characteristic Value from the Server to a Client.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSIND</span><span class="o">=&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The symbol &gt; indicates that AT is ready for receiving serial data, and you can enter data now. When the requirement of data length determined by the parameter &lt;length&gt; is met, the notification starts.</p>
<p>If the data transmission is successful, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id453">
<h4>Parameters<a class="headerlink" href="#id453" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 0 to 4</p></li>
<li><p>&lt;length&gt;: maximum data length is 244.</p></li>
</ul>
</section>
<section id="id454">
<h4>Example<a class="headerlink" href="#id454" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020304&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">create</span> <span class="n">service</span> <span class="n">first</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSCHARCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020305&quot;</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">indicate</span> <span class="nb">property</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSIND</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span>
<span class="o">//</span> <span class="n">After</span> <span class="n">the</span> <span class="n">symbol</span> <span class="s2">&quot;&gt;&quot;</span> <span class="n">shows</span><span class="p">,</span> <span class="n">enter</span> <span class="n">the</span> <span class="mi">4</span><span class="o">-</span><span class="n">byte</span> <span class="n">data</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="s2">&quot;1234&quot;</span><span class="o">.</span> <span class="n">Then</span> <span class="n">the</span> <span class="n">data</span> <span class="n">will</span> <span class="n">be</span> <span class="n">transmitted</span> <span class="n">automatically</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattsrd">
<h3>AT+BLEGATTSRD<a class="headerlink" href="#at-blegattsrd" title="Link to this heading"></a></h3>
<p>Function: Set the data when Client read characteristic from the Server.</p>
<section id="id455">
<h4>Set Command<a class="headerlink" href="#id455" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set the data when Client read characteristic from the Server.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSRD</span><span class="o">=&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The symbol &gt; indicates that AT is ready for receiving serial data, and you can enter data now. When the requirement of data length determined by the parameter &lt;length&gt; is met, the notification starts.</p>
<p>If the data transmission is successful, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id456">
<h4>Parameters<a class="headerlink" href="#id456" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;srv_index&gt;: services index starting from 0 to 2</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 0 to 4</p></li>
<li><p>&lt;length&gt;: maximum data length is 244.</p></li>
</ul>
</section>
<section id="id457">
<h4>Example<a class="headerlink" href="#id457" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">server</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSSRVCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020304&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">create</span> <span class="n">service</span> <span class="n">first</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSCHARCRE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;01020304010203040102030401020305&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span> <span class="o">//</span><span class="n">read</span> <span class="nb">property</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTSRD</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span>
<span class="o">//</span> <span class="n">After</span> <span class="n">the</span> <span class="n">symbol</span> <span class="s2">&quot;&gt;&quot;</span> <span class="n">shows</span><span class="p">,</span> <span class="n">enter</span> <span class="n">the</span> <span class="mi">4</span><span class="o">-</span><span class="n">byte</span> <span class="n">data</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="s2">&quot;1234&quot;</span><span class="o">.</span> <span class="n">Then</span> <span class="n">the</span> <span class="n">data</span> <span class="n">will</span> <span class="n">be</span> <span class="n">transmitted</span> <span class="n">automatically</span> <span class="n">when</span> <span class="n">Client</span> <span class="n">read</span> <span class="n">characteristic</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">Server</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattcsrvdis">
<h3>AT+BLEGATTCSRVDIS<a class="headerlink" href="#at-blegattcsrvdis" title="Link to this heading"></a></h3>
<p>Function: GATTC discover services.</p>
<section id="id458">
<h4>Set Command<a class="headerlink" href="#id458" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTC discover services.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSRVDIS</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLESRV</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_uuid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">start_handle</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">end_handle</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id459">
<h4>Parameters<a class="headerlink" href="#id459" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;srv_index&gt;: services index starting from 1.</p></li>
<li><p>&lt;srv_uuid&gt;: services UUID.</p></li>
<li><p>&lt;srv_type&gt;: services type</p>
<ul>
<li><p>0: not primary service</p></li>
<li><p>1: primary service</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The BLE connection has to be established first.</p>
</div>
</section>
<section id="id460">
<h4>Example<a class="headerlink" href="#id460" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSRVDIS</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattcchardis">
<h3>AT+BLEGATTCCHARDIS<a class="headerlink" href="#at-blegattcchardis" title="Link to this heading"></a></h3>
<p>Function: GATTC discover characteristics.</p>
<section id="id461">
<h4>Set Command<a class="headerlink" href="#id461" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTC discover characteristics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCCHARDIS</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLESRVCHAR</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_uuid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_prop</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_handle</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_value_handle</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id462">
<h4>Parameters<a class="headerlink" href="#id462" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;srv_index&gt;: services index starting from 1.</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 1.</p></li>
<li><p>&lt;char_uuid&gt;: characteristics UUID.</p></li>
<li><p>&lt;char_prop&gt;: characteristics property</p>
<ul>
<li><p>1: characteristic read property</p></li>
<li><p>2: characteristic write without response property</p></li>
<li><p>4: characteristic write with response property</p></li>
<li><p>8: characteristic notify property</p></li>
<li><p>16: characteristic indicate property</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The BLE connection has to be established first and the service needs to be discovered first.</p>
</div>
</section>
<section id="id463">
<h4>Example<a class="headerlink" href="#id463" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSRVDIS</span><span class="o">=</span><span class="mi">0</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCCHARDIS</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattcwr">
<h3>AT+BLEGATTCWR<a class="headerlink" href="#at-blegattcwr" title="Link to this heading"></a></h3>
<p>Function: GATTC writes characteristics.</p>
<section id="id464">
<h4>Set Command<a class="headerlink" href="#id464" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTC writes characteristics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCWR</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The symbol &gt; indicates that AT is ready for receiving serial data, and you can enter data now. When the requirement of data length determined by the parameter &lt;length&gt; is met, the notification starts.</p>
<p>If the data transmission is successful, AT returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id465">
<h4>Parameters<a class="headerlink" href="#id465" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;srv_index&gt;: services index starting from 1.</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 1.</p></li>
<li><p>&lt;length&gt;: maximum data length is 244.</p></li>
</ul>
</section>
<section id="id466">
<h4>Example<a class="headerlink" href="#id466" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSRVDIS</span><span class="o">=</span><span class="mi">0</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCCHARDIS</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCWR</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span>
<span class="o">//</span> <span class="n">After</span> <span class="n">the</span> <span class="n">symbol</span> <span class="s2">&quot;&gt;&quot;</span> <span class="n">shows</span><span class="p">,</span> <span class="n">enter</span> <span class="n">the</span> <span class="mi">4</span><span class="o">-</span><span class="n">byte</span> <span class="n">data</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="s2">&quot;1234&quot;</span><span class="o">.</span> <span class="n">Then</span> <span class="n">the</span> <span class="n">data</span> <span class="n">will</span> <span class="n">be</span> <span class="n">transmitted</span> <span class="n">automatically</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattcrd">
<h3>AT+BLEGATTCRD<a class="headerlink" href="#at-blegattcrd" title="Link to this heading"></a></h3>
<p>Function: GATTC read characteristics.</p>
<section id="id467">
<h4>Set Command<a class="headerlink" href="#id467" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTC read characteristics.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCRD</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLEREAD</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">srv_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">char_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">length</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id468">
<h4>Parameters<a class="headerlink" href="#id468" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;srv_index&gt;: services index starting from 1.</p></li>
<li><p>&lt;char_index&gt;: characteristics index starting from 1.</p></li>
<li><p>&lt;length&gt;: data length</p></li>
</ul>
</section>
<section id="id469">
<h4>Example<a class="headerlink" href="#id469" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSRVDIS</span><span class="o">=</span><span class="mi">0</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCCHARDIS</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCRD</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattcsubscribe">
<h3>AT+BLEGATTCSUBSCRIBE<a class="headerlink" href="#at-blegattcsubscribe" title="Link to this heading"></a></h3>
<p>Function: GATTC subscribe server.</p>
<section id="id470">
<h4>Set Command<a class="headerlink" href="#id470" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTC subscribe server.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSUBSCRIBE</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">ccc_handle</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">value_handle</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id471">
<h4>Parameters<a class="headerlink" href="#id471" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;ccc_handle&gt;: Client Characteristic Configuration Descriptor handle.</p></li>
<li><p>&lt;value_handle&gt;: Characteristic value handle.</p></li>
<li><p>&lt;value&gt;: 1: notification 2: indication</p></li>
</ul>
</section>
<section id="id472">
<h4>Example<a class="headerlink" href="#id472" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCSUBSCRIBE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blegattcunsubscribe">
<h3>AT+BLEGATTCUNSUBSCRIBE<a class="headerlink" href="#at-blegattcunsubscribe" title="Link to this heading"></a></h3>
<p>Function: GATTC unsubscribe server.</p>
<section id="id473">
<h4>Set Command<a class="headerlink" href="#id473" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>GATTC unsubscribe server.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCUNSUBSCRIBE</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">value_handle</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id474">
<h4>Parameters<a class="headerlink" href="#id474" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;value_handle&gt;: Characteristic value handle.</p></li>
</ul>
</section>
<section id="id475">
<h4>Example<a class="headerlink" href="#id475" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="n">Role</span><span class="p">:</span> <span class="n">client</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLECONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;11:22:33:44:55:66&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLEGATTCUNSUBSCRIBE</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">14</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bletxpwr">
<h3>AT+BLETXPWR<a class="headerlink" href="#at-bletxpwr" title="Link to this heading"></a></h3>
<p>Function: Query/Set BLE TX power.</p>
<section id="id476">
<h4>Query Command<a class="headerlink" href="#id476" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query BLE TX power.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLETXPWR?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLETXPWR</span><span class="p">:</span><span class="o">&lt;</span><span class="n">tx_power</span><span class="o">&gt;</span> <span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id477">
<h4>Set Command<a class="headerlink" href="#id477" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set BLE TX power.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLETXPWR</span><span class="o">=&lt;</span><span class="n">tx_power</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id478">
<h4>Parameter<a class="headerlink" href="#id478" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;tx_power&gt;: tx power</p></li>
</ul>
</section>
<section id="id479">
<h4>Example<a class="headerlink" href="#id479" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="ow">or</span> <span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLETXPWR</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blesecparam">
<h3>AT+BLESECPARAM<a class="headerlink" href="#at-blesecparam" title="Link to this heading"></a></h3>
<p>Function: Set/Query BLE security parameter</p>
<section id="id480">
<h4>Query Command<a class="headerlink" href="#id480" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query BLE security parameter.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLESECPARAM?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLESECPARAM</span><span class="p">:</span><span class="o">&lt;</span><span class="n">security</span> <span class="n">parameter</span><span class="o">&gt;</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id481">
<h4>Set Command<a class="headerlink" href="#id481" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set BLE security parameter.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECPARAM</span><span class="o">=&lt;</span><span class="n">security</span> <span class="n">parameter</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id482">
<h4>Parameter<a class="headerlink" href="#id482" title="Link to this heading"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt>&lt;security parameter&gt;: &lt;security parameter&gt;</dt><dd><ul>
<li><p>BT_SMP_IO_DISPLAY_ONLY            0</p></li>
<li><p>BT_SMP_IO_DISPLAY_YESNO           1</p></li>
<li><p>BT_SMP_IO_KEYBOARD_ONLY           2</p></li>
<li><p>BT_SMP_IO_NO_INPUT_OUTPUT         3</p></li>
<li><p>BT_SMP_IO_KEYBOARD_DISPLAY        4</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id483">
<h4>Example<a class="headerlink" href="#id483" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">1</span> <span class="o">//</span> <span class="ow">or</span> <span class="n">AT</span><span class="o">+</span><span class="n">BLEINIT</span><span class="o">=</span><span class="mi">2</span>
<span class="n">AT</span><span class="o">+</span><span class="n">BLESECPARAM</span><span class="o">=</span><span class="mi">4</span> <span class="o">//</span> <span class="n">BT_SMP_IO_KEYBOARD_DISPLAY</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleseccannel">
<h3>AT+BLESECCANNEL<a class="headerlink" href="#at-bleseccannel" title="Link to this heading"></a></h3>
<p>Function: BLE Cannel Pairing.</p>
<section id="id484">
<h4>Set Command<a class="headerlink" href="#id484" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>BLE Cannel Pairing.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECCANNEL</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id485">
<h4>Parameters<a class="headerlink" href="#id485" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
</ul>
</section>
<section id="id486">
<h4>Example<a class="headerlink" href="#id486" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>::</dt><dd><p>AT+BLESECCANNEL=0</p>
</dd>
</dl>
</section>
</section>
<section id="at-blesecpasskeyconfirm">
<h3>AT+BLESECPASSKEYCONFIRM<a class="headerlink" href="#at-blesecpasskeyconfirm" title="Link to this heading"></a></h3>
<p>Function: BLE Pairing passkey confirm .</p>
<section id="id487">
<h4>Set Command<a class="headerlink" href="#id487" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>BLE Pairing passkey confirm .</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECPASSKEYCONFIRM</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id488">
<h4>Parameters<a class="headerlink" href="#id488" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
</ul>
</section>
<section id="id489">
<h4>Example<a class="headerlink" href="#id489" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>::</dt><dd><p>AT+BLESECPASSKEYCONFIRM=0</p>
</dd>
</dl>
</section>
</section>
<section id="at-blesecpairingconfirm">
<h3>AT+BLESECPAIRINGCONFIRM<a class="headerlink" href="#at-blesecpairingconfirm" title="Link to this heading"></a></h3>
<p>Function: BLE Pairing passkey comfirm .</p>
<section id="id490">
<h4>Set Command<a class="headerlink" href="#id490" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>BLE Pairing confirm .</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECPAIRINGCONFIRM</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id491">
<h4>Parameters<a class="headerlink" href="#id491" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
</ul>
</section>
<section id="id492">
<h4>Example<a class="headerlink" href="#id492" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>::</dt><dd><p>AT+BLESECPAIRINGCONFIRM=0</p>
</dd>
</dl>
</section>
</section>
<section id="at-blesecpasskey">
<h3>AT+BLESECPASSKEY<a class="headerlink" href="#at-blesecpasskey" title="Link to this heading"></a></h3>
<p>Function: BLE Pairing pass entry.</p>
<section id="id493">
<h4>Set Command<a class="headerlink" href="#id493" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>BLE Pairing pass entry.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECPASSKEY</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">passkey</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id494">
<h4>Parameters<a class="headerlink" href="#id494" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;passkey&gt;: pairing passkey. Range: [0,999999].</p></li>
</ul>
</section>
<section id="id495">
<h4>Example<a class="headerlink" href="#id495" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>::</dt><dd><p>AT+BLESECPASSKEY=0,123456</p>
</dd>
</dl>
</section>
</section>
<section id="at-blesecgetltklist">
<h3>AT+BLESECGETLTKLIST<a class="headerlink" href="#at-blesecgetltklist" title="Link to this heading"></a></h3>
<p>Function: Query BLE Paired deviceList.</p>
<section id="id496">
<h4>Query Command<a class="headerlink" href="#id496" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query BLE Paired deviceList.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLESECGETLTKLIST?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BTADDR</span> <span class="mi">12</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">78</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">11</span> <span class="p">(</span><span class="n">public</span><span class="p">)</span> <span class="n">LTK</span><span class="p">:</span><span class="mi">01234567890123456789012345678900</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blesecunpair">
<h3>AT+BLESECUNPAIR<a class="headerlink" href="#at-blesecunpair" title="Link to this heading"></a></h3>
<p>Function: BLE unpairing.</p>
<section id="id497">
<h4>Set Command<a class="headerlink" href="#id497" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>BLE unpairing.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECUNPAIR</span><span class="o">=&lt;</span><span class="n">address</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">addrtype</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id498">
<h4>Parameters<a class="headerlink" href="#id498" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;addr&gt;: BLE address.</p></li>
<li><p>&lt;addr_type&gt;: BLE address type.</p></li>
</ul>
</section>
<section id="id499">
<h4>Example<a class="headerlink" href="#id499" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>::</dt><dd><p>AT+BLESECUNPAIR=12:34:56:78:00:12,0</p>
</dd>
</dl>
</section>
</section>
<section id="at-blesecstart">
<h3>AT+BLESECSTART<a class="headerlink" href="#at-blesecstart" title="Link to this heading"></a></h3>
<p>Function: BLE start pairing.</p>
<section id="id500">
<h4>Set Command<a class="headerlink" href="#id500" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>BLE start pairing.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLESECSTART</span><span class="o">=&lt;</span><span class="n">conn_index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">sec_level</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<dl class="simple">
<dt>::</dt><dd><p>OK</p>
</dd>
</dl>
</section>
<section id="id501">
<h4>Parameters<a class="headerlink" href="#id501" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;sec_level&gt;: Security level. Range: [0,4].</p></li>
</ul>
</section>
<section id="id502">
<h4>Example<a class="headerlink" href="#id502" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>::</dt><dd><p>AT+BLESECSTART=0,4</p>
</dd>
</dl>
</section>
</section>
<section id="at-blebasinit">
<h3>AT+BLEBASINIT<a class="headerlink" href="#at-blebasinit" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Initialize the Bluetooth BAS profile.</p>
<section id="id503">
<h4>Execute Command<a class="headerlink" href="#id503" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEBASINIT</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blebasdeinit">
<h3>AT+BLEBASDEINIT<a class="headerlink" href="#at-blebasdeinit" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Deinitialize the Bluetooth BAS profile.</p>
<section id="id504">
<h4>Execute Command<a class="headerlink" href="#id504" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEBASDEINIT</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blebaslvlget">
<h3>AT+BLEBASLVLGET<a class="headerlink" href="#at-blebaslvlget" title="Link to this heading"></a></h3>
<p>Function: Query BLE BAS level.</p>
<section id="id505">
<h4>Query Command<a class="headerlink" href="#id505" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Query BLE BAS level.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>AT+BLEBASLVLGET?
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">BLE</span><span class="p">:</span><span class="n">BASLEVEL</span><span class="p">:</span><span class="mi">100</span> <span class="p">(</span><span class="n">level</span><span class="p">)</span>
<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-blebaslvlset">
<h3>AT+BLEBASLVLSET<a class="headerlink" href="#at-blebaslvlset" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Set BLE BAS level.</p>
<section id="setup-command">
<h4>Setup Command<a class="headerlink" href="#setup-command" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEBASLVLSET</span><span class="o">=&lt;</span><span class="n">conn</span> <span class="n">idx</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">level</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id506">
<h4>Parameters<a class="headerlink" href="#id506" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>&lt;conn_index&gt;: index of BLE connection. Range: [0,1].</p></li>
<li><p>&lt;level&gt;: battery level. Range: [0,100].</p></li>
</ul>
</section>
<section id="id507">
<h4>Example<a class="headerlink" href="#id507" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEBASLVLSET</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleiasinit">
<h3>AT+BLEIASINIT<a class="headerlink" href="#at-bleiasinit" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Initialize the Bluetooth IAS profile.</p>
<section id="id508">
<h4>Execute Command<a class="headerlink" href="#id508" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEIASINIT</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bleiasdeinit">
<h3>AT+BLEIASDEINIT<a class="headerlink" href="#at-bleiasdeinit" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Deinitialize the Bluetooth IAS profile.</p>
<section id="id509">
<h4>Execute Command<a class="headerlink" href="#id509" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEIASDEINIT</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bledisinit">
<h3>AT+BLEDISINIT<a class="headerlink" href="#at-bledisinit" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Initialize the Bluetooth DIS profile.</p>
<section id="id510">
<h4>Setup Command<a class="headerlink" href="#id510" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDISINIT</span><span class="o">=&lt;</span><span class="n">pnp_vid_src</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pnp_vid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pnp_pid</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">pnp_ver</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id511">
<h4>Parameters<a class="headerlink" href="#id511" title="Link to this heading"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt><strong>&lt;pnp_vid_src&gt;</strong></dt><dd><ul>
<li><p>range: &lt;0,255&gt;</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>&lt;pnp_vid&gt;</strong></dt><dd><ul>
<li><p>range: &lt;0,65535&gt;</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>&lt;pnp_pid&gt;</strong></dt><dd><ul>
<li><p>range: &lt;0,65535&gt;</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>&lt;pnp_ver&gt;</strong></dt><dd><ul>
<li><p>range: &lt;0,65535&gt;</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id512">
<h4>Example<a class="headerlink" href="#id512" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDISINIT</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">103</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bledisdeinit">
<h3>AT+BLEDISDEINIT<a class="headerlink" href="#at-bledisdeinit" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>Deinitialize the Bluetooth DIS profile.</p>
<section id="id513">
<h4>Execute Command<a class="headerlink" href="#id513" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDISDEINIT</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
<section id="at-bledisset">
<h3>AT+BLEDISSET<a class="headerlink" href="#at-bledisset" title="Link to this heading"></a></h3>
<p><strong>Function:</strong></p>
<p>SET the Bluetooth DIS profile.</p>
<section id="id514">
<h4>Setup Command<a class="headerlink" href="#id514" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDISSET</span><span class="o">=&lt;</span><span class="n">parameter_name</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">parameter_value</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">parameter_len</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id515">
<h4>Parameters<a class="headerlink" href="#id515" title="Link to this heading"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt><strong>&lt;parameter_name&gt;</strong>:</dt><dd><ul>
<li><p>manuf : Manufacturer Name String</p></li>
<li><p>model : Model Number String</p></li>
<li><p>serial : Serial Number String</p></li>
<li><p>fw : Firmware Revision String</p></li>
<li><p>hw : Hardware Revision String</p></li>
<li><p>sw : Software Revision String</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>&lt;parameter_value&gt;</strong></p></li>
<li><p><strong>&lt;parameter_len&gt;</strong> Range: [0,21].</p></li>
</ul>
</section>
<section id="id516">
<h4>Example<a class="headerlink" href="#id516" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">BLEDISSET</span><span class="o">=</span><span class="s2">&quot;manuf&quot;</span><span class="p">,</span><span class="s2">&quot;ST67W611M1&quot;</span><span class="p">,</span><span class="mi">10</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="low-power-function-at-command">
<h1>Low power function AT command<a class="headerlink" href="#low-power-function-at-command" title="Link to this heading"></a></h1>
<table class="docutils align-center" id="id557" style="width: 100%">
<caption><span class="caption-text">Instruction list</span><a class="headerlink" href="#id557" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#at-pwr">AT+PWR</a></p></td>
<td><p>Configure Power mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-slwkio">AT+SLWKIO</a></p></td>
<td><p>Configure GPIO as Wakeup Source</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-dewkio">AT+DEWKIO</a></p></td>
<td><p>Delete GPIO as Wakeup Source</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-slwktimer">AT+SLWKTIMER</a></p></td>
<td><p>Configure timer as Wakeup Source</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-slwkdtim">AT+SLWKDTIM</a></p></td>
<td><p>Configure DTIM</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-slcldtim">AT+SLCLDTIM</a></p></td>
<td><p>Delete DTIM config</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-twt-param">AT+TWT_PARAM</a></p></td>
<td><p>Setup TWT paramments</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-twt-sleep">AT+TWT_SLEEP</a></p></td>
<td><p>Enter TWT low power</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-twt-teardown">AT+TWT_TEARDOWN</a></p></td>
<td><p>Tear down twt</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#at-set-clock">AT+SET_CLOCK</a></p></td>
<td><p>Set 32Khz clock source</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#at-get-clock">AT+GET_CLOCK</a></p></td>
<td><p>Query 32Khz clock source</p></td>
</tr>
</tbody>
</table>
<section id="low-power-at-command-description">
<h2>Low power AT command description<a class="headerlink" href="#low-power-at-command-description" title="Link to this heading"></a></h2>
<section id="at-pwr">
<h3>AT+PWR<a class="headerlink" href="#at-pwr" title="Link to this heading"></a></h3>
<p>Function: Configure Power mode</p>
<section id="id517">
<h4>Execute Command<a class="headerlink" href="#id517" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">PWR</span><span class="o">=&lt;</span><span class="n">power</span> <span class="n">mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id518">
<h4>Parameters<a class="headerlink" href="#id518" title="Link to this heading"></a></h4>
<ul class="simple">
<li><dl class="simple">
<dt><strong>&lt;power mode&gt;</strong>:</dt><dd><ul>
<li><p>0: normal mode.</p></li>
<li><p>2: standby mode.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id519">
<h4>Example<a class="headerlink" href="#id519" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">PWR</span><span class="o">=</span><span class="mi">0</span>             <span class="o">//</span> <span class="n">Normal</span> <span class="n">mode</span>
<span class="n">AT</span><span class="o">+</span><span class="n">PWR</span><span class="o">=</span><span class="mi">2</span>             <span class="o">//</span> <span class="n">Standby</span> <span class="n">mode</span>
<span class="n">AT</span><span class="o">+</span><span class="n">PWR</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span>           <span class="o">//</span> <span class="n">Standby</span> <span class="n">mode</span><span class="p">,</span> <span class="n">enable</span> <span class="n">receive</span> <span class="n">broadcast</span> <span class="n">package</span>
</pre></div>
</div>
</section>
</section>
<section id="at-slwkio">
<h3>AT+SLWKIO<a class="headerlink" href="#at-slwkio" title="Link to this heading"></a></h3>
<p>Function: Configure GPIO as Wakeup Source.</p>
<section id="id520">
<h4>Execute Command<a class="headerlink" href="#id520" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLWKIO</span><span class="o">=&lt;</span><span class="n">wakeup</span> <span class="n">io</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">trigger</span> <span class="n">mode</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id521">
<h4>Parameters<a class="headerlink" href="#id521" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;wakeup io&gt;</strong>: GPIO wake-up IO number. supports only gpio 16 or gpio 28</p></li>
<li><dl class="simple">
<dt><strong>&lt;trigger mode&gt;</strong>: wakeup trigger Mode</dt><dd><ul>
<li><p>0: Wake-up by high level</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>NOTE:The current implementation uses a five-wire SPI low-power solution, so the wake-up method is not configurable and only supports high-level wake-up.</p>
</section>
</section>
<section id="at-dewkio">
<h3>AT+DEWKIO<a class="headerlink" href="#at-dewkio" title="Link to this heading"></a></h3>
<p>Function: Delete GPIO as Wakeup Source.</p>
<section id="id522">
<h4>Execute Command<a class="headerlink" href="#id522" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">DEWKIO</span><span class="o">=&lt;</span><span class="n">io</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id523">
<h4>Parameters<a class="headerlink" href="#id523" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;io&gt;</strong>: GPIO wake-up IO number.</p></li>
</ul>
</section>
</section>
<section id="at-slwktimer">
<h3>AT+SLWKTIMER<a class="headerlink" href="#at-slwktimer" title="Link to this heading"></a></h3>
<p>Function: Configure timer as Wakeup Source.</p>
<section id="id524">
<h4>Set Command<a class="headerlink" href="#id524" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLWKTIMER</span><span class="o">=&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">timeouts</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id525">
<h4>Parameter<a class="headerlink" href="#id525" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;mode&gt;</strong>: 0, standby mode</p></li>
<li><p><strong>&lt;timeouts&gt;</strong>: Set the wake-up duration in milliseconds. One-time wake-up timer, does not enter sleep again after waking up (unless a new wake-up timer is configured again)</p></li>
</ul>
</section>
<section id="id526">
<h4>Example<a class="headerlink" href="#id526" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLWKTIMER</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">5000</span>                       <span class="o">//</span><span class="n">Standby</span> <span class="n">mode</span><span class="p">,</span> <span class="n">Wake</span> <span class="n">up</span> <span class="n">once</span> <span class="nb">next</span> <span class="mi">5000</span><span class="n">ms</span>
</pre></div>
</div>
</section>
</section>
<section id="at-slwkdtim">
<h3>AT+SLWKDTIM<a class="headerlink" href="#at-slwkdtim" title="Link to this heading"></a></h3>
<p>Function: Configure DTIM as Wakeup Source</p>
<section id="id527">
<h4>Set Command<a class="headerlink" href="#id527" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLWKDTIM</span><span class="o">=&lt;</span><span class="n">dtim</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id528">
<h4>Parameter<a class="headerlink" href="#id528" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;dtim&gt;</strong>: Set the wakeup ditm.</p></li>
</ul>
</section>
<section id="id529">
<h4>Example<a class="headerlink" href="#id529" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLWKDTIM</span><span class="o">=</span><span class="mi">10</span>                      <span class="o">//</span> <span class="n">Set</span> <span class="n">ditm10</span> <span class="k">for</span> <span class="n">wakeup</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
<section id="at-slcldtim">
<h3>AT+SLCLDTIM<a class="headerlink" href="#at-slcldtim" title="Link to this heading"></a></h3>
<p>Function: Delete DTIM config</p>
<section id="id530">
<h4>Set Command<a class="headerlink" href="#id530" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLCLDTIM</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id531">
<h4>Example<a class="headerlink" href="#id531" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SLCLDTIM</span>
</pre></div>
</div>
</section>
</section>
<section id="at-twt-param">
<h3>AT+TWT_PARAM<a class="headerlink" href="#at-twt-param" title="Link to this heading"></a></h3>
<p>Function: Setup TWT paraments.</p>
<section id="id532">
<h4>Set Command<a class="headerlink" href="#id532" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">TWT_PARAM</span><span class="o">=&lt;</span><span class="n">setup</span> <span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">flow</span> <span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">exponent</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">wakeup</span> <span class="n">duration</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">wake</span> <span class="n">interval</span> <span class="n">mantissa</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id533">
<h4>Parameter<a class="headerlink" href="#id533" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Setup type (s):</strong> 0:REQUEST, 1:SUGGEST, 2:DEMAND.</p></li>
<li><p><strong>Flow type (t):</strong> 0:ANNOUNCED TWT, 1:UNANNOUNCED TWT. Only support unannounced twt.</p></li>
<li><p><strong>Wake Interval Exponent:</strong> Specifies the wake interval</p></li>
<li><p><strong>Wake Duration (n):</strong> Minimum wake duration in microseconds.</p></li>
<li><p><strong>Wake Interval Mantissa (m):</strong> Mantissa value for precise interval adjustments.</p></li>
<li><p><strong>Service Period (SP):</strong> SP = WakeDuration * 256us.</p></li>
<li><p><strong>Wakeup Interval:</strong> Wakeup Interval = wake_int_mantissa &lt;&lt; WakeIntervalExponent us.</p></li>
</ul>
</section>
<section id="id534">
<h4>Example<a class="headerlink" href="#id534" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">TWT_PARAM</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">1000</span>                       <span class="o">//</span><span class="n">SP</span> <span class="o">=</span> <span class="mf">32.768</span> <span class="n">ms</span><span class="p">,</span> <span class="n">Wake</span> <span class="n">Interval</span> <span class="o">=</span> <span class="mf">8.192</span> <span class="n">seconds</span><span class="p">:</span>
</pre></div>
</div>
</section>
<section id="id535">
<h4>Note<a class="headerlink" href="#id535" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>REQUEST Setup type: The target wake time filed of the TWT element is set to 0 as the responding STA/AP specifies the target wake time value in this case. Other fields are suggested by requesting STA.</p></li>
<li><p>SUGGEST Setup type: TWT requesting STA will suggest the target wake time and other parameters during setup. Responding STA may / may not acommodate the suggested value. TWT Connection will still be accepted with values suggested by requesting STA or the values provided by responding STA.</p></li>
<li><p>DEMAND Setup type: TWT requesting STA will demand the target wake time and other parameters during setup. If responding STA cannot acommodate the suggested value, TWT setup will fail.</p></li>
<li><p>Equation to calculate Service Period: Service Period (SP) =( &lt;wakeup duration&gt;/10 ) msec</p></li>
<li><p>Example: AT+TWT_PARAM=1,1,13,128,1000  : SP = (128/10) = 12.8 msec</p></li>
<li><p>Equation to calculate TWT Wake Interval: TWT Wake Interval = ((2^&lt;exponent&gt;)/&lt;wake interval mantissa&gt;)sec</p></li>
<li><p>Example: AT+TWT_PARAM=1,1,13,128,1000 : TWT Wake Interval = ((2^12)/1000) = 8.192s</p></li>
</ul>
</section>
</section>
<section id="at-twt-sleep">
<h3>AT+TWT_SLEEP<a class="headerlink" href="#at-twt-sleep" title="Link to this heading"></a></h3>
<p>Function: Enter TWT low power</p>
<section id="id536">
<h4>Set Command<a class="headerlink" href="#id536" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">TWT_SLEEP</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id537">
<h4>Example<a class="headerlink" href="#id537" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">TWT_SLEEP</span>
</pre></div>
</div>
</section>
</section>
<section id="at-twt-teardown">
<h3>AT+TWT_TEARDOWN<a class="headerlink" href="#at-twt-teardown" title="Link to this heading"></a></h3>
<p>Function: Teardown the Target Wake Time (TWT) session.</p>
<section id="id538">
<h4>Set Command<a class="headerlink" href="#id538" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">TWT_TEARDOWN</span><span class="o">=&lt;</span><span class="n">neg_type</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">all_twt</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">flow_id</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span>
</pre></div>
</div>
</section>
<section id="id539">
<h4>Parameters<a class="headerlink" href="#id539" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>&lt;neg_type&gt;</strong>: TWT negotiation type.</p>
<blockquote>
<div><ul class="simple">
<li><p>0: Individual negotiation (TWT teardown will be performed for the specified TWT flow).</p></li>
<li><p>1: Negotiate TWT teardown on the next wake TBTT (Target Beacon Transmission Time). Currently not supported.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;all_twt&gt;</strong>: Specifies whether to teardown all TWT flows.</p>
<blockquote>
<div><ul class="simple">
<li><p>0: Teardown only the specified TWT flow (specified by &lt;flow_id&gt; parameter).</p></li>
<li><p>1: Teardown all existing TWT flows.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>&lt;flow_id&gt;</strong>: The TWT flow ID to be torn down. This parameter is required when &lt;all_twt&gt; is set to 0.</p></li>
</ul>
</section>
<section id="id540">
<h4>Notes<a class="headerlink" href="#id540" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Internal RC errors can result in wake interval inaccuracies (e.g., 60 ms deviation over 30 seconds).</p></li>
<li><p><strong>External Oscillator Requirement:</strong> Testing must be conducted on boards with external crystal oscillators to minimize RTC clock deviation.</p></li>
<li><p><strong>*Router Compatibility:</strong> Use a TWT-compatible router for testing (e.g., TP-Link AX5400).</p></li>
<li><p>Currently, only Individual negotiation type (0) is supported.</p></li>
<li><p>When &lt;all_twt&gt;=1, the &lt;flow_id&gt; parameter is not needed.</p></li>
<li><p>The device must be in TWT mode before using this command.</p></li>
</ul>
</section>
<section id="id541">
<h4>Example<a class="headerlink" href="#id541" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Teardown</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">TWT</span> <span class="n">flow</span> <span class="k">with</span> <span class="n">ID</span> <span class="mi">1</span>
<span class="n">AT</span><span class="o">+</span><span class="n">TWT_TEARDOWN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>

<span class="o">//</span> <span class="n">Teardown</span> <span class="nb">all</span> <span class="n">TWT</span> <span class="n">flows</span>
<span class="n">AT</span><span class="o">+</span><span class="n">TWT_TEARDOWN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-set-clock">
<h3>AT+SET_CLOCK<a class="headerlink" href="#at-set-clock" title="Link to this heading"></a></h3>
<p>Function: Set 32 KHz clock source.</p>
<section id="id542">
<h4>Set Command<a class="headerlink" href="#id542" title="Link to this heading"></a></h4>
<p><strong>Function:</strong></p>
<p>Set 32 KHz clock source.</p>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SET_CLOCK</span><span class="o">=&lt;</span><span class="n">clock_source</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id543">
<h4>Parameters<a class="headerlink" href="#id543" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;clock_source&gt;</strong>:</p>
<ul>
<li><p>1: Internal RC oscillator</p></li>
<li><p>2: External passive crystal</p></li>
<li><p>3: External active crysta</p></li>
</ul>
</li>
</ul>
</section>
<section id="id544">
<h4>Example<a class="headerlink" href="#id544" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">SET_CLOCK</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</section>
</section>
<section id="at-get-clock">
<h3>AT+GET_CLOCK<a class="headerlink" href="#at-get-clock" title="Link to this heading"></a></h3>
<p>Function: Query 32Khz clock source.</p>
<section id="id545">
<h4>Query Command<a class="headerlink" href="#id545" title="Link to this heading"></a></h4>
<p><strong>Command:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">GET_CLOCK</span>
</pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">GET_CLOCK</span><span class="p">:</span><span class="o">&lt;</span><span class="n">clock_source</span><span class="o">&gt;</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
<section id="id546">
<h4>Parameters<a class="headerlink" href="#id546" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>&lt;clock_source&gt;</strong>: The clock source used by ST67W611M1.</p></li>
</ul>
</section>
<section id="id547">
<h4>Example<a class="headerlink" href="#id547" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">GET_CLOCK</span>

<span class="o">//</span> <span class="n">Response</span>
<span class="o">+</span><span class="n">GET_CLOCK</span><span class="p">:</span><span class="mi">1</span>

<span class="n">OK</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="generate-romfs-bin">
<h2>Generate romfs.bin<a class="headerlink" href="#generate-romfs-bin" title="Link to this heading"></a></h2>
<p>Firstly, you need to create a new romfs folder and place the certificate files that need to be burned in the romfs directory</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>romfs$
ca_01.crt  cert_01.crt  private_01.key
</pre></div>
</div>
<p>Then, use the genromfs tool in the SDK directory to generate romfs.bin. You can add commands in Makefile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$(shell ./tools/genromfs -d romfs/ -f ./build/build_out/romfs.bin)
</pre></div>
</div>
<p>Add the option to download romfs partition in the flash configuration file flash_prog_cfg.ini:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#media factory</span>
<span class="p">[</span><span class="n">romfs</span><span class="p">]</span>
<span class="n">filedir</span> <span class="o">=</span> <span class="o">./</span><span class="n">build</span><span class="o">/</span><span class="n">build_out</span><span class="o">/</span><span class="n">romfs</span><span class="o">.</span><span class="n">bin</span>
<span class="n">address</span> <span class="o">=</span> <span class="mh">0x378000</span>
</pre></div>
</div>
<p>The address filed is the address of the media partition in the partition table. The path to the partition table is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bsp</span><span class="o">/</span><span class="n">board</span><span class="o">/&lt;</span><span class="n">chip_name</span><span class="o">&gt;/</span><span class="n">config</span><span class="o">/</span><span class="n">partition_cfg_4M</span><span class="o">.</span><span class="n">toml</span>
<span class="ow">or</span>
<span class="n">bsp</span><span class="o">/</span><span class="n">board</span><span class="o">/&lt;</span><span class="n">chip_name</span><span class="o">&gt;/</span><span class="n">config_8M</span><span class="o">/</span><span class="n">partition_cfg_8M</span><span class="o">.</span><span class="n">toml</span>
</pre></div>
</div>
<p>Last, after executing the command line firmware download command, the romfs.bin file will also be download into the chip.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">flash</span> <span class="n">CHIP</span><span class="o">=</span><span class="n">qcc743</span> <span class="n">COMX</span><span class="o">=&lt;</span><span class="n">com_port</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="mqtt-local-service-setup">
<h1>MQTT local service setup<a class="headerlink" href="#mqtt-local-service-setup" title="Link to this heading"></a></h1>
<ol class="arabic simple">
<li><p>Install mosquitto</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">mosquitto</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Passwd set</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mosquitto_passwd</span> <span class="o">-</span><span class="n">c</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">mosquitto</span><span class="o">/</span><span class="n">passwd</span> <span class="n">ST67W611M1</span>
</pre></div>
</div>
<p>Enter the password twice, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">123456789</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Configure certificate</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="p">{</span><span class="n">case_path</span><span class="p">}</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">server_1</span><span class="o">.</span><span class="n">crt</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">mosquitto</span><span class="o">/</span><span class="n">server_1</span><span class="o">.</span><span class="n">crt</span>

<span class="n">cp</span> <span class="p">{</span><span class="n">case_path</span><span class="p">}</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">server_1</span><span class="o">.</span><span class="n">key</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">mosquitto</span><span class="o">/</span><span class="n">server_1</span><span class="o">.</span><span class="n">key</span>

<span class="n">cp</span> <span class="p">{</span><span class="n">case_path</span><span class="p">}</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">ca_1</span><span class="o">.</span><span class="n">crt</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">mosquitto</span><span class="o">/</span><span class="n">ca_1</span><span class="o">.</span><span class="n">crt</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Start MQTT service</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mosquitto</span> <span class="o">-</span><span class="n">c</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">mosquitto</span><span class="o">/</span><span class="n">mosquitto</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>PC subscription to a topic</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mosquitto_sub</span> <span class="o">-</span><span class="n">h</span> <span class="mf">192.168.31.156</span> <span class="o">-</span><span class="n">u</span> <span class="n">ST67W611M1</span> <span class="o">-</span><span class="n">P</span> <span class="mi">123456789</span> <span class="o">--</span><span class="n">cafile</span> <span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">ca_1</span><span class="o">.</span><span class="n">crt</span> <span class="o">--</span><span class="n">cert</span> <span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">client_1</span><span class="o">.</span><span class="n">crt</span> <span class="o">--</span><span class="n">key</span> <span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">client_1</span><span class="o">.</span><span class="n">key</span> <span class="o">-</span><span class="n">t</span> <span class="s2">&quot;test/topic1&quot;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">version</span> <span class="n">tlsv1</span><span class="mf">.2</span> <span class="o">--</span><span class="n">insecure</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>ST67W611M1 User Configuration</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTUSERCFG</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s2">&quot;ST67_01&quot;</span><span class="p">,</span><span class="s2">&quot;ST67W611M1&quot;</span><span class="p">,</span><span class="s2">&quot;123456789&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.crt&quot;</span><span class="p">,</span><span class="s2">&quot;client_1.key&quot;</span><span class="p">,</span><span class="s2">&quot;ca_1.crt&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>ST67W611M1 connect to MQTT Brokers.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTCONN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;192.168.31.156&quot;</span><span class="p">,</span><span class="mi">8883</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li><p>ST67W611M1 publish a message</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTPUB</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;test/topic1&quot;</span><span class="p">,</span><span class="s2">&quot;This is a MQTT test&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li><p>ST67W611M1 subscription to a topic</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">MQTTSUB</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;test/topic2&quot;</span><span class="p">,</span><span class="mi">0</span>
</pre></div>
</div>
<ol class="arabic simple" start="10">
<li><p>PC publish a message</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mosquitto_pub</span> <span class="o">-</span><span class="n">h</span> <span class="mf">192.168.31.156</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8883</span> <span class="o">-</span><span class="n">u</span> <span class="n">ST67W611M1</span> <span class="o">-</span><span class="n">P</span> <span class="mi">123456789</span> <span class="o">--</span><span class="n">cafile</span> <span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">ca_1</span><span class="o">.</span><span class="n">crt</span> <span class="o">--</span><span class="n">cert</span> <span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">client_1</span><span class="o">.</span><span class="n">crt</span> <span class="o">--</span><span class="n">key</span> <span class="n">lfs</span><span class="o">/</span><span class="n">lfs</span><span class="o">/</span><span class="n">client_1</span><span class="o">.</span><span class="n">key</span> <span class="o">-</span><span class="n">t</span> <span class="s2">&quot;test/topic2&quot;</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Hello MQTT&quot;</span> <span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">version</span> <span class="n">tlsv1</span><span class="mf">.2</span> <span class="o">--</span><span class="n">insecure</span>
</pre></div>
</div>
</section>
<section id="mqtt-tls-schemes-with-hivemq">
<h1>MQTT TLS schemes with HiveMQ<a class="headerlink" href="#mqtt-tls-schemes-with-hivemq" title="Link to this heading"></a></h1>
<section id="verification-steps-for-the-serverless-version">
<h2>Verification Steps for the Serverless Version<a class="headerlink" href="#verification-steps-for-the-serverless-version" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Download the broker Root CA certificate from HiveMQ (isrgrootx1.pem) and place it in the folder:</p></li>
</ol>
<p>examples/wifi/spi_wifi/lfs/lfs/isrgrootx1.pem</p>
<ol class="arabic simple" start="2">
<li><p>In the folder examples/wifi/spi_wifi/, run make to rebuild the project and use the QConn_Flash tool to flash the image.</p></li>
<li><p>In the HiveMQ web console, create a broker under a serverless plan and set up the corresponding credentials (for example, username = ST67W611M1, password = 123456789, with permission set to publish &amp; subscribe). Please refer to the official HiveMQ documentation for this step.</p></li>
<li><p>Connect the ST67W611M1 to the WiFi AP (adjust the SSID and password as needed):</p></li>
</ol>
<p>AT+CWMODE=1</p>
<p>AT+CWJAP=8E88,</p>
<ol class="arabic simple" start="5">
<li><p>Configure MQTT user settings:</p></li>
</ol>
<p>AT+MQTTUSERCFG=0,2,ST67_01,ST67W611M1,123456789,,,isrgrootx1.pem (0 indicates the local client index; 2 specifies the use of one-way TLS where the client verifies the servers certificate; ST67_01 is the MQTT client ID; ST67W611M1/123456789 are the username and password set up on the console; isrgrootx1.pem is the broker Root CA.)</p>
<ol class="arabic simple" start="6">
<li><p>Configure MQTT SSL/TLS SNI. It has been proven in practice that SNI must be set, otherwise the connection will fail (possibly because the HiveMQ broker uses SNI to identify the correct broker instance):</p></li>
</ol>
<p>AT+MQTTSNI=0,8f3ef71da5bf445eb0669e56eecef396.s1.eu.hivemq.cloud</p>
<ol class="arabic simple" start="7">
<li><p>Configure MQTT connection properties:</p></li>
</ol>
<p>AT+MQTTCONNCFG=0,120,0,,,0,0 (0 indicates the local client index; 120 is the MQTT client keepalive time in seconds; the 0 means clean session is disabled.)</p>
<ol class="arabic simple" start="8">
<li><p>Initiate the MQTT connection:</p></li>
</ol>
<p>AT+MQTTCONN=0,8f3ef71da5bf445eb0669e56eecef396.s1.eu.hivemq.cloud,8883,0 (Note: The host and port information provided must match with the HiveMQ broker console.)</p>
<ol class="arabic simple" start="9">
<li><p>Subscribe to all topics:</p></li>
</ol>
<p>AT+MQTTSUB=0,#,0</p>
<ol class="arabic simple" start="10">
<li><p>Publish a topic message:</p></li>
</ol>
<p>AT+MQTTPUB=0,/test/ST67_01,Whats up guys,0,0</p>
</section>
<section id="verification-steps-for-the-starter-version">
<h2>Verification Steps for the Starter Version<a class="headerlink" href="#verification-steps-for-the-starter-version" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Download the broker Root CA certificate (isrgrootx1.pem) from HiveMQ and place it in the folder:</p></li>
</ol>
<p>examples/wifi/spi_wifi/lfs/lfs/isrgrootx1.pem</p>
<ol class="arabic simple" start="2">
<li><p>In the folder examples/wifi/spi_wifi/, run make to rebuild the project and use the QConn_Flash tool to flash the image.</p></li>
<li><p>In the HiveMQ web console, create a broker under a starter plan and set up the corresponding credentials (for example, username = ST67W611M1, password = 123456789, with permission set to publish &amp; subscribe). Also, add ca_1.crt as the Root CA for verifying device certificates to the broker. Please refer to the official HiveMQ documentation for this step.</p></li>
<li><p>Connect the ST67W611M1 to the WiFi AP (adjust the SSID and password as needed):</p></li>
</ol>
<p>AT+CWMODE=1</p>
<p>AT+CWJAP=8E88,</p>
<ol class="arabic simple" start="5">
<li><p>Configure MQTT user settings:</p></li>
</ol>
<p>AT+MQTTUSERCFG=0,4,ST67_01,ST67W611M1,123456789,client_1.crt,client_1.key,isrgrootx1.pem (0 indicates the local client index; 4 specifies the use of two-way TLS; changeme is the MQTT client_id; ST67W611M1/123456789 are the username and password set up on the console; client_1.crt is the devices x509 certificate issued by ca_1; client_1.key is the key matching the device certificate; isrgrootx1.pem is the broker Root CA.)</p>
<ol class="arabic simple" start="6">
<li><p>Configure MQTT SSL/TLS SNI. It has been proven in practice that SNI must be set, otherwise the connection will fail (possibly because the HiveMQ broker uses SNI to identify which broker instance to use):</p></li>
</ol>
<p>AT+MQTTSNI=0,indigosquash-2lk628.a02.usw2.aws.hivemq.cloud</p>
<ol class="arabic simple" start="7">
<li><p>Configure MQTT connection properties:</p></li>
</ol>
<p>AT+MQTTCONNCFG=0,120,0,,,0,0 (0 indicates the local client index; 120 is the MQTT client keepalive time; 0 disables clean session.)</p>
<ol class="arabic simple" start="8">
<li><p>Initiate the MQTT connection:</p></li>
</ol>
<p>AT+MQTTCONN=0,indigosquash-2lk628.a02.usw2.aws.hivemq.cloud,8883,0 (Note: The host and port here must match the information provided in the HiveMQ broker console.)</p>
<ol class="arabic simple" start="9">
<li><p>Subscribe to all topics:</p></li>
</ol>
<p>AT+MQTTSUB=0,#,0</p>
<ol class="arabic simple" start="10">
<li><p>Publish a topic message:</p></li>
</ol>
<p>AT+MQTTPUB=0,/test/ST67W611M1,Whats up guys,0,0</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Qualcomm.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>